{
    "id": "5397ae63aae2c281f984666e8ce2ce5b",
    "messages": [
        "a9b326df4e6da61c5b6f5e1058be83a2 (04:11): a question",
        "1f8387eb43f131d7c309a90a4e36b5cb (04:12): an answer",
        "a9b326df4e6da61c5b6f5e1058be83a2 (04:12): heh",
        "a9b326df4e6da61c5b6f5e1058be83a2 (04:12): why is it that WebGL needs TypedArray but canvas 2D context does not?",
        "a9b326df4e6da61c5b6f5e1058be83a2 (04:13): what's different about that 3D api that requires binary support?",
        "ab7faae5d7b250ea8606486575f8f79c (04:13): The only large arrays in the 2D context are pixel arrays, which are just arrays of octets and therefore easy",
        "ab7faae5d7b250ea8606486575f8f79c (04:13): 3D needs large arrays of floats (vertex coordinates), shorts (vertex array indices), etc",
        "ab7faae5d7b250ea8606486575f8f79c (04:14): and large arrays of different types interleaved",
        "ab7faae5d7b250ea8606486575f8f79c (04:14): (so each array element can encode all the data for a vertex)",
        "65325d50b2e25aca54bc871b89758c9c (04:16): yeah, ImageData is in fact a typed array",
        "65325d50b2e25aca54bc871b89758c9c (04:16): it's just that you don't need more than that",
        "a9b326df4e6da61c5b6f5e1058be83a2 (04:35): ab7faae5d7b250ea8606486575f8f79c, 65325d50b2e25aca54bc871b89758c9c - I see, thanks",
        "a9b326df4e6da61c5b6f5e1058be83a2 (04:36): I think it would be good for vlad to consider adding that as informative background to the Introduction section of the TypedArray spec",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:39): how should i detect if a file is an SRT file: by a whitelist of MIME types, by searching for --&gt; on the second non-blank line, by looking for a magic string (which would work for WebSRT but would mean plain SRT files need a trivial modification to be used), some combination thereof, or by some other mechanism?",
        "a9b326df4e6da61c5b6f5e1058be83a2 (04:41): le",
        "a9b326df4e6da61c5b6f5e1058be83a2 (04:41): it would seem like something that did not rely on sniffing would be preferable",
        "a9b326df4e6da61c5b6f5e1058be83a2 (04:41): so, whitelist of MIME types",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:41): that's still a kind of sniffing",
        "a9b326df4e6da61c5b6f5e1058be83a2 (04:42): OK, so that type",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:42): k",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:42): (the problem with &quot;sniffing&quot; is not that it's in-band, but that it's not interoperable)",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:42): (this would be interoperable)",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:43): if there's no MIME type, do I assume WebSRT or do I bail?",
        "a9b326df4e6da61c5b6f5e1058be83a2 (04:46): playing devil's advocate for architectural-purity/sanity advocates: I guess I would suggest that you bail",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:46): well there are quite practical reasons to bail too",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:46): i just don't know if they overwhelm the practical reasons not to bail",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:46): in practice, most resources have a mime type",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:46): it's rare that none be given",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:47): (it's usually text/plain or text/html, if it's wrong)",
        "65325d50b2e25aca54bc871b89758c9c (04:48): I think any fallback behavior is ok as long as it's defined",
        "65325d50b2e25aca54bc871b89758c9c (04:48): whether that is hard fail or some kind of sniffing",
        "a9b326df4e6da61c5b6f5e1058be83a2 (04:48): yeah but I guess they are not so rare enough to have not cause serious problems in the past",
        "65325d50b2e25aca54bc871b89758c9c (04:48): the interop problem is mainly if you don't define it",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:48): indeed",
        "a9b326df4e6da61c5b6f5e1058be83a2 (04:48): e.g., like that Apache default being to treat everything as text/plain even it if doesn't have a MIME type",
        "65325d50b2e25aca54bc871b89758c9c (04:48): which is why so much video still gets served as text/plain",
        "65325d50b2e25aca54bc871b89758c9c (04:49): the more kinds of resources get sniffed, the harder it is to verify that the full set of sniffing algorithms does not have holes",
        "65325d50b2e25aca54bc871b89758c9c (04:49): therefore I would advocate not doing sniffing for new kinds of formats if there isn't a deep need for it",
        "65325d50b2e25aca54bc871b89758c9c (04:49): (and by &quot;holes&quot; I mean opportunity to make things get sniffed multiple ways to create a security hole)",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:50): makes sense",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:50): i guess",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:50): i dunno",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:50): i kinda like unambiguously self-describing formats",
        "a9b326df4e6da61c5b6f5e1058be83a2 (04:51): in general for new specs it seems like the most sane thing for interop is being as unforgiving as possible",
        "a9b326df4e6da61c5b6f5e1058be83a2 (04:51): and keep the option open of adding forgiveness later",
        "a9b326df4e6da61c5b6f5e1058be83a2 (04:55): I wonder if the Typed Arrays spec draft is the first to ever include a section explicitly titled with &quot;Bikeshedding&quot;",
        "a9b326df4e6da61c5b6f5e1058be83a2 (04:55): regardless, I like it. So I hope it starts a trend",
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:02): so does it seem like browser implementors are going to be satisfied with the Typed Arrays spec as a binary-data API in general (rather than just specifically for the WebGL case)?",
        "69b0d3dfe919a6b860a9fac82de52a7e (05:03): bbiab"
    ],
    "person_ids": [
        "a9b326df4e6da61c5b6f5e1058be83a2",
        "1f8387eb43f131d7c309a90a4e36b5cb",
        "ab7faae5d7b250ea8606486575f8f79c",
        "65325d50b2e25aca54bc871b89758c9c",
        "69b0d3dfe919a6b860a9fac82de52a7e"
    ]
}