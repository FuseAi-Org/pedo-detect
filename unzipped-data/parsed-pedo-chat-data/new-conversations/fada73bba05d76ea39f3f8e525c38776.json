{
    "id": "fada73bba05d76ea39f3f8e525c38776",
    "messages": [
        "bddfdb28870c5800d938fa0993c46d65 (11:13): Hi 72af1cb61d47fcc5d18402bf3d1c147d. sorry, was away from my machine.",
        "72af1cb61d47fcc5d18402bf3d1c147d (11:13): no problem :-)",
        "72af1cb61d47fcc5d18402bf3d1c147d (11:13): hi",
        "72af1cb61d47fcc5d18402bf3d1c147d (11:13): I have a problem to show you",
        "bddfdb28870c5800d938fa0993c46d65 (11:14): What kind of?",
        "72af1cb61d47fcc5d18402bf3d1c147d (11:14): CSS 2.1 says all @import should occur before all other rules except @charset",
        "72af1cb61d47fcc5d18402bf3d1c147d (11:15): but Namespaces module also says @namespace must occur only after @import rules",
        "72af1cb61d47fcc5d18402bf3d1c147d (11:15): so if we have the following",
        "72af1cb61d47fcc5d18402bf3d1c147d (11:15): @namespace url(...);",
        "72af1cb61d47fcc5d18402bf3d1c147d (11:15): @import foo.html;",
        "72af1cb61d47fcc5d18402bf3d1c147d (11:15): which one is invalid ?",
        "72af1cb61d47fcc5d18402bf3d1c147d (11:15): :-)",
        "e3fb62ebfa4f36acf5cbff6a6ed0f2e0 (11:15): the first",
        "e3fb62ebfa4f36acf5cbff6a6ed0f2e0 (11:16): the second is dropped",
        "72af1cb61d47fcc5d18402bf3d1c147d (11:16): is asked &quot;invalid&quot;",
        "72af1cb61d47fcc5d18402bf3d1c147d (11:16): I asked",
        "72af1cb61d47fcc5d18402bf3d1c147d (11:16): you say 1st is valid and 2nd invalid",
        "e3fb62ebfa4f36acf5cbff6a6ed0f2e0 (11:16): and for @namespace url(...); @import foo; @namespace x url(...); only the second is dropped",
        "72af1cb61d47fcc5d18402bf3d1c147d (11:16): right ?",
        "e3fb62ebfa4f36acf5cbff6a6ed0f2e0 (11:16): yes",
        "e3fb62ebfa4f36acf5cbff6a6ed0f2e0 (11:17): because in your example there is no @import rule",
        "bddfdb28870c5800d938fa0993c46d65 (11:17): Ah, the &quot;which&quot; was never a question when we designed that. :-)  It's invalid, that's all. But I guess you want to &quot;save&quot; as much of the invalid style sheet as possible...",
        "e3fb62ebfa4f36acf5cbff6a6ed0f2e0 (11:17): at the object level",
        "72af1cb61d47fcc5d18402bf3d1c147d (11:17): ok validity at parse time takes precedence over prose",
        "e3fb62ebfa4f36acf5cbff6a6ed0f2e0 (11:17): annoyingly CSS is mostly described in terms of syntax so this distinction is not quite clear",
        "72af1cb61d47fcc5d18402bf3d1c147d (11:17): I wondered if a clarification or an example is not needed here",
        "72af1cb61d47fcc5d18402bf3d1c147d (11:19): in the namespaces module for instance",
        "bddfdb28870c5800d938fa0993c46d65 (11:20): Considering that most parsers parse from start to end and probably already did a bit of work when they found the &quot;;&quot; after @namespace, it's probably best to keep the @namespace and drop the @import.",
        "72af1cb61d47fcc5d18402bf3d1c147d (11:21): yes, it would require lookahead or lookback otherwise",
        "72af1cb61d47fcc5d18402bf3d1c147d (11:21): ok just wanted to make sure we're all on same track here",
        "72af1cb61d47fcc5d18402bf3d1c147d (11:21): I asked because I am implementing a css parser right now",
        "72af1cb61d47fcc5d18402bf3d1c147d (11:22): preserving unknown rules",
        "72af1cb61d47fcc5d18402bf3d1c147d (11:22): comments",
        "72af1cb61d47fcc5d18402bf3d1c147d (11:22): and even whitespaces on demand",
        "bddfdb28870c5800d938fa0993c46d65 (11:22): @namespace doesn't exist in CSS 2.1, so the most obvious place for a clarification would be the Namespace module.",
        "72af1cb61d47fcc5d18402bf3d1c147d (11:23): well",
        "bddfdb28870c5800d938fa0993c46d65 (11:23): I did some error-recovery experiments last week, using Yacc. But I want to try in Java next, because Yacc/Lex isn't very handy with UTF-8 input...",
        "72af1cb61d47fcc5d18402bf3d1c147d (11:23): could also be a note in css 2.1 saying that validity in a sheet is verified at parse time, in chronological order of the rules",
        "e3fb62ebfa4f36acf5cbff6a6ed0f2e0 (11:23): I'm not at all convinced we can even discuss that it is not clear, but I'm willing to add examples",
        "72af1cb61d47fcc5d18402bf3d1c147d (11:24): e3fb62ebfa4f36acf5cbff6a6ed0f2e0: agreed, the prose is clear ; but the way a css parser should be implemented is not...",
        "bddfdb28870c5800d938fa0993c46d65 (11:25): I don't know yet if it is already clear. Have to look at the text first. Just saying *if* we need a clarification about @namespace and @import, I'd expect it in Namespaces.",
        "e3fb62ebfa4f36acf5cbff6a6ed0f2e0 (11:25): I'm not sure about that either, though I will conceed that CSS parsing is way more complicated than it should've been",
        "e3fb62ebfa4f36acf5cbff6a6ed0f2e0 (11:25): but that's not my fault",
        "72af1cb61d47fcc5d18402bf3d1c147d (11:25): nobody said it's your fault",
        "72af1cb61d47fcc5d18402bf3d1c147d (11:25): :)",
        "72af1cb61d47fcc5d18402bf3d1c147d (11:26): anyway, bddfdb28870c5800d938fa0993c46d65, e3fb62ebfa4f36acf5cbff6a6ed0f2e0, I wanted to raise the point since I hit the question myself implementing my parser",
        "bddfdb28870c5800d938fa0993c46d65 (11:27): What's complicated is just the attempts to recover from errors by second-guessing the author that we bolted on afterwards. It's very easy to know if something is right or wrong.",
        "e3fb62ebfa4f36acf5cbff6a6ed0f2e0 (11:27): neh, what's complicated is that you can escape ASCII syntax for no reason",
        "e3fb62ebfa4f36acf5cbff6a6ed0f2e0 (11:27): e.g. the enormous amounts of ways you can write url() is just disturbing",
        "e3fb62ebfa4f36acf5cbff6a6ed0f2e0 (11:27): or any given property name for that matter",
        "e3fb62ebfa4f36acf5cbff6a6ed0f2e0 (11:29): the reason the error recovery rules are complex is because they are bolt-on on top of the grammar",
        "72af1cb61d47fcc5d18402bf3d1c147d (11:30): absolutely"
    ],
    "person_ids": [
        "bddfdb28870c5800d938fa0993c46d65",
        "72af1cb61d47fcc5d18402bf3d1c147d",
        "e3fb62ebfa4f36acf5cbff6a6ed0f2e0"
    ]
}