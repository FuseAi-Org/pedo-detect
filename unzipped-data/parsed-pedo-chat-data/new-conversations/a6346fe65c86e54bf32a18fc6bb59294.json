{
    "id": "a6346fe65c86e54bf32a18fc6bb59294",
    "messages": [
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:36): 69b0d3dfe919a6b860a9fac82de52a7e: I'm writing &lt;select required&gt; checking for the validator and I the spec seems quite clear but I want to doublecheck",
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:36): so, question:",
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:36): the following should be valid, right?",
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:36): &lt;select required&gt;",
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:36): &lt;option&gt;&lt;/option&gt;",
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:36): &lt;/select&gt;",
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:37): and the following should not be?",
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:37): &lt;select required&gt;",
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:37): &lt;option value=1&gt;foo&lt;/option&gt;",
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:37): &lt;/select&gt;",
        "69b0d3dfe919a6b860a9fac82de52a7e (05:37): i assume we're ignoring the &lt;option&gt; here, right? attribute-wise?",
        "69b0d3dfe919a6b860a9fac82de52a7e (05:37): or should i check the option requirements too",
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:38): there are not requirements on the option in that case, as far as I can see",
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:38): so, no, anyway, you don't need to check the option requirements for that first case",
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:38): I just meant is is valid as far as the select goes",
        "69b0d3dfe919a6b860a9fac82de52a7e (05:38): in the first case, the option has to have a value=&quot;&quot; if its contents aren't &quot;&quot;.",
        "69b0d3dfe919a6b860a9fac82de52a7e (05:39): the second one is invalid, indeed",
        "69b0d3dfe919a6b860a9fac82de52a7e (05:39): so yes, valid and not valid",
        "69b0d3dfe919a6b860a9fac82de52a7e (05:40): the first might want to emit a warning that the author probably forgot to give the text of the placeholder label option",
        "69b0d3dfe919a6b860a9fac82de52a7e (05:40): dunno how much linting you're doing",
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:40): OK",
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:40): hmm",
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:41): but now I do think I'm misunderstanding something",
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:41): which ish, how do you give the text of the placeholder label option",
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:41): looks back at the spec",
        "69b0d3dfe919a6b860a9fac82de52a7e (05:41): in the label=&quot;&quot; or textContent of the &lt;option&gt;",
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:42): ok",
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:43): but the spec says, &quot;if the value of the first option element in the select element's list of options (if any) is the empty string, and that option element's parent node is the select element (and not an optgroup element), then that option is the select element's placeholder label option.&quot;",
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:43): should that be &quot;is *not* the empty string&quot;?",
        "69b0d3dfe919a6b860a9fac82de52a7e (05:44): sorry afk brb",
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:44): ok",
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:51): 69b0d3dfe919a6b860a9fac82de52a7e: (when you get back), so it seems like maybe it should say that the value attribute is empty (or not specified), but the option must have textContent",
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:55): because, unless I'm missing something, I don't see how the option element can serve as an actual placeholder label option if the &quot;value of the option element&quot; (= &quot;the value of the value attribute, if there is one, or the textContent of the element, if there isn't&quot;) has to be the empty string",
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:59): in other words, the current spec text seems to require the following to be reported as invalid",
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:59): &lt;select required&gt;",
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:59): &lt;option&gt;Choose one of the following&lt;/option&gt;",
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:59): &lt;option value=1&gt;foo&lt;/option&gt;",
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:59): &lt;option value=2&gt;bar&lt;/option&gt;",
        "a9b326df4e6da61c5b6f5e1058be83a2 (05:59): &lt;/select&gt;",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:01): because it must have a placeholder label option, but the value of the first option element is not the empty string, so it does not have a placeholder label option",
        "69b0d3dfe919a6b860a9fac82de52a7e (06:12): a9b326df4e6da61c5b6f5e1058be83a2: back",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:12): hey",
        "69b0d3dfe919a6b860a9fac82de52a7e (06:13): a9b326df4e6da61c5b6f5e1058be83a2: right, if you have required in that case you also have to have &lt;option value=&quot;&quot;&gt;label&lt;/option&gt;",
        "69b0d3dfe919a6b860a9fac82de52a7e (06:13): required=&quot;&quot;, i mean",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:13): ok",
        "69b0d3dfe919a6b860a9fac82de52a7e (06:13): because otherwise there's no point having required=&quot;&quot; -- it'd be required anyway",
        "69b0d3dfe919a6b860a9fac82de52a7e (06:13): you can't _not_ give a value in that case",
        "69b0d3dfe919a6b860a9fac82de52a7e (06:13): so marking it required=&quot;&quot; is worthless",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:13): right, but that's not what the spec seems to say",
        "69b0d3dfe919a6b860a9fac82de52a7e (06:14): oh?",
        "69b0d3dfe919a6b860a9fac82de52a7e (06:14): looks",
        "69b0d3dfe919a6b860a9fac82de52a7e (06:14): in that case, it doesn't have a placeholder label option, and it must have a placeholder label option, right?",
        "69b0d3dfe919a6b860a9fac82de52a7e (06:15): it doesn't have one because the value of the first option is &quot;1&quot;, so the first option is not a placeholder label option",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:15): oh",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:16): but the first option has no value attribute\u201a\u00c4\u00b6",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:16): the value of the second option is 1",
        "69b0d3dfe919a6b860a9fac82de52a7e (06:16): oh",
        "69b0d3dfe919a6b860a9fac82de52a7e (06:16): sorry",
        "69b0d3dfe919a6b860a9fac82de52a7e (06:16): i mean the value of the first option is &quot;Choose one of the following&quot;",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:16): yeah",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:17): OK",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:17): I think I see what the purpose of this is now",
        "69b0d3dfe919a6b860a9fac82de52a7e (06:17): you probably want the validator to notice when the first one have a value=&quot;non-empty&quot; and give a distinct error than the case where it is simply missing a value=&quot;&quot; (but has textContent, as opposed to &lt;option label=&quot;choose one of the following&quot;&gt;, which would be fine)",
        "69b0d3dfe919a6b860a9fac82de52a7e (06:17): because the error message would be confusing otherwise",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:18): OK",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:19): so sorry if I'm being daft here, but if the following is not OK, what should it be changed to?",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:19): &lt;select required&gt;",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:19): &lt;option&gt;&lt;/option&gt;",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:19): &lt;option value=1&gt;foo&lt;/option&gt;",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:19): &lt;option value=2&gt;bar&lt;/option&gt;",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:19): &lt;/select&gt;",
        "69b0d3dfe919a6b860a9fac82de52a7e (06:22): it's fine, from a validation point of view",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:22): OK, but what I'm getting at is, the spec currently says that for an option to be a placeholder label option, its &quot;value&quot; must be the empty string",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:23): where &quot;value&quot; is defined as &quot;the value of the value attribute, if there is one, or the textContent of the element, if there isn't&quot;",
        "69b0d3dfe919a6b860a9fac82de52a7e (06:23): right",
        "69b0d3dfe919a6b860a9fac82de52a7e (06:23): (hm, we should probably strip spaces before and after the textContent, for sanity, so that omitting the &lt;/option&gt; in the case above doesn't matter, but that's another story)",
        "69b0d3dfe919a6b860a9fac82de52a7e (06:24): (i'll file a bug)",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:24): so that would seem to mean that &lt;option value=&quot;&quot;&gt;label&lt;/option&gt; cannot be a placeholder label option",
        "69b0d3dfe919a6b860a9fac82de52a7e (06:24): sure it can",
        "69b0d3dfe919a6b860a9fac82de52a7e (06:24): value=&quot;&quot; is good",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:24): OK but the &quot;value&quot; of the option is non-empty",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:24): because it has textContent",
        "69b0d3dfe919a6b860a9fac82de52a7e (06:24): the value is the value of the value attribute, if there is one",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:25): ah",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:25): yeah",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:25): thanks for your patience :)",
        "69b0d3dfe919a6b860a9fac82de52a7e (06:25): no worries",
        "69b0d3dfe919a6b860a9fac82de52a7e (06:26): this stuff is inane, and i make enough mistakes that half the time your questions are just pointing out mistakes i made :-)",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:26): heh",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:26): not sure that's true, but thanks for saying it :)",
        "1f58faf0d058f303f30239a369808167 (06:32): I wish there was a way to do",
        "1f58faf0d058f303f30239a369808167 (06:32): X-viewport: content=&quot;width=device-width&quot; in HTTP headers",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:33): 69b0d3dfe919a6b860a9fac82de52a7e: so why not have the spec say that for &lt;select required&gt;, its first option child must have a value=&quot;&quot; attribute specified?",
        "69b0d3dfe919a6b860a9fac82de52a7e (06:35): a9b326df4e6da61c5b6f5e1058be83a2: we could do that, but in the case of &lt;option label=&quot;..&quot;/&gt; it's a bit ugly to require an otherwise redundant value=&quot;&quot; as well",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:35): OK",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:36): I will implement it as currently specced so that we have something concrete to test with in the validator",
        "69b0d3dfe919a6b860a9fac82de52a7e (06:36): cool",
        "69b0d3dfe919a6b860a9fac82de52a7e (06:37): i just filed a bug about the definition of /option label/ that you might want to look at",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:37): but I should point out to you that as far as I can see, the spec currently doesn't say anything about the label attribute providing the text for the placeholder label option",
        "a9b326df4e6da61c5b6f5e1058be83a2 (06:37): OK, I'll look at that bug",
        "69b0d3dfe919a6b860a9fac82de52a7e (06:40): looks",
        "69b0d3dfe919a6b860a9fac82de52a7e (06:43): it doesn't say anything special about the placeholder label option vs other options as far as rendering goes"
    ],
    "person_ids": [
        "a9b326df4e6da61c5b6f5e1058be83a2",
        "69b0d3dfe919a6b860a9fac82de52a7e",
        "1f58faf0d058f303f30239a369808167"
    ]
}