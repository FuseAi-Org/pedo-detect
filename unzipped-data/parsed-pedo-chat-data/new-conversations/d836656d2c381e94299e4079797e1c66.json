{
    "id": "d836656d2c381e94299e4079797e1c66",
    "messages": [
        "cd3e478e1fb92aef95961d138529f52c (20:02): 3f21e54c5c5ffd50fe3680acc025bb1d: ping",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:02): plinss_: Bert's reporting a server problem on csswg.org http://lists.w3.org/Archives/Public/public-css-testsuite/2010Nov/0142.html",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:02): cd3e478e1fb92aef95961d138529f52c: pong",
        "cd3e478e1fb92aef95961d138529f52c (20:02): 3f21e54c5c5ffd50fe3680acc025bb1d: should this work...",
        "cd3e478e1fb92aef95961d138529f52c (20:02): &lt;span style=&quot;text-combine: horizontal 2&quot;&gt;",
        "cd3e478e1fb92aef95961d138529f52c (20:02): &lt;span style=&quot;color:red&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;0&lt;/span&gt;",
        "cd3e478e1fb92aef95961d138529f52c (20:02): &lt;/span&gt;",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:02): no",
        "cd3e478e1fb92aef95961d138529f52c (20:02): so basically only raw text is allowed inside the span or you discard the text-combine?",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:02): yes",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:02): otherwise it gets complicated",
        "cd3e478e1fb92aef95961d138529f52c (20:02): ok",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:02): I'm happy to reconsider if you think otherwise :)",
        "cd3e478e1fb92aef95961d138529f52c (20:02): no i don't think otherwise",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:03): hehe",
        "cd3e478e1fb92aef95961d138529f52c (20:03): just working on implementing it",
        "cd3e478e1fb92aef95961d138529f52c (20:03): and the approach can be simpler if it's one text",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:03): that's what I figured",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:03): if someone wants to do something fancy, he can fake it with display: inline-block; writing-mode: horizontal-tb",
        "cd3e478e1fb92aef95961d138529f52c (20:04): i'm trying to figure out if i should do that",
        "cd3e478e1fb92aef95961d138529f52c (20:04): turn the span into an inline block with horizontal-tb",
        "cd3e478e1fb92aef95961d138529f52c (20:04): or if i should just hack the text painting",
        "cd3e478e1fb92aef95961d138529f52c (20:05): and keep the span with the same writing mode etc",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:05): jdaggett said the behavior is different than with display: inline-block; writing-mode: horizontal-tbl;",
        "cd3e478e1fb92aef95961d138529f52c (20:06): well there's choosing a compressed font and fitting it to 1em etc",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:06): I'm not sure what all the issues are -- probably I should get a list of considerations",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:06): there's that, yes",
        "cd3e478e1fb92aef95961d138529f52c (20:06): i'm mainly thinking of how to get it to be upright",
        "cd3e478e1fb92aef95961d138529f52c (20:06): do i hack the writing mode on the span or just hack the painting of the text",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:06): the painting of the text",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:06): it's going to have to behave as one grapheme cluster",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:07): for various purposes",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:07): letter-spacing",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:07): text-emphasis",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:07): etc",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:07): underlining",
        "cd3e478e1fb92aef95961d138529f52c (20:07): yeah",
        "cd3e478e1fb92aef95961d138529f52c (20:19): 3f21e54c5c5ffd50fe3680acc025bb1d: btw i implemented some really smart baseline adjustment... it is working really really well",
        "cd3e478e1fb92aef95961d138529f52c (20:20): 3f21e54c5c5ffd50fe3680acc025bb1d: the heuristic i used was that if any used font on a line contains vertical forms",
        "cd3e478e1fb92aef95961d138529f52c (20:20): then it taints the whole line",
        "cd3e478e1fb92aef95961d138529f52c (20:20): and all the non-vertical fonts move to using centered baselines",
        "cd3e478e1fb92aef95961d138529f52c (20:20): 3f21e54c5c5ffd50fe3680acc025bb1d: pretty simple to implement and works really well",
        "cd3e478e1fb92aef95961d138529f52c (20:21): 3f21e54c5c5ffd50fe3680acc025bb1d: this way the line just does the right thing based off what's on it without having to resort to language detection",
        "cd3e478e1fb92aef95961d138529f52c (20:21): interesting mixes end up working like you'd expect, e.g., mongolian with some mixed-in ideograph content",
        "cd3e478e1fb92aef95961d138529f52c (20:21): normal english text with no ideographs will baseline-align like it does in horizontal too",
        "cd3e478e1fb92aef95961d138529f52c (20:21): etc.",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:22): Mongolian with ideographic is pretty common :)",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:23): cd3e478e1fb92aef95961d138529f52c: Can you email your ideas to www-style?",
        "cd3e478e1fb92aef95961d138529f52c (20:23): 3f21e54c5c5ffd50fe3680acc025bb1d: sure",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:23): cd3e478e1fb92aef95961d138529f52c: It's easier for me to track that way",
        "cd3e478e1fb92aef95961d138529f52c (20:23): 3f21e54c5c5ffd50fe3680acc025bb1d: i basically did that already... i outlined 3 approaches",
        "cd3e478e1fb92aef95961d138529f52c (20:23): 3f21e54c5c5ffd50fe3680acc025bb1d: so basically i implemented one of those 3",
        "cd3e478e1fb92aef95961d138529f52c (20:23): but i can elaborate if it's helpful",
        "cd3e478e1fb92aef95961d138529f52c (20:23): i really don't want to see language-based decisions",
        "cd3e478e1fb92aef95961d138529f52c (20:24): since it's all about ideographs",
        "cd3e478e1fb92aef95961d138529f52c (20:24): which are easily detectable",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:24): cd3e478e1fb92aef95961d138529f52c: no, definitely not language-based",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:24): pulls up your email",
        "cd3e478e1fb92aef95961d138529f52c (20:25): basically think of a line as having a &quot;baseline type&quot;, e.g., alphabetic or ideographic",
        "cd3e478e1fb92aef95961d138529f52c (20:25): if any ideographs occur on the line, the &quot;baseline type&quot; of the line becomes ideographic",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:25): http://lists.w3.org/Archives/Public/www-style/2010Nov/0081.html",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:25): option 3?",
        "cd3e478e1fb92aef95961d138529f52c (20:25): yeah",
        "cd3e478e1fb92aef95961d138529f52c (20:25): with &quot;or alternatively just synthesize a baseline that is halfway through the text while still keeping the vertical-align value the same&quot;",
        "cd3e478e1fb92aef95961d138529f52c (20:26): i did the synthesis",
        "cd3e478e1fb92aef95961d138529f52c (20:26): so that vertical-align:baseline does the right thing",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:26): I don't like making it font-dependent",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:26): means if I use Arial Unicode MS vs. Arial, I get different results",
        "cd3e478e1fb92aef95961d138529f52c (20:26): it can be either font-dependent or ideograph-dependent",
        "cd3e478e1fb92aef95961d138529f52c (20:26): i can't speak to other operating systems",
        "cd3e478e1fb92aef95961d138529f52c (20:26): but every single font on the mac is correct",
        "cd3e478e1fb92aef95961d138529f52c (20:27): there is no such thing as rendering japanese without having the font have vertical tables",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:27): right, but rendering English?",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:28): If you use a font that supports vertical rendering vs. one that doesn't, you'd get different results",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:28): for no apparent reason",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:28): cd3e478e1fb92aef95961d138529f52c: btw, wrt text-combine, there have been some requests for a sort of auto-text-combine feature",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:28): cd3e478e1fb92aef95961d138529f52c: in which case, you wouldn't be manipulating an actual element",
        "cd3e478e1fb92aef95961d138529f52c (20:29): well, the fonts that support vertical rendering on the mac at least are just the ideographic ones",
        "cd3e478e1fb92aef95961d138529f52c (20:29): note i'm talking about used fonts not specified fonts",
        "cd3e478e1fb92aef95961d138529f52c (20:29): if you say &lt;span style=&quot;font-family:Times&quot;&gt;... japanese ideographs here... &lt;/span&gt;",
        "cd3e478e1fb92aef95961d138529f52c (20:29): those are going to render in Hiragino",
        "cd3e478e1fb92aef95961d138529f52c (20:29): etc",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:30): If you say &lt;span style=&quot;font-family: Arial&quot;&gt;...English text here...&lt;/span&gt;",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:30): those will render in a font without vertical tables",
        "cd3e478e1fb92aef95961d138529f52c (20:30): exactly",
        "cd3e478e1fb92aef95961d138529f52c (20:30): and so will do the right thing and not center baseline",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:30): If you say &lt;span style=&quot;font-family: Arial Unicode MS&quot;&gt;... English text here...&lt;/span&gt; ?",
        "cd3e478e1fb92aef95961d138529f52c (20:30): the idea is you get smart baseline behavior based off what fonts you use",
        "cd3e478e1fb92aef95961d138529f52c (20:31): 3f21e54c5c5ffd50fe3680acc025bb1d: but making it ideograph based would probably be even better than font based",
        "cd3e478e1fb92aef95961d138529f52c (20:32): i did font based since for all practical intents and purposes it works great, but the whole &quot;universal font that does both english and japanese&quot; is not what japanese authors typically want to use",
        "cd3e478e1fb92aef95961d138529f52c (20:32): on os x at least",
        "cd3e478e1fb92aef95961d138529f52c (20:33): ideograph-based would probably be better though",
        "cd3e478e1fb92aef95961d138529f52c (20:34): but yeah i agree if you only use english text and you use a font with vertical tables that also happens to do english",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:34): There are some very nice English+Japanese fonts out there.",
        "cd3e478e1fb92aef95961d138529f52c (20:34): that it should not center baseline align",
        "3f21e54c5c5ffd50fe3680acc025bb1d (20:34): but anyway, this is something I need to work on",
        "cd3e478e1fb92aef95961d138529f52c (20:34): 3f21e54c5c5ffd50fe3680acc025bb1d: yeah, there are also degenerate japanese fonts",
        "cd3e478e1fb92aef95961d138529f52c (20:34): 3f21e54c5c5ffd50fe3680acc025bb1d: although none installed by default on os x",
        "cd3e478e1fb92aef95961d138529f52c (20:34): but third party ones like Makiba",
        "cd3e478e1fb92aef95961d138529f52c (20:34): don't have vertical tables",
        "cd3e478e1fb92aef95961d138529f52c (20:35): i synthesized vertical rendering for broken fonts like that",
        "cd3e478e1fb92aef95961d138529f52c (20:35): (the punctuation looks wrong obviously)",
        "cd3e478e1fb92aef95961d138529f52c (20:35): but the ideographs are at least upright",
        "cd3e478e1fb92aef95961d138529f52c (20:35): but with a font-based choice, i would not baseline align",
        "cd3e478e1fb92aef95961d138529f52c (20:35): using the center",
        "cd3e478e1fb92aef95961d138529f52c (20:35): like i should",
        "cd3e478e1fb92aef95961d138529f52c (20:36): so i guess ideograph usage would be a better heuristic",
        "cd3e478e1fb92aef95961d138529f52c (20:36): browsers already have to have an isCJKIdeograph method for a character anyway",
        "cd3e478e1fb92aef95961d138529f52c (20:36): in order to do text-orientation",
        "cd3e478e1fb92aef95961d138529f52c (20:36): this is something you already have to know heh",
        "cd3e478e1fb92aef95961d138529f52c (20:37): 3f21e54c5c5ffd50fe3680acc025bb1d: so i guess i'd suggest ideograph-based rather than font-based.",
        "cd3e478e1fb92aef95961d138529f52c (20:37): but the concept of a &quot;baseline type&quot; per line seems good... just pick it based off whether ideographs got used on the line.",
        "cd3e478e1fb92aef95961d138529f52c (20:43): 3f21e54c5c5ffd50fe3680acc025bb1d: anyway, things are looking really nice now... only major subsystems left to convert are scrolling/overflow and multicol/pagination"
    ],
    "person_ids": [
        "cd3e478e1fb92aef95961d138529f52c",
        "3f21e54c5c5ffd50fe3680acc025bb1d"
    ]
}