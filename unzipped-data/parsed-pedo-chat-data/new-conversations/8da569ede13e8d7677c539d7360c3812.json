{
    "id": "8da569ede13e8d7677c539d7360c3812",
    "messages": [
        "87dc2febfb6fdb6d6df4b1f598cf54fe (23:41): I am sharing music over Samba with a windows computer",
        "87dc2febfb6fdb6d6df4b1f598cf54fe (23:41): For a while everything was working fine",
        "87dc2febfb6fdb6d6df4b1f598cf54fe (23:43): But then my sister told me that iTunes was randomly going to the next song in the middle of playing a song on teh drive that's a shared folder from my computer and that sometimes she's denied write access to the drive",
        "87dc2febfb6fdb6d6df4b1f598cf54fe (23:43): Why might this be :/",
        "84b886f586170abca018f2e8ac564ef9 (23:44): can sb show me a good howto for samba and ldap authentication?",
        "87dc2febfb6fdb6d6df4b1f598cf54fe (23:48): I can only think taht it might be a network problem, but the network connection seems fine",
        "87dc2febfb6fdb6d6df4b1f598cf54fe (23:48): And it's wired, not wireless",
        "87dc2febfb6fdb6d6df4b1f598cf54fe (23:53): hrm",
        "87dc2febfb6fdb6d6df4b1f598cf54fe (23:54): after looking carefully at the logs it _is_ a connection problem",
        "87dc2febfb6fdb6d6df4b1f598cf54fe (23:54): [2006/07/15 19:36:28, 0] lib/util_sock.c:get_peer_addr(1225)",
        "87dc2febfb6fdb6d6df4b1f598cf54fe (23:54): getpeername failed. Error was Transport endpoint is not connected",
        "87dc2febfb6fdb6d6df4b1f598cf54fe (23:54): [2006/07/15 19:36:28, 0] lib/util_sock.c:write_data(557)",
        "87dc2febfb6fdb6d6df4b1f598cf54fe (23:54): write_data: write failure in writing to client 0.0.0.0. Error Connection reset by peer",
        "87dc2febfb6fdb6d6df4b1f598cf54fe (23:54): I'm getting errors like that",
        "7cfc0dbec36bbed59f51ab097bfb76f1 (23:57): buenas",
        "7cfc0dbec36bbed59f51ab097bfb76f1 (23:57): hi",
        "7cfc0dbec36bbed59f51ab097bfb76f1 (23:57): question",
        "7cfc0dbec36bbed59f51ab097bfb76f1 (23:59): any gui for samba`s file administration?",
        "87dc2febfb6fdb6d6df4b1f598cf54fe (00:00): bah, the silly bitch had her ethernet cable squished between the desk and the wall -_-",
        "d7c06afa43bf1854fca25867ca836192 (00:16): where is the information regarding privleges kept?",
        "84b886f586170abca018f2e8ac564ef9 (00:26): one question if my admindn is Manager, do i have to have it in ldap too for samba to work?",
        "84b886f586170abca018f2e8ac564ef9 (00:38): i am getting this error   ERROR: failed to setup guest info.",
        "84b886f586170abca018f2e8ac564ef9 (00:38): ive got a nobody account in ldap",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:43): tdi: I just ran into the same problem myself.. I believe to correct it I added:  &quot;      map to guest = bad user",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:43): to smb.conf",
        "84b886f586170abca018f2e8ac564ef9 (00:44): qait",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:44): and yes, I run ldap",
        "84b886f586170abca018f2e8ac564ef9 (00:45): but smb.conf says that is it valid only id security=server",
        "84b886f586170abca018f2e8ac564ef9 (00:46): for me it does not work",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:46): umm.. dunno.. I have security=user",
        "84b886f586170abca018f2e8ac564ef9 (00:46): smbldap_search_ext: base =&gt; [&quot;ou=Groups&quot;,&quot;dc=cognifide,dc=pl&quot;], filter =&gt; [(&amp;(|(objectclass=sambaGroupMapping)(sambaGroupType=4))(|(sambaSIDList=S-1-5-21-1560702749-2120786584-1640112750-501)(sambaSIDList=S-1-22-2-65534)(sambaSIDList=S-1-1-0)(sambaSIDList=S-1-5-2)(sambaSIDList=S-1-5-32-546)))], scope =&gt; [2]",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:46): mm ok",
        "84b886f586170abca018f2e8ac564ef9 (00:46): this is the search causing error",
        "84b886f586170abca018f2e8ac564ef9 (00:46): ive got no sambaGroupType=4",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:47): whats the error thats returned",
        "84b886f586170abca018f2e8ac564ef9 (00:47): ERROR: failed to setup guest info.",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:47): usually there is something else tho",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:47): I turned up logging to 10",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:47): and looked.. and thats what helped me fix another issue I was having",
        "84b886f586170abca018f2e8ac564ef9 (00:48): Failed search for base: &quot;ou=Groups&quot;,&quot;dc=cognifide,dc=pl&quot;, error: Invalid DN syntax (invalid DN)",
        "84b886f586170abca018f2e8ac564ef9 (00:48): create_local_token failed: NT_STATUS_NO_SUCH_USER",
        "84b886f586170abca018f2e8ac564ef9 (00:48): ERROR: failed to setup guest info.",
        "84b886f586170abca018f2e8ac564ef9 (00:49): yes you were right, i had log level =9 and did not see everything",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:49): do you have ou=groups,dc=cognifide,dc=pl?",
        "84b886f586170abca018f2e8ac564ef9 (00:50): yes, but it is not a samba ou i think",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:50): shouldn't matter",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:50): my users/group isn't",
        "84b886f586170abca018f2e8ac564ef9 (00:50): what i want to know is if i bind to cn=Manager",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:51): ok",
        "84b886f586170abca018f2e8ac564ef9 (00:51): should i have user manager in ldap ?",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:51): you should be binding to whatever the manager cn you have setup in slapd.conf is",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:51): mine isn't a user in ldap",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:51): its only in slapd.conf",
        "84b886f586170abca018f2e8ac564ef9 (00:51): yes it works for all other services",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:52): and I have samba using it... and it works fine",
        "84b886f586170abca018f2e8ac564ef9 (00:53): hmm, this is fifth time i am trying to make samba-ldap",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:53): hmm",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:53): I used this: <a href=\"http://gentoo-wiki.com/HOWTO_LDAP_SAMBA_PDC\">http://gentoo-wiki.com/HOWTO_LDAP_SAMBA_PDC</a>",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:53): and its worked well so far",
        "84b886f586170abca018f2e8ac564ef9 (00:53): yes i am using it too",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:54): just a few minor adjuestments for my setup",
        "84b886f586170abca018f2e8ac564ef9 (00:54): you are a gentoo user",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:54): yes",
        "84b886f586170abca018f2e8ac564ef9 (00:55): me too, do you have also problems with users unable to log into domain?",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:55): from windows?",
        "84b886f586170abca018f2e8ac564ef9 (00:55): last week it _just_ happened",
        "84b886f586170abca018f2e8ac564ef9 (00:55): yes",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:55): I haven't had windows join a samba domain yet",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:55): but.. I just upgraded to 3.0.23",
        "84b886f586170abca018f2e8ac564ef9 (00:55): aha so you are a happy man :)",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:55): and when I did I had problems",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:55): key word: yet",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:55): :p",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:55): I plan to.. just barely use windows.. so I haven't gotten to it yet",
        "84b886f586170abca018f2e8ac564ef9 (00:56): ive got only windows users- java programmers",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:56): in the process of upgrading servers right now (hardware/complete box change) so..",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:56): ah",
        "84b886f586170abca018f2e8ac564ef9 (00:57): i think my problem with logging is caused by automatic updates of winxps",
        "84b886f586170abca018f2e8ac564ef9 (00:57): only cached users can log",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:58): dunno",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:59): I had to change a few things in my smb.conf",
        "84b886f586170abca018f2e8ac564ef9 (00:59): like what ?",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:59): like I couldn't have passdb = ldapsam:ldap://127.0.0.1 smbpasswd",
        "84b886f586170abca018f2e8ac564ef9 (00:59): ldap server?",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:59): I had to remove the smbpasswd",
        "8a4d0c49acddedd168f9cf18a8a080b2 (00:59): would spit out a ldap routine error",
        "84b886f586170abca018f2e8ac564ef9 (01:11): hmm",
        "6f58f1c6e1c23b9883b863c676e249b7 (01:17): Sedorox: not in 3.0.23",
        "6f58f1c6e1c23b9883b863c676e249b7 (01:18): Before you could say: passdb backend = tdbsam, smbpasswd",
        "84b886f586170abca018f2e8ac564ef9 (01:22): damn ill just delete all samba netries from ldap",
        "84b886f586170abca018f2e8ac564ef9 (01:23): i know what is wrong, damn",
        "8a4d0c49acddedd168f9cf18a8a080b2 (01:23): BaT: so I've found out.. :p",
        "2acc9eb2ef7669fe5a5fdcd7ed35fecd (01:26): Hello, I have a question on security; I could have read wrong.  On FTP the username and password are not secure, not encrypted, yet ssh does.  My question:  what about NFS, and what abut samba?",
        "6f58f1c6e1c23b9883b863c676e249b7 (01:31): Sedorox: For 3.0.23 you should try <a href=\"http://pdbsql.sourceforge.net/\">http://pdbsql.sourceforge.net/</a>",
        "8a4d0c49acddedd168f9cf18a8a080b2 (01:33): hmm",
        "8a4d0c49acddedd168f9cf18a8a080b2 (01:34): considering I don't use any of those as a backend to samba.. I'm not too concerned with it... and I really didn't have users in passwd anyway, so its not a problem for me",
        "6f58f1c6e1c23b9883b863c676e249b7 (01:40): Sedorox: pdbmux - hint",
        "84b886f586170abca018f2e8ac564ef9 (01:41): BaT: maybe you can help me",
        "84b886f586170abca018f2e8ac564ef9 (01:41): ERROR: failed to setup guest info.",
        "84b886f586170abca018f2e8ac564ef9 (01:41): i get this error, using ldap",
        "6f58f1c6e1c23b9883b863c676e249b7 (01:41): tdi: Sorry, dunno :(",
        "98dc40de8c10641d8f530a1609692ec5 (01:42): oh god, what is correct: nessessary or whatever",
        "84b886f586170abca018f2e8ac564ef9 (01:44): Sedorox: what you get after that command?",
        "84b886f586170abca018f2e8ac564ef9 (01:44): ldapsearch &quot;(&amp;(|(objectclass=sambaGroupMapping)(sambaGroupType=4))(|(sambaSIDList=S-1-5-21-1560702749-2120786584-1640112750-501)(sambaSIDList=S-1-22-2-65534)(sambaSIDList=S-1-1-0)(sambaSIDList=S-1-5-2)(sambaSIDList=S-1-5-32-546)))&quot;",
        "84b886f586170abca018f2e8ac564ef9 (01:51): Sedorox: syntax error in smb,conf",
        "8a4d0c49acddedd168f9cf18a8a080b2 (01:52): tdi: mine wouldn't return anything as my sambaSID is different then yours...",
        "8a4d0c49acddedd168f9cf18a8a080b2 (01:52): and you had a syntax error?",
        "84b886f586170abca018f2e8ac564ef9 (01:55): yes im smb.conf",
        "84b886f586170abca018f2e8ac564ef9 (01:55): i put ldap * = options in &quot; &quot;",
        "8a4d0c49acddedd168f9cf18a8a080b2 (01:55): ah",
        "84b886f586170abca018f2e8ac564ef9 (01:56): now it works more or less :)",
        "84b886f586170abca018f2e8ac564ef9 (01:56): i have to migrate users to samba schema",
        "abe59155aa41ae19e4ea964e9dd4b200 (02:08): <a href=\"http://www.bagdadsoftware.de&quot;\">http://www.bagdadsoftware.de&quot;</a>)",
        "84b886f586170abca018f2e8ac564ef9 (02:13): Sedorox: are the machine accounts also object class = sambaaccount?",
        "84b886f586170abca018f2e8ac564ef9 (02:13): i am adding a machine with smbldap-useradd -a -w test and it is normal account",
        "8a4d0c49acddedd168f9cf18a8a080b2 (02:18): I honestly don't know",
        "8a4d0c49acddedd168f9cf18a8a080b2 (02:18): I would think so",
        "8a4d0c49acddedd168f9cf18a8a080b2 (02:19): I just added one with phpldapadmin and it came up with sambaSamAccount, posixAccount, account, top",
        "84b886f586170abca018f2e8ac564ef9 (02:32): ok it works",
        "84b886f586170abca018f2e8ac564ef9 (02:33): where can i take user SID from?",
        "8a4d0c49acddedd168f9cf18a8a080b2 (02:33): I forget where it comes from... its in the guide on how to get it"
    ],
    "person_ids": [
        "87dc2febfb6fdb6d6df4b1f598cf54fe",
        "84b886f586170abca018f2e8ac564ef9",
        "7cfc0dbec36bbed59f51ab097bfb76f1",
        "d7c06afa43bf1854fca25867ca836192",
        "8a4d0c49acddedd168f9cf18a8a080b2",
        "6f58f1c6e1c23b9883b863c676e249b7",
        "2acc9eb2ef7669fe5a5fdcd7ed35fecd",
        "98dc40de8c10641d8f530a1609692ec5",
        "abe59155aa41ae19e4ea964e9dd4b200"
    ]
}