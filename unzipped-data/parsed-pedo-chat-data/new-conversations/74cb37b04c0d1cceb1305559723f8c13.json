{
    "id": "74cb37b04c0d1cceb1305559723f8c13",
    "messages": [
        "b25b6b77a0087ff8385941e5545d32ea (23:47): 88d4d34a8064a4ff39fd5e144eea7762: So it doesn't. I will look tomorrow",
        "88d4d34a8064a4ff39fd5e144eea7762 (23:47): b25b6b77a0087ff8385941e5545d32ea, thanks.",
        "e9fe2a8ed6a64844a5c024b6f688d024 (23:55): Accio Hixie!",
        "e9fe2a8ed6a64844a5c024b6f688d024 (23:55): Hixie: are you working on the dialog plumbing?",
        "57551cb51d38c51417f5abfeacfb9b13 (00:00): TabAtkins: in your flex rewriting this week...are you touching flex-flow?",
        "57551cb51d38c51417f5abfeacfb9b13 (00:00): TabAtkins: what's there now seems...complicated",
        "e9fe2a8ed6a64844a5c024b6f688d024 (00:05): hey 846932c1a1bb955925801dc2efc3bd8c!",
        "e9fe2a8ed6a64844a5c024b6f688d024 (00:06): 846932c1a1bb955925801dc2efc3bd8c: this is Hixie's natural habitat. You can see a glimpse of him eating a banana here. Be very, very still.",
        "846932c1a1bb955925801dc2efc3bd8c (00:07): e9fe2a8ed6a64844a5c024b6f688d024, Hixie: Hi e9fe2a8ed6a64844a5c024b6f688d024, hi hixie! :)",
        "e9fe2a8ed6a64844a5c024b6f688d024 (00:08): Hixie: meet 846932c1a1bb955925801dc2efc3bd8c. He's been very interested in building user-stylable select menu drop-downs. I wondered if there's an overlap with your thinking on &lt;dialog&gt;",
        "6b57ea7f33069df5914663ba9e59afdf (00:31): 88d4d34a8064a4ff39fd5e144eea7762: ping",
        "88d4d34a8064a4ff39fd5e144eea7762 (00:31): 6b57ea7f33069df5914663ba9e59afdf, pong.",
        "6b57ea7f33069df5914663ba9e59afdf (00:31): 88d4d34a8064a4ff39fd5e144eea7762: about http://html5.org/specs/dom-range.html#range-behavior-under-document-mutation and splitText",
        "6b57ea7f33069df5914663ba9e59afdf (00:32): what if textnode's parent is null",
        "88d4d34a8064a4ff39fd5e144eea7762 (00:32): Don't I handle that explicitly?",
        "88d4d34a8064a4ff39fd5e144eea7762 (00:32): &quot;If old node's parent is not null, . . .&quot;",
        "6b57ea7f33069df5914663ba9e59afdf (00:32): 88d4d34a8064a4ff39fd5e144eea7762: you handle not-null case",
        "6b57ea7f33069df5914663ba9e59afdf (00:32): but where is the is null",
        "88d4d34a8064a4ff39fd5e144eea7762 (00:33): That's a corner case, so nothing special happens.  Regular range mutation rules apply.",
        "88d4d34a8064a4ff39fd5e144eea7762 (00:33): IIRC I used to handle it, but decided it was pointless to worry about it.",
        "6b57ea7f33069df5914663ba9e59afdf (00:33): hmm",
        "88d4d34a8064a4ff39fd5e144eea7762 (00:33): Often you can't do better than the default behavior anyway.",
        "88d4d34a8064a4ff39fd5e144eea7762 (00:33): Since the range can't span the two text nodes.",
        "6b57ea7f33069df5914663ba9e59afdf (00:33): 88d4d34a8064a4ff39fd5e144eea7762: so what if you split text between the boundary points",
        "88d4d34a8064a4ff39fd5e144eea7762 (00:34): If the parent is null?  Exactly what Gecko does now: any boundary point after the offset you're splitting at is clamped to the end of the node.",
        "88d4d34a8064a4ff39fd5e144eea7762 (00:34): There's no special case then.",
        "6b57ea7f33069df5914663ba9e59afdf (00:35): ah",
        "6b57ea7f33069df5914663ba9e59afdf (00:35): ok",
        "6b57ea7f33069df5914663ba9e59afdf (00:35): a bit hard to read but ok",
        "6b57ea7f33069df5914663ba9e59afdf (00:35): I mean the draft",
        "88d4d34a8064a4ff39fd5e144eea7762 (00:36): What wording would you suggest?",
        "6b57ea7f33069df5914663ba9e59afdf (00:37): well, I was assuming that since there is the &quot;If old node's parent is not null&quot; case, there would be also the &quot;is null&quot; case",
        "88d4d34a8064a4ff39fd5e144eea7762 (00:38): Would you assume that when reading code?  If it doesn't give the case, it's not there.",
        "88d4d34a8064a4ff39fd5e144eea7762 (00:38): This is really just pseudocode.",
        "6b57ea7f33069df5914663ba9e59afdf (00:38): well, there is the other case defined",
        "6b57ea7f33069df5914663ba9e59afdf (00:38): &quot;User agents must run the following steps whenever they execute splitText()&quot;",
        "88d4d34a8064a4ff39fd5e144eea7762 (00:39): Right, just sometimes they do nothing.  Of course, the horrible way this is written is a hack to work around the fact that we haven't merged it into DOM Core yet.",
        "6b57ea7f33069df5914663ba9e59afdf (00:39): well, they need to update the boundary points when parent is null",
        "6b57ea7f33069df5914663ba9e59afdf (00:39): that is not &quot;do nothing&quot;",
        "88d4d34a8064a4ff39fd5e144eea7762 (00:40): It's &quot;do nothing extra&quot;.",
        "6b57ea7f33069df5914663ba9e59afdf (00:40): the draft doesn't say that do something, but when splitText() is called, do something extra",
        "88d4d34a8064a4ff39fd5e144eea7762 (00:41): It says UAs have to run the steps as though they were written at the end of splitText().",
        "88d4d34a8064a4ff39fd5e144eea7762 (00:41): Earlier than that, splitText() replaced data and probably inserted a node.",
        "88d4d34a8064a4ff39fd5e144eea7762 (00:41): That already triggered different mutation rules.",
        "88d4d34a8064a4ff39fd5e144eea7762 (00:41): I have a note there that points this out explicitly: &quot;Thus they must be executed after following the range mutation rules for any changes to data or insertions that the method caused.&quot;",
        "88d4d34a8064a4ff39fd5e144eea7762 (00:42): Also, one of the steps is &quot;Let original offset equal what the boundary point's offset was before this splitText invocation replaced the data of node.&quot;  That doesn't make any sense if you didn't already have range mutation rules running beforehand.",
        "88d4d34a8064a4ff39fd5e144eea7762 (00:42): I'd ask for suggestions to make this clearer, but it will be moot once it's merged into DOM Core.",
        "6b57ea7f33069df5914663ba9e59afdf (00:43): a lot clearer would be to add just the case for null parent",
        "6b57ea7f33069df5914663ba9e59afdf (00:43): or at least a link",
        "88d4d34a8064a4ff39fd5e144eea7762 (00:44): A link to what?",
        "6b57ea7f33069df5914663ba9e59afdf (00:44): to the part of the spec which says what to do when parent is null",
        "88d4d34a8064a4ff39fd5e144eea7762 (00:44): You do nothing extra when the parent is null.",
        "6b57ea7f33069df5914663ba9e59afdf (00:45): this is about readability of the spec",
        "6b57ea7f33069df5914663ba9e59afdf (00:45): not correctness",
        "88d4d34a8064a4ff39fd5e144eea7762 (00:45): Readability is a mess because it's trying to hack extra steps onto DOM Core when DOM Core doesn't provide hooks for it.",
        "88d4d34a8064a4ff39fd5e144eea7762 (00:45): This will be solved when DOM Range is merged into DOM Core, so this will just be an extra step or two in the splitText() algorithm itself."
    ],
    "person_ids": [
        "b25b6b77a0087ff8385941e5545d32ea",
        "88d4d34a8064a4ff39fd5e144eea7762",
        "e9fe2a8ed6a64844a5c024b6f688d024",
        "57551cb51d38c51417f5abfeacfb9b13",
        "846932c1a1bb955925801dc2efc3bd8c",
        "6b57ea7f33069df5914663ba9e59afdf"
    ]
}