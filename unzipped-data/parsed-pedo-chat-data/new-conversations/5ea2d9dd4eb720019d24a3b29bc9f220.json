{
    "id": "5ea2d9dd4eb720019d24a3b29bc9f220",
    "messages": [
        "44f76762d837de6adc8900ece7ab6b7b (07:14): anybody here know much about translators (ie: the tr() function)?",
        "d29d567972e1e13b8bd390e5395b685d (07:15): do you have a specific question about it?",
        "44f76762d837de6adc8900ece7ab6b7b (07:19): blockd: well, I have been thinking about the past 4 hrs actually and my brain is starting to melt. My question is this: Object A instantiates Object B and at the same time, tells B what the text that B is to draw. But I do not want A to literally tell B at instantiation time what that text is. Instead, I want A to tell B what the context and sourceText are for its text, and for B to later on look those up when B needs to draw itself",
        "44f76762d837de6adc8900ece7ab6b7b (07:19): . How do I do this?",
        "44f76762d837de6adc8900ece7ab6b7b (07:20): I was thinking that calling say: B-&gt;setText(tr(&quot;foo&quot;, &quot;bar&quot;)) will not work because that literally tells B what its text is.",
        "44f76762d837de6adc8900ece7ab6b7b (07:21): See, the translator could change long aftter B has been created so I need to differ translation to later and tell B to lookup its text as close to the time it draws that text, as possible.",
        "44f76762d837de6adc8900ece7ab6b7b (07:22): like, for example, everytime the translator gets changed... so it would be ideal if I could then just tell B to re-sync its text based on the parameters it was given for lookup by A when it was created.",
        "d29d567972e1e13b8bd390e5395b685d (07:24): can you sum that up tersely?",
        "d29d567972e1e13b8bd390e5395b685d (07:24): you just need to update the translation if the user changes the language?",
        "d29d567972e1e13b8bd390e5395b685d (07:25): locale rather...",
        "d29d567972e1e13b8bd390e5395b685d (07:25): (e.g., make it a menu option or something)",
        "44f76762d837de6adc8900ece7ab6b7b (07:26): yes... basically, I want to differ translation lookup.",
        "44f76762d837de6adc8900ece7ab6b7b (07:28): dunno if this makes much sense... kind of hard to explain it... but basically, I want an object to lookup a localized translation from the translator using a context and sourceText that are passed to it.",
        "44f76762d837de6adc8900ece7ab6b7b (07:29): file:///usr/local/Trolltech/Qt-embedded-free-3.3.4-static/doc/html/qapplication.html#translate",
        "d29d567972e1e13b8bd390e5395b685d (07:29): you could look at page 239 of the blanchette Qt 3 book for a solution",
        "d29d567972e1e13b8bd390e5395b685d (07:29): 329 rather",
        "44f76762d837de6adc8900ece7ab6b7b (07:29): that is a print publication?",
        "d29d567972e1e13b8bd390e5395b685d (07:29): !blanchette",
        "ea3f8a0223777fdf8d12983027629f14 (07:29): blockd: [blanchette] Co-author of the book C++ GUI Programming with Qt 3. You can download the book in PDF form from <a href=\"http://www.phptr.com/content/images/0131240722/downloads/blanchette_book.pdf.\">http://www.phptr.com/content/images/0131240722/downloads/blanchette_book.pdf.</a>",
        "d29d567972e1e13b8bd390e5395b685d (07:29): not warez",
        "44f76762d837de6adc8900ece7ab6b7b (07:29): oh ok",
        "44f76762d837de6adc8900ece7ab6b7b (07:29): i figured",
        "44f76762d837de6adc8900ece7ab6b7b (07:30): blockd: here is what I thought is a solution. just gonna run it by you. it seems simple once I (think) got my head around it....",
        "44f76762d837de6adc8900ece7ab6b7b (07:31): B-&gt;set_translator_context_data(&quot;&quot;, QT_TR_NOOP(&quot;Something&quot;);",
        "44f76762d837de6adc8900ece7ab6b7b (07:32): and then, B would at some point, like when it is drawing its text, call something like: QString mytext = tr(&quot;&quot;, context_str);",
        "44f76762d837de6adc8900ece7ab6b7b (07:32): oops... sorry... that first line should ahve beeen B-&gt;set_translator_context_data(QT_TR_NOOP(&quot;something&quot;));",
        "44f76762d837de6adc8900ece7ab6b7b (07:34): that set_translator_context_data function would store the char * value of QT_TR_NOOP into some member variable",
        "44f76762d837de6adc8900ece7ab6b7b (07:34): and later &quot;dereference&quot; that value using the tr function....",
        "44f76762d837de6adc8900ece7ab6b7b (07:34): sound ludicrous?",
        "44f76762d837de6adc8900ece7ab6b7b (07:34): maybe I am getting this all wrong",
        "44f76762d837de6adc8900ece7ab6b7b (07:36): blockd: btw... freaking awesome book :)",
        "44f76762d837de6adc8900ece7ab6b7b (07:36): thanks for the reference",
        "d29d567972e1e13b8bd390e5395b685d (07:38): you're glossing over the part about &quot;drawing its text&quot; like you're going to override the paintEvent for each and every widget",
        "d29d567972e1e13b8bd390e5395b685d (07:39): the solution in the book seems reasonable, but I'm not sure if you *have* to clear menu entries/columns and then readd them with the translation like it says...",
        "d29d567972e1e13b8bd390e5395b685d (07:39): bit tired, but I'm not sure why he couldn't just setText with the new translation",
        "d29d567972e1e13b8bd390e5395b685d (07:41): probably just a Qt 3 API issue of having to do it in the ctor and not having a setText...",
        "d29d567972e1e13b8bd390e5395b685d (07:41): loquitus_of_borg: here's the idea in a nutshell",
        "d29d567972e1e13b8bd390e5395b685d (07:41): loquitus_of_borg: <a href=\"http://doc.trolltech.com/qq/qq08-swedish-chef-sequel.html#dynamic\">http://doc.trolltech.com/qq/qq08-swedish-chef-sequel.html#dynamic</a>",
        "44f76762d837de6adc8900ece7ab6b7b (07:45): blockd: yes... I think we are sort of on the same page",
        "44f76762d837de6adc8900ece7ab6b7b (07:45): I am trying to make the objects translate themselves instead of their &quot;owners&quot; doing that",
        "44f76762d837de6adc8900ece7ab6b7b (07:45): what you suggested is an equally good solution though",
        "44f76762d837de6adc8900ece7ab6b7b (07:46): thanks :)",
        "d29d567972e1e13b8bd390e5395b685d (07:47): np",
        "f1b03b7333ec2adffd373adef018c398 (07:56): B0rk B0rk B0rk"
    ],
    "person_ids": [
        "44f76762d837de6adc8900ece7ab6b7b",
        "d29d567972e1e13b8bd390e5395b685d",
        "ea3f8a0223777fdf8d12983027629f14",
        "f1b03b7333ec2adffd373adef018c398"
    ]
}