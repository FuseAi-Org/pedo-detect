{
    "id": "fe7c582bfa28d08254d4339ff8ab1d44",
    "messages": [
        "a1979d8ea4467681752d9e87e36b669c (13:32): anybody see something wrong with this rule (-A INPUT -p tcp -m tcp --dport 25 -j LOG_ACCEPT) and the logging rules (-A LOG_ACCEPT -j LOG --log-prefix &quot;[IPTABLES ACCEPT]: &quot; --log-tcp-options --log-ip-options",
        "a1979d8ea4467681752d9e87e36b669c (13:32): -A LOG_ACCEPT -j ACCEPT",
        "a1979d8ea4467681752d9e87e36b669c (13:32): because nothing is being logged",
        "673d7d497cb7c30e46ce951bc321aafd (13:43): why do you have both -p tcp -m tcp?",
        "a1979d8ea4467681752d9e87e36b669c (13:43): Apachez, lol not sure.. I'm trying to follow a howto to learn IPtables..",
        "673d7d497cb7c30e46ce951bc321aafd (13:43): take a look at <a href=\"http://www.tbg.nu/iptables.txt\">http://www.tbg.nu/iptables.txt</a> for ideas",
        "673d7d497cb7c30e46ce951bc321aafd (13:44): i would do i something like",
        "673d7d497cb7c30e46ce951bc321aafd (13:44): iptables -N LOG_ACCEPT",
        "a1979d8ea4467681752d9e87e36b669c (13:44): Apachez, ok thanks",
        "673d7d497cb7c30e46ce951bc321aafd (13:45): iptables -A RESERVED_DROP -m limit --limit 2/s --limit-burst 10 -j LOG --log-prefix &quot;f=RESERVED a=DROP &quot; --log-level 7",
        "673d7d497cb7c30e46ce951bc321aafd (13:45): errr",
        "673d7d497cb7c30e46ce951bc321aafd (13:45): iptables -N LOG_ACCEPT",
        "673d7d497cb7c30e46ce951bc321aafd (13:46): iptables -A LOG_ACCEPT -m limit --limit 2/s --limit-burst 10 -j LOG --log-prefix &quot;f=LOG_ACCEPT a=ACCEPT &quot; --log-level 7",
        "673d7d497cb7c30e46ce951bc321aafd (13:46): iptables -A LOG_ACCEPT -j ACCEPT",
        "673d7d497cb7c30e46ce951bc321aafd (13:46): and then",
        "673d7d497cb7c30e46ce951bc321aafd (13:46): iptables -A INPUT -p tcp --dport 25 -j LOG_ACCEPT",
        "673d7d497cb7c30e46ce951bc321aafd (13:46): the -N creates your custom chain",
        "673d7d497cb7c30e46ce951bc321aafd (13:46): perhaps you are missing that part ?",
        "673d7d497cb7c30e46ce951bc321aafd (13:47): and then I use limit in the log part to not flood the logengine with packets (like if someone tries to DoS me or so)",
        "a1979d8ea4467681752d9e87e36b669c (13:47): perhaps.. I'll have to take a look when I can log back in.. :) apparently I messed something up.. good thing I made sure that my firewall will reset every 5 min while I'm playing around learning it",
        "a1979d8ea4467681752d9e87e36b669c (13:47): Apachez, good idea",
        "673d7d497cb7c30e46ce951bc321aafd (13:48): the packets will still be dropped/accepted but the logentry what is happening is being pushed back to max 2 lines/sec with a allowed burst of 10 lines the first secon",
        "a1979d8ea4467681752d9e87e36b669c (13:48): Apachez, nice",
        "a146dd6636dd60bd7ff28bfa968240c9 (13:51): Is this the coorect place to enquire about iproute2 and mutiple routes?",
        "673d7d497cb7c30e46ce951bc321aafd (13:52): no idea",
        "673d7d497cb7c30e46ce951bc321aafd (13:52): but you could ask your question and see if you gets any response :P",
        "2a655a0e14a4584229ba4aeef43b9039 (14:06): /dev/null&quot;)",
        "a1979d8ea4467681752d9e87e36b669c (14:06): anybody know what communicates over port 1047 ?",
        "673d7d497cb7c30e46ce951bc321aafd (14:08): to tcp 1047 ?",
        "673d7d497cb7c30e46ce951bc321aafd (14:08): i think its windows thingy",
        "673d7d497cb7c30e46ce951bc321aafd (14:08): rpc or whatever its cALLED",
        "a1979d8ea4467681752d9e87e36b669c (14:09): ya.. tcp .. a million DROPPED logs from it.. everything is being logged .. just something is #$@# up in my syslog config because its all being dumped to the console for some reason instead of the log file",
        "673d7d497cb7c30e46ce951bc321aafd (14:09): if its on a local windows box you can use tcpview from sysinternals.com so see which service is using that port on your computer",
        "673d7d497cb7c30e46ce951bc321aafd (14:10): rshadow: maybe you have that loglevel thingy ?",
        "673d7d497cb7c30e46ce951bc321aafd (14:10): or is missing it ?",
        "673d7d497cb7c30e46ce951bc321aafd (14:10): level 7 will only dump to the syslog",
        "a1979d8ea4467681752d9e87e36b669c (14:10): well I'm sshing from a windows box to a linux box",
        "673d7d497cb7c30e46ce951bc321aafd (14:10): if you have default level ehh 3 i think it will be dumped to the screens aswell",
        "a1979d8ea4467681752d9e87e36b669c (14:10): Apachez, let me double check",
        "673d7d497cb7c30e46ce951bc321aafd (14:10): thats why i have that --log-level 7 in the end of my log rules :P",
        "673d7d497cb7c30e46ce951bc321aafd (14:11): you could probably config the syslog deamon to handle this properly aswell",
        "673d7d497cb7c30e46ce951bc321aafd (14:11): like  if loglevel (whatever iptables uses by default if log-level is not explicitly written) and from process iptables then log only to disk",
        "a1979d8ea4467681752d9e87e36b669c (14:13): Apachez, ya.. what I really need to do is dump syslog and put syslog-ng on the machine.. I understand syslog-ng configuration better"
    ],
    "person_ids": [
        "a1979d8ea4467681752d9e87e36b669c",
        "673d7d497cb7c30e46ce951bc321aafd",
        "a146dd6636dd60bd7ff28bfa968240c9",
        "2a655a0e14a4584229ba4aeef43b9039"
    ]
}