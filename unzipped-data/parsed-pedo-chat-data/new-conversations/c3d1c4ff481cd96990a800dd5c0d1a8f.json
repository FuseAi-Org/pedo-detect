{
    "id": "c3d1c4ff481cd96990a800dd5c0d1a8f",
    "messages": [
        "002fd66affb058c756926402acf97570 (12:27): Hmm, pne of the issues on Web DOM Core says, &quot;should we remove error checking altogether?&quot;, which looks to be impossible (as that will break websites!)",
        "002fd66affb058c756926402acf97570 (12:28): I wonder if it's more possible to go the other way, and require the DOM to represent well-formed XML",
        "002fd66affb058c756926402acf97570 (12:28): The current middle-ground is just idiotic",
        "b8810fee2f4a71f849f3f7409546d1d9 (12:28): 002fd66affb058c756926402acf97570: what site patterns rely on DOM Core error checking?",
        "b25b6b77a0087ff8385941e5545d32ea (12:28): 002fd66affb058c756926402acf97570: I doubt it",
        "b8810fee2f4a71f849f3f7409546d1d9 (12:28): 002fd66affb058c756926402acf97570: you can't require a DOM to be serializable without breaking L1 colon usage",
        "002fd66affb058c756926402acf97570 (12:29): b8810fee2f4a71f849f3f7409546d1d9: A lot of those that use e.g., document.createElement(&quot;&lt;div class=foobar&gt;&quot;) for IE rely upon that throwing an exception to have their code work in other browsers",
        "002fd66affb058c756926402acf97570 (12:29): b8810fee2f4a71f849f3f7409546d1d9: Ah yeah, that's true",
        "002fd66affb058c756926402acf97570 (12:29): b8810fee2f4a71f849f3f7409546d1d9: And would break RDFa, totally :P",
        "65325d50b2e25aca54bc871b89758c9c (12:29): 002fd66affb058c756926402acf97570: wait, that works in IE?",
        "002fd66affb058c756926402acf97570 (12:29): 65325d50b2e25aca54bc871b89758c9c: Yes.",
        "65325d50b2e25aca54bc871b89758c9c (12:30): facepalms",
        "b25b6b77a0087ff8385941e5545d32ea (12:30): 002fd66affb058c756926402acf97570: But there are downsides too, rihgt? ;)",
        "002fd66affb058c756926402acf97570 (12:30): 65325d50b2e25aca54bc871b89758c9c: Firefox supports it without attributes in quirks mode",
        "b8810fee2f4a71f849f3f7409546d1d9 (12:30): 002fd66affb058c756926402acf97570: ouch. so we can't make that syntax work in other browsers?",
        "b8810fee2f4a71f849f3f7409546d1d9 (12:30): 002fd66affb058c756926402acf97570: IIRC, Gecko had some half-way magic on that point",
        "65325d50b2e25aca54bc871b89758c9c (12:30): we've never supported anything like that in WebKit afaik",
        "002fd66affb058c756926402acf97570 (12:30): b8810fee2f4a71f849f3f7409546d1d9: We could, but I don't like the idea of making DOM rely upon having an HTML tokenizer around",
        "b8810fee2f4a71f849f3f7409546d1d9 (12:30): 002fd66affb058c756926402acf97570: does the Web expect document.createElement(&quot;&lt;div&gt;&quot;) to create a div element, though?",
        "002fd66affb058c756926402acf97570 (12:30): 65325d50b2e25aca54bc871b89758c9c: Nor does Opera. It doesn't cause any site compat issues I've found",
        "002fd66affb058c756926402acf97570 (12:30): b8810fee2f4a71f849f3f7409546d1d9: No",
        "b8810fee2f4a71f849f3f7409546d1d9 (12:31): hmm.",
        "002fd66affb058c756926402acf97570 (12:31): Anyhow, lunch",
        "b25b6b77a0087ff8385941e5545d32ea (12:31): b8810fee2f4a71f849f3f7409546d1d9: (except in IE)",
        "65325d50b2e25aca54bc871b89758c9c (12:31): if sites depended on that working and not throwing, I would expect compat bugs, since scripts unexpectedly throwing tends to cause severe failure modes",
        "b8810fee2f4a71f849f3f7409546d1d9 (12:33): b25b6b77a0087ff8385941e5545d32ea, 002fd66affb058c756926402acf97570: my recollection was right. Gecko does have the half-way magic in the quirks mode",
        "b8810fee2f4a71f849f3f7409546d1d9 (12:33): http://mxr.mozilla.org/mozilla-central/source/content/html/document/src/nsHTMLDocument.cpp#1208",
        "b8810fee2f4a71f849f3f7409546d1d9 (12:34): if the argument starts with &lt; and ends with &gt;, those characters are stripped in the quirks mode before proceeding",
        "65325d50b2e25aca54bc871b89758c9c (12:35): indeed I see the code doing that",
        "b8810fee2f4a71f849f3f7409546d1d9 (12:36): (I mentioned what the code does in case people are prohibited from looking at code on MXR.)",
        "b8810fee2f4a71f849f3f7409546d1d9 (12:38): https://bugzilla.mozilla.org/show_bug.cgi?id=245274",
        "b8810fee2f4a71f849f3f7409546d1d9 (12:38): https://bugzilla.mozilla.org/show_bug.cgi?id=245274#c7",
        "b25b6b77a0087ff8385941e5545d32ea (12:40): Interesting",
        "b25b6b77a0087ff8385941e5545d32ea (12:40): Is there other DOM stuff that depends on the quirkiness of the document?",
        "b8810fee2f4a71f849f3f7409546d1d9 (12:41): b25b6b77a0087ff8385941e5545d32ea: IIRC, yes",
        "65325d50b2e25aca54bc871b89758c9c (12:41): interesting - we never got those reports",
        "65325d50b2e25aca54bc871b89758c9c (12:41): (though we have had many bug reports from IBM on problems with their enterprise web apps)",
        "b25b6b77a0087ff8385941e5545d32ea (12:42): (I note in his absence that 002fd66affb058c756926402acf97570 found some stuff that used this to detect IE vs non IE and give them diffeent code paths)",
        "b25b6b77a0087ff8385941e5545d32ea (12:42): (and so broke in Gecko)",
        "b25b6b77a0087ff8385941e5545d32ea (12:42): (but I'm not sure how much)",
        "65325d50b2e25aca54bc871b89758c9c (12:42): wild",
        "b8810fee2f4a71f849f3f7409546d1d9 (12:43): getElementsByClassName()",
        "b8810fee2f4a71f849f3f7409546d1d9 (12:44): scroll info for body",
        "b8810fee2f4a71f849f3f7409546d1d9 (12:45): document.all",
        "b8810fee2f4a71f849f3f7409546d1d9 (12:45): color parsing",
        "b8810fee2f4a71f849f3f7409546d1d9 (12:45): in attribute values",
        "b8810fee2f4a71f849f3f7409546d1d9 (12:47): various attributes in tables",
        "cc097e0d7183ae8436e7df709553c8c0 (12:49): http://forums.whatwg.org/viewtopic.php?p=5274#5281",
        "cc097e0d7183ae8436e7df709553c8c0 (12:50): 65325d50b2e25aca54bc871b89758c9c: &quot;These components are not absolutely mandatory for a bug reports.&quot; s/a bug/all bug/",
        "65325d50b2e25aca54bc871b89758c9c (12:51): cc097e0d7183ae8436e7df709553c8c0: thanks",
        "cc097e0d7183ae8436e7df709553c8c0 (12:51): 65325d50b2e25aca54bc871b89758c9c: i thought bugs with insufficient information would be RESOLVED NEEDSINFO?",
        "65325d50b2e25aca54bc871b89758c9c (12:51): cc097e0d7183ae8436e7df709553c8c0: I guess it depends on the nature of what is missing",
        "65325d50b2e25aca54bc871b89758c9c (12:52): cc097e0d7183ae8436e7df709553c8c0: can you send that feedback to public-html please? I'd rather have substantive feedback on the list",
        "cc097e0d7183ae8436e7df709553c8c0 (12:53): ok",
        "002fd66affb058c756926402acf97570 (13:16): 65325d50b2e25aca54bc871b89758c9c: We've never had bug reports about it either",
        "002fd66affb058c756926402acf97570 (13:16): As far as I can tell, Gecko's half-way state is the worst for web compat",
        "b25b6b77a0087ff8385941e5545d32ea (13:21): 002fd66affb058c756926402acf97570: But possibly the best for intranet compat :(",
        "002fd66affb058c756926402acf97570 (13:30): b8810fee2f4a71f849f3f7409546d1d9: How many of the quirks do you think need to be in Web DOM Core and not HTML 5?",
        "65325d50b2e25aca54bc871b89758c9c (13:31): anything specific to HTML APIs should clearly be in HTML5",
        "65325d50b2e25aca54bc871b89758c9c (13:31): core DOM quirks, I could see an argument either way",
        "65325d50b2e25aca54bc871b89758c9c (13:31): though it would be nice if DOM Core itself could be kept free of quirks-mode-specific behaviors",
        "002fd66affb058c756926402acf97570 (13:33): That's what I think too. I'm just trying to think of whether there are any quirks that need to be in DOM Core",
        "002fd66affb058c756926402acf97570 (13:35): The fact that neither WebKit nor Opera supports the &lt;\u201a\u00c4\u00b6&gt; createElement fun is encouraging, though it's unclear whether intranet stuff relies upon it stil.",
        "b8810fee2f4a71f849f3f7409546d1d9 (13:35): 002fd66affb058c756926402acf97570: they can all be in HTML5 if you accept the delta spec section in HTML5 that already modifies DOM Core",
        "65325d50b2e25aca54bc871b89758c9c (13:35): well that createElement quirk would be a candidate, but I'm hoping it's safe to just drop",
        "65325d50b2e25aca54bc871b89758c9c (13:35): the other things b8810fee2f4a71f849f3f7409546d1d9 mentioned are specific to HTML APIs I think not DOM Core APIs",
        "b8810fee2f4a71f849f3f7409546d1d9 (13:35): wonders how much IBM intranet stuff relies on IE Custom Tags",
        "b8810fee2f4a71f849f3f7409546d1d9 (13:36): depends on whether one views document.all as HTML or Core",
        "65325d50b2e25aca54bc871b89758c9c (13:36): true; you could put document.all in Core",
        "b8810fee2f4a71f849f3f7409546d1d9 (13:36): though one might argue that Gecko is wrong to make document.all conditional on the quirkiness",
        "65325d50b2e25aca54bc871b89758c9c (13:36): in WebKit I believe we expose undetectable document.all in all modes",
        "002fd66affb058c756926402acf97570 (13:37): b8810fee2f4a71f849f3f7409546d1d9: There's no way around having HTML 5 modify certain behaviours for HTMLDocumnent and HTMLElement AFAIK. I'd rather document.all was HTMLDocument.all",
        "002fd66affb058c756926402acf97570 (13:37): I really don't see any reason for that to create onto Document.all",
        "b8810fee2f4a71f849f3f7409546d1d9 (13:37): 002fd66affb058c756926402acf97570: how does that help when HTML5 requires all document objects to implement HTMLDocument and SVGDocument anyway?",
        "65325d50b2e25aca54bc871b89758c9c (13:38): since HTML5 requires all document objects to implement HTMLDocument and SVGDocument, there's not much practical benefit to moving APIs from HTML5 to DOM Core",
        "b8810fee2f4a71f849f3f7409546d1d9 (13:38): keeping Core clean and applying a delta in HTML5 reminds me of the latest TAG minutes",
        "65325d50b2e25aca54bc871b89758c9c (13:38): just a potential question for spec purity",
        "65325d50b2e25aca54bc871b89758c9c (13:38): for cases where HTML5 modifies the behavior of existing DOM Core methods, that should ideally be in DOM Core",
        "65325d50b2e25aca54bc871b89758c9c (13:39): those aren't quirks, just changes (applicable only to HTML documents)",
        "002fd66affb058c756926402acf97570 (13:39): 65325d50b2e25aca54bc871b89758c9c: Some of those are specific to HTML documents though",
        "002fd66affb058c756926402acf97570 (13:39): 65325d50b2e25aca54bc871b89758c9c: And it seems silly for those to be in DOM Core when they only apply to HTML documents",
        "65325d50b2e25aca54bc871b89758c9c (13:39): I wonder if it would be useful to expose the HTMLness bit of the Document in some more explicit way",
        "65325d50b2e25aca54bc871b89758c9c (13:40): 002fd66affb058c756926402acf97570: at the very least DOM Core should be written in a way that HTML5 doesn't have to *contradict* it",
        "65325d50b2e25aca54bc871b89758c9c (13:40): I think it would be fine to have an extension point instead of specifying html document behaviors directly",
        "65325d50b2e25aca54bc871b89758c9c (13:40): though that creates a bit more risk that things fall through the cracks between the documents",
        "002fd66affb058c756926402acf97570 (13:41): 65325d50b2e25aca54bc871b89758c9c: How can we avoid having HTMLDocument override things like createElement though, to do case-insensitive creation?",
        "65325d50b2e25aca54bc871b89758c9c (13:41): I think it would be fine for DOM Core to be aware of the idea of XML documents and HTML documents as different things",
        "65325d50b2e25aca54bc871b89758c9c (13:41): 002fd66affb058c756926402acf97570: that's a property of being an &quot;html document&quot; (as opposed to an xml document), not a property of the HTMLDocument interface",
        "b844a0a98f81c321afe1d38ae37f3c28 (14:01): channel #whatwg",
        "25812bf456959aa5f28dc570f341a3ba (14:01): is 'WHATWG (HTML5) -- http://www.whatwg.org/ -- Logs: http://krijnhoetmer.nl/irc-logs/ -- Please leave your sense of logic at the door, thanks!'",
        "5d5b78699e57104f2fa03bbdf7b9197b (14:01): by annevk3 on Wed Sep 09 23:23:54",
        "b8810fee2f4a71f849f3f7409546d1d9 (14:02): based on the test case Opera and WebKit don't do the magic",
        "cc097e0d7183ae8436e7df709553c8c0 (14:02): the test might be bogus for opera",
        "65325d50b2e25aca54bc871b89758c9c (14:02): we do look at the namespaceURI parameter to createDocument() to decide what document interface to create",
        "65325d50b2e25aca54bc871b89758c9c (14:03): we do not yet do the HTML5 thing of all interfaces on all documents",
        "b8810fee2f4a71f849f3f7409546d1d9 (14:04): goes file a bug",
        "cc097e0d7183ae8436e7df709553c8c0 (14:08): http://software.hixie.ch/utilities/js/live-dom-viewer/saved/263 has a correct test for opera",
        "cc097e0d7183ae8436e7df709553c8c0 (14:09): when i think about it, i'm not sure opera has the htmlness bit on the document, but has it on elements instead",
        "cc097e0d7183ae8436e7df709553c8c0 (14:10): uh, that test is still bogus",
        "cc097e0d7183ae8436e7df709553c8c0 (14:11): a HEAD element is inserted...",
        "cc097e0d7183ae8436e7df709553c8c0 (14:11): gives up",
        "002fd66affb058c756926402acf97570 (14:11): Honestly, can't you write a non-bogus test?",
        "cc097e0d7183ae8436e7df709553c8c0 (14:11): no",
        "b8810fee2f4a71f849f3f7409546d1d9 (14:13): ttps://bugzilla.mozilla.org/show_bug.cgi?id=520969",
        "b8810fee2f4a71f849f3f7409546d1d9 (14:13): https://bugzilla.mozilla.org/show_bug.cgi?id=520969",
        "b8810fee2f4a71f849f3f7409546d1d9 (14:15): wishes Congress took the Eastern District of Texas out of business already",
        "b8810fee2f4a71f849f3f7409546d1d9 (14:16): or SCOTUS if the Congress can't get their act together",
        "cc097e0d7183ae8436e7df709553c8c0 (14:16): http://software.hixie.ch/utilities/js/live-dom-viewer/saved/264 is non-bogus for opera (but bogus for others)"
    ],
    "person_ids": [
        "002fd66affb058c756926402acf97570",
        "b8810fee2f4a71f849f3f7409546d1d9",
        "b25b6b77a0087ff8385941e5545d32ea",
        "65325d50b2e25aca54bc871b89758c9c",
        "cc097e0d7183ae8436e7df709553c8c0",
        "b844a0a98f81c321afe1d38ae37f3c28",
        "25812bf456959aa5f28dc570f341a3ba",
        "5d5b78699e57104f2fa03bbdf7b9197b"
    ]
}