{
    "id": "d9e88b65443fc132811940a8398b2678",
    "messages": [
        "65325d50b2e25aca54bc871b89758c9c (11:03): filing these bugs from the conformance study is making me learn more than I wanted to know about all sorts of stuff (now the tokenizer)",
        "65325d50b2e25aca54bc871b89758c9c (11:03): b8810fee2f4a71f849f3f7409546d1d9: is tokenization inside attributes and inside text content similar enough to be useful right now?",
        "70bfd0ae2cfbf2da192bddd569cf6132 (11:08): After mapping out the default stylesheets for ie, I tried running one on Google Chrome.",
        "70bfd0ae2cfbf2da192bddd569cf6132 (11:08): Not only does it crash Chrome, it crashes all of Chrome's tabs.",
        "65325d50b2e25aca54bc871b89758c9c (11:09): 70bfd0ae2cfbf2da192bddd569cf6132: tried running one of what?",
        "65325d50b2e25aca54bc871b89758c9c (11:09): wonders if that is a Chrome bug or a WebKit bug and whether it has been reported",
        "70bfd0ae2cfbf2da192bddd569cf6132 (11:11): Stranger, it only crashes when I run it on my localhost",
        "70bfd0ae2cfbf2da192bddd569cf6132 (11:12): http://sandbox.thewikies.com/html5-browser-stylesheets/style.php?b=ie6",
        "70bfd0ae2cfbf2da192bddd569cf6132 (11:14): Here's a pic of the crash @ http://sandbox.thewikies.com/html5-browser-stylesheets/crash.png",
        "a0f2d35bbc48e637c7fcaaa946ceaa60 (11:15): 70bfd0ae2cfbf2da192bddd569cf6132: What version of Chrome/Chromium?",
        "70bfd0ae2cfbf2da192bddd569cf6132 (11:15): a0f2d35bbc48e637c7fcaaa946ceaa60, 4.1.249.1042 (42199)",
        "a0f2d35bbc48e637c7fcaaa946ceaa60 (11:17): 70bfd0ae2cfbf2da192bddd569cf6132: Hmm, and it only crashes on localhost, is it consistent?",
        "70bfd0ae2cfbf2da192bddd569cf6132 (11:17): yeappers",
        "70bfd0ae2cfbf2da192bddd569cf6132 (11:17): only when I run the php file too.",
        "a0f2d35bbc48e637c7fcaaa946ceaa60 (11:17): 70bfd0ae2cfbf2da192bddd569cf6132: Heh, I wonder what could cause it to crash locally but not remotely =p",
        "70bfd0ae2cfbf2da192bddd569cf6132 (11:18): You can use http://sandbox.thewikies.com/html5-browser-stylesheets/style.php.txt to save the php file locally.",
        "a0f2d35bbc48e637c7fcaaa946ceaa60 (11:21): 70bfd0ae2cfbf2da192bddd569cf6132: It seems to do all right over here, both locally and remotely on 41671",
        "70bfd0ae2cfbf2da192bddd569cf6132 (11:22): Yea, it's very mysterious.",
        "70bfd0ae2cfbf2da192bddd569cf6132 (11:22): Nevertheless, I have some nifty ie6, ie7, ie8 default stylesheets in there now.",
        "a0f2d35bbc48e637c7fcaaa946ceaa60 (11:23): 70bfd0ae2cfbf2da192bddd569cf6132: http://sandbox.thewikies.com/html5-browser-stylesheets/elements.ie.js seems to be broken too, doubt it's relevant though :)",
        "a0f2d35bbc48e637c7fcaaa946ceaa60 (11:23): 70bfd0ae2cfbf2da192bddd569cf6132: Yeah, did you extract them manually?",
        "65325d50b2e25aca54bc871b89758c9c (11:23): 70bfd0ae2cfbf2da192bddd569cf6132: does the whole browser go down?",
        "65325d50b2e25aca54bc871b89758c9c (11:24): 70bfd0ae2cfbf2da192bddd569cf6132: you might be crashing the app process, rather than the WebKit process",
        "70bfd0ae2cfbf2da192bddd569cf6132 (11:24): a0f2d35bbc48e637c7fcaaa946ceaa60, no, only partially.  IE will report the default styling of elements in some instances.  The rest took many, many tests.",
        "65325d50b2e25aca54bc871b89758c9c (11:24): 70bfd0ae2cfbf2da192bddd569cf6132: yeah, you did, from that screenshot",
        "70bfd0ae2cfbf2da192bddd569cf6132 (11:24): Discovering when it was using pt vs px vs em.",
        "65325d50b2e25aca54bc871b89758c9c (11:24): fwiw that page opens fine in Safari, but I dunno what was up with your local copy",
        "a0f2d35bbc48e637c7fcaaa946ceaa60 (11:25): 65325d50b2e25aca54bc871b89758c9c, 70bfd0ae2cfbf2da192bddd569cf6132: There might be something to it then, maybe in a newer build (or win32 only), I'm running under linux here without crashes",
        "70bfd0ae2cfbf2da192bddd569cf6132 (11:25): 65325d50b2e25aca54bc871b89758c9c, i can run it locally in safari all day without a crash, in chrome it takes but one refresh",
        "65325d50b2e25aca54bc871b89758c9c (11:25): definitely a Chrome bug, not a WebKit bug, then",
        "a0f2d35bbc48e637c7fcaaa946ceaa60 (11:28): 70bfd0ae2cfbf2da192bddd569cf6132: I bet it's the empty &lt;object type=&quot;application/x-shockwave-flash&quot;&gt; that crashes it :)",
        "70bfd0ae2cfbf2da192bddd569cf6132 (11:28): Lemme check.",
        "70bfd0ae2cfbf2da192bddd569cf6132 (11:29): Okay, crashed it, now removing the object",
        "70bfd0ae2cfbf2da192bddd569cf6132 (11:29): oof, still crashes",
        "a0f2d35bbc48e637c7fcaaa946ceaa60 (11:29): 70bfd0ae2cfbf2da192bddd569cf6132: Or perhaps the empty source element in &lt;video&gt;, stuff like that could likely cause a crash in a daily",
        "65325d50b2e25aca54bc871b89758c9c (11:30): 70bfd0ae2cfbf2da192bddd569cf6132: I would guess it's the filename crashing it",
        "65325d50b2e25aca54bc871b89758c9c (11:30): 70bfd0ae2cfbf2da192bddd569cf6132: try renaming the file or moving it to a different path",
        "70bfd0ae2cfbf2da192bddd569cf6132 (11:30): Yessir, that was it, the &lt;video&gt; source element.",
        "b8810fee2f4a71f849f3f7409546d1d9 (11:30): 65325d50b2e25aca54bc871b89758c9c: named character references currently tokenize the same way in attribute values and in element content",
        "65325d50b2e25aca54bc871b89758c9c (11:30): (just trying to guess things that would take down the Chrome UI process)",
        "65325d50b2e25aca54bc871b89758c9c (11:30): hah, wow",
        "70bfd0ae2cfbf2da192bddd569cf6132 (11:31): Yes, and I add it back in and it crashes.",
        "65325d50b2e25aca54bc871b89758c9c (11:31): b8810fee2f4a71f849f3f7409546d1d9: whoah, are they officially called &quot;named character references&quot;? cause that would be hella confusing",
        "65325d50b2e25aca54bc871b89758c9c (11:31): (what with the &quot;NCR&quot; abbreviation)",
        "b8810fee2f4a71f849f3f7409546d1d9 (11:32): 65325d50b2e25aca54bc871b89758c9c: the thingies formerly known as entities are now named character references",
        "65325d50b2e25aca54bc871b89758c9c (11:32): b8810fee2f4a71f849f3f7409546d1d9: entity tokenization is the one thing that is very slightly different in quoted attribute values: http://dev.w3.org/html5/spec/Overview.html#attribute-value-double-quoted-state",
        "65325d50b2e25aca54bc871b89758c9c (11:32): (vs http://dev.w3.org/html5/spec/Overview.html#data-state )",
        "a0f2d35bbc48e637c7fcaaa946ceaa60 (11:32): 70bfd0ae2cfbf2da192bddd569cf6132: Sweet, now we know how to crash chromium dailies :)",
        "70bfd0ae2cfbf2da192bddd569cf6132 (11:33): :) glad I could help in a way entirely unrelated to what I was trying to accomplish.",
        "b8810fee2f4a71f849f3f7409546d1d9 (11:34): 65325d50b2e25aca54bc871b89758c9c: oops. sorry. I misread my code.",
        "65325d50b2e25aca54bc871b89758c9c (11:34): b8810fee2f4a71f849f3f7409546d1d9: in fact, just making &quot;=&quot; be treated as an extra &quot;additional allowed character&quot; would do the trick",
        "65325d50b2e25aca54bc871b89758c9c (11:34): b8810fee2f4a71f849f3f7409546d1d9: that being said, I amended the bug because I think my reasons to limit the request were misguided",
        "65325d50b2e25aca54bc871b89758c9c (11:36): hello f139aba52f9fa1394b4034a7954b2220",
        "f139aba52f9fa1394b4034a7954b2220 (11:36): hello 65325d50b2e25aca54bc871b89758c9c",
        "b8810fee2f4a71f849f3f7409546d1d9 (11:39): 65325d50b2e25aca54bc871b89758c9c: the &quot;additional allowed character&quot; takes effect immediately after the ampersand",
        "b8810fee2f4a71f849f3f7409546d1d9 (11:40): 65325d50b2e25aca54bc871b89758c9c: so it's too interesting",
        "65325d50b2e25aca54bc871b89758c9c (11:40): b8810fee2f4a71f849f3f7409546d1d9: s/too interesting/not too interesting/ ?",
        "b8810fee2f4a71f849f3f7409546d1d9 (11:40): 65325d50b2e25aca54bc871b89758c9c: oops. right",
        "b8810fee2f4a71f849f3f7409546d1d9 (11:40): 65325d50b2e25aca54bc871b89758c9c: the actually interesting bit is this: &quot;If the character reference is being consumed as part of an attribute, and the last character matched is not a U+003B SEMICOLON character (;), and the next character is in the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), U+0041 LATIN CAPITAL LETTER A to U+005A LATIN CAPITAL LETTER Z, or U+0061 LATIN SMALL LETTER A to U+007A LATIN SMALL LETTER Z, then, for historical reasons, all the characte",
        "b8810fee2f4a71f849f3f7409546d1d9 (11:41): which I was trying to locate by reading code, but failed to see even though it was in plain view in my code",
        "65325d50b2e25aca54bc871b89758c9c (11:41): b8810fee2f4a71f849f3f7409546d1d9: got cut off",
        "b8810fee2f4a71f849f3f7409546d1d9 (11:41): If the character reference is being consumed as part of an attribute, and the last character matched is not a U+003B SEMICOLON character (;), and the next character is in the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), U+0041 LATIN CAPITAL LETTER A to U+005A LATIN CAPITAL LETTER Z",
        "b8810fee2f4a71f849f3f7409546d1d9 (11:42): , or U+0061 LATIN SMALL LETTER A to U+007A LATIN SMALL LETTER Z, then, for historical reasons, all the characters that were matched after the U+0026 AMPERSAND character (&amp;) must be unconsumed, and nothing is returned.",
        "65325d50b2e25aca54bc871b89758c9c (11:42): b8810fee2f4a71f849f3f7409546d1d9: I guess it's still true that there is already a difference, I was just wrong that the additional allowed character isthe key one",
        "65325d50b2e25aca54bc871b89758c9c (11:42): I found it in the spec, no worries",
        "b8810fee2f4a71f849f3f7409546d1d9 (11:42): 65325d50b2e25aca54bc871b89758c9c: yeah",
        "65325d50b2e25aca54bc871b89758c9c (11:42): I guess that is the list to add = to, as previously identified by cc097e0d7183ae8436e7df709553c8c0 on the old thread on this I believe",
        "b8810fee2f4a71f849f3f7409546d1d9 (11:43): putting = on that list would certainly remove a sharp edge from the language",
        "b8810fee2f4a71f849f3f7409546d1d9 (11:44): do we have data gathered by intrumenting that particular point in the tokenizer?",
        "b8810fee2f4a71f849f3f7409546d1d9 (11:44): instrumenting",
        "65325d50b2e25aca54bc871b89758c9c (11:44): not as far as I know",
        "65325d50b2e25aca54bc871b89758c9c (11:45): however, one of the emails I linked in the bug cites raw data",
        "b8810fee2f4a71f849f3f7409546d1d9 (11:53): looks like the only real danger is indeed &amp;amp=",
        "b8810fee2f4a71f849f3f7409546d1d9 (11:53): it would be possible to special-case &amp;amp=",
        "b8810fee2f4a71f849f3f7409546d1d9 (11:53): even though I'm generally scared of heavy DWIM",
        "b8810fee2f4a71f849f3f7409546d1d9 (11:54): ooh. crazy. I misread the data",
        "65325d50b2e25aca54bc871b89758c9c (11:55): I guess my bug is a dupe of http://www.w3.org/Bugs/Public/show_bug.cgi?id=9207",
        "b8810fee2f4a71f849f3f7409546d1d9 (11:55): indeed they seem to want &amp;amp= to mean &amp;amp;amp=",
        "65325d50b2e25aca54bc871b89758c9c (11:55): Hixie did find at least one case where it seemed &quot;&amp;amp=&quot; was meant to be &quot;&amp;amp;&quot; [sic]",
        "cc097e0d7183ae8436e7df709553c8c0 (11:57): 65325d50b2e25aca54bc871b89758c9c: i've added a new comment to that bug",
        "65325d50b2e25aca54bc871b89758c9c (11:57): cc097e0d7183ae8436e7df709553c8c0: yeah, that's how I noticed",
        "65325d50b2e25aca54bc871b89758c9c (11:57): trying to decide if I should dupe mine to that",
        "b8810fee2f4a71f849f3f7409546d1d9 (11:57): I was such a bad idea to use an SGML special character as a special character in URLs, too",
        "65325d50b2e25aca54bc871b89758c9c (11:57): my bug makes a narrower request and has potentially useful comments, but I could always copy the comments",
        "65325d50b2e25aca54bc871b89758c9c (11:58): or I could cross-reference them and let Hixie decide whether it is a dupe",
        "b8810fee2f4a71f849f3f7409546d1d9 (11:58): btw, is what the spec now says only for IE-compat and there are other browsers that don't expand &amp;copy= to the copyright sign?",
        "b8810fee2f4a71f849f3f7409546d1d9 (11:59): old Gecko expands :-(",
        "b8810fee2f4a71f849f3f7409546d1d9 (12:00): WebKit, too",
        "cc097e0d7183ae8436e7df709553c8c0 (12:04): going by train is great, because then i have time to analyze things like this",
        "65325d50b2e25aca54bc871b89758c9c (12:06): b8810fee2f4a71f849f3f7409546d1d9: what the spec says now matches browsers better than the proposed changes, the motive for changing parsing is that it may fix more content than it breaks, in addition to removing a sharp edge",
        "cc097e0d7183ae8436e7df709553c8c0 (12:11): &amp;reg_nr= will still have the sharp edge",
        "65325d50b2e25aca54bc871b89758c9c (12:14): unless we add _ to the list too",
        "b8810fee2f4a71f849f3f7409546d1d9 (12:17): wonders how &amp; was added to URLs",
        "cc097e0d7183ae8436e7df709553c8c0 (12:17): yes but that would break some pages",
        "b8810fee2f4a71f849f3f7409546d1d9 (12:17): presumably it wasn't part of TimBL's original design, because isindex doesn't need it",
        "65325d50b2e25aca54bc871b89758c9c (12:17): probably added whenever forms were added",
        "65325d50b2e25aca54bc871b89758c9c (12:18): it does seem like it would have been wise to pick a different separator",
        "b8810fee2f4a71f849f3f7409546d1d9 (12:18): who was the first to add forms? Lynx?",
        "b8810fee2f4a71f849f3f7409546d1d9 (12:19): http://people.cc.ku.edu/~grobe/early-lynx.html pointsto Lou Montulli",
        "65325d50b2e25aca54bc871b89758c9c (12:20): forms existed in HTML 2",
        "65325d50b2e25aca54bc871b89758c9c (12:20): so at the latest by 1995",
        "65325d50b2e25aca54bc871b89758c9c (12:20): Lou Montulli is personally responsible for a surprising number of completely broken things",
        "b8810fee2f4a71f849f3f7409546d1d9 (12:20): http://www.montulli.org/lou",
        "65325d50b2e25aca54bc871b89758c9c (12:20): (not necessarily saying forms is one of them, but that's the context where I usually hear his name)",
        "b8810fee2f4a71f849f3f7409546d1d9 (12:21): forms go back to 1992: http://lists.w3.org/Archives/Public/www-talk/1992NovDec/0212.html",
        "65325d50b2e25aca54bc871b89758c9c (12:21): cookies, server push, the blink tag, and animated GIFs",
        "65325d50b2e25aca54bc871b89758c9c (12:21): we get to enjoy all those things on the web thanks to him",
        "65325d50b2e25aca54bc871b89758c9c (12:22): I guess someone else gave us the wonder of framesets",
        "65325d50b2e25aca54bc871b89758c9c (12:23): so is there a record there of who decided &amp; should be the field separator in URL queries?",
        "b8810fee2f4a71f849f3f7409546d1d9 (12:24): w3.org doesn't have archives from 1993 and 1994, so the thread goes into unarchived territory",
        "65325d50b2e25aca54bc871b89758c9c (12:25): I wonder if any of the folks who were around back then remember",
        "b8810fee2f4a71f849f3f7409546d1d9 (12:26): hmm. looks like served admins have accidentally knocked my personal site off the Web over the weekend",
        "65325d50b2e25aca54bc871b89758c9c (12:29): at least in 1993, forms were not in the Internet Draft for HTML: http://www.w3.org/MarkUp/draft-ietf-iiir-html-01.txt",
        "65325d50b2e25aca54bc871b89758c9c (12:30): &quot;HTML 3.0 did not succeed for several reasons. The draft was considered very large at 150 pages....&quot;"
    ],
    "person_ids": [
        "65325d50b2e25aca54bc871b89758c9c",
        "70bfd0ae2cfbf2da192bddd569cf6132",
        "a0f2d35bbc48e637c7fcaaa946ceaa60",
        "b8810fee2f4a71f849f3f7409546d1d9",
        "f139aba52f9fa1394b4034a7954b2220",
        "cc097e0d7183ae8436e7df709553c8c0"
    ]
}