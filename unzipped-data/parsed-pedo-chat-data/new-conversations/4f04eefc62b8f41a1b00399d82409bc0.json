{
    "id": "4f04eefc62b8f41a1b00399d82409bc0",
    "messages": [
        "3d227d1b425bd36abdb926e5ab990a00 (00:54): Not sure if this is the right channel to ask this... Suppose JavaScript is enabled and consider the following XHTML page: &lt;html xmlns=&quot;....&quot;&gt;&lt;head&gt;&lt;noscript&gt;&lt;meta http-equiv=&quot;refresh&quot; content=&quot;0;url=http://example.com&quot;/&gt;&lt;/noscript&gt;&lt;/head&gt;&lt;body&gt;Site1&lt;/body&gt;&lt;/html&gt;.",
        "3d227d1b425bd36abdb926e5ab990a00 (00:54): What should the outcome be for processing this page? a redirect? or no-redirect?",
        "3f2e2531201cfbf853f16f668132eaf2 (00:55): What do you mean by &quot;XHTML&quot;?",
        "3f2e2531201cfbf853f16f668132eaf2 (00:55): Served as application/xhtml+xml?",
        "3d227d1b425bd36abdb926e5ab990a00 (00:55): 3f2e2531201cfbf853f16f668132eaf2: yes",
        "3f2e2531201cfbf853f16f668132eaf2 (00:56): Then &lt;noscript&gt; isn't allowed and will have no effect, and the meta refresh will be processed as normal",
        "3d227d1b425bd36abdb926e5ab990a00 (00:58): 3f2e2531201cfbf853f16f668132eaf2, where in the spec or DTD, do you see this?",
        "3d227d1b425bd36abdb926e5ab990a00 (00:58): Is it the in the definition for %head.content in &lt;http://www.w3.org/TR/2001/REC-xhtml-modularization-20010410/dtd_module_defs.html#a_module_Structure&gt;?",
        "3f2e2531201cfbf853f16f668132eaf2 (00:58): http://whatwg.org/html5#the-noscript-element - &quot;Note: The noscript element is only effective in the HTML syntax, it has no effect in the XHTML syntax.&quot;",
        "3f2e2531201cfbf853f16f668132eaf2 (00:59): (because it's implemented by changing the way the element is parsed, which is impossible in XHTML)",
        "3f2e2531201cfbf853f16f668132eaf2 (01:00): is talking about HTML5 since that's most likely to reflect reality, and doesn't know what older specs might say",
        "a924fb58d2c25874322f4e5126f608b9 (01:00): XHTML doesn't say anything at all about noscript that I can see",
        "a924fb58d2c25874322f4e5126f608b9 (01:00): Just brushed under the carpet",
        "3f2e2531201cfbf853f16f668132eaf2 (01:01): If you brush enough things under your carpet to create a giant pile then it looks quite like your carpet is magically flying",
        "3d227d1b425bd36abdb926e5ab990a00 (01:02): yes, it is unclear from the xhtml spec",
        "3f2e2531201cfbf853f16f668132eaf2 (01:02): It is quite a recommended strategy",
        "a924fb58d2c25874322f4e5126f608b9 (01:02): Or it looks like you have an elephant under the carpet",
        "3d227d1b425bd36abdb926e5ab990a00 (01:03): Does anybody know how this &lt;noscript&gt; in &lt;head&gt; example works under the XHTML-MP spec",
        "3d227d1b425bd36abdb926e5ab990a00 (01:03): ?",
        "3d227d1b425bd36abdb926e5ab990a00 (01:03): &lt;http://www.openmobilealliance.org/Technical/release_program/docs/copyrightclick.aspx?pck=Browsing&amp;file=V2_2-20061020-A/OMA-WAP-XHTMLMP-V1_1-20061020-A.pdf&gt;",
        "3f2e2531201cfbf853f16f668132eaf2 (01:03): a924fb58d2c25874322f4e5126f608b9: Declare the elephant to be Somebody Else's Problem and then you won't have to worry about it",
        "a924fb58d2c25874322f4e5126f608b9 (01:04): Somebody Else's Elephant",
        "3d227d1b425bd36abdb926e5ab990a00 (01:05): or I would appreciate if someone could help me parse what the XHTML-MP spec saids.",
        "a924fb58d2c25874322f4e5126f608b9 (01:05): I suspect it doesn't actually say anything",
        "3f2e2531201cfbf853f16f668132eaf2 (01:06): Its examples don't even use xmlns on &lt;html&gt;",
        "3d227d1b425bd36abdb926e5ab990a00 (01:06): a924fb58d2c25874322f4e5126f608b9: In section 9.2.1.2 (page 16), it saids at the end of the first bullet &quot;The user agent MUST NOT process noscript elements until it has encountered an unsupported script.&quot;",
        "3d227d1b425bd36abdb926e5ab990a00 (01:07): 3f2e2531201cfbf853f16f668132eaf2: could the examples be wrong?",
        "3f2e2531201cfbf853f16f668132eaf2 (01:07): If you care what browsers should do and what desktop browsers probably do do, then you should refer to HTML5; if you care what weird mobile browsers do, you should test them directly",
        "a924fb58d2c25874322f4e5126f608b9 (01:07): &quot;An ECMAScript program, as defined in [ECMAScript], is included with an XHTML Mobile Profile document using the script element. The script element defines a script, which is a series of ECMAScript statements.&quot;",
        "a924fb58d2c25874322f4e5126f608b9 (01:08): &quot;While loading the document, the user agent MUST process all script elements encountered in the document. For each script element, the user agent MUST determine if the script language specified by the element (using the type attribute) is a supported language&quot;",
        "3f2e2531201cfbf853f16f668132eaf2 (01:08): XHTML-MP seems to be vague enough that it's either useless or wrong or both",
        "a924fb58d2c25874322f4e5126f608b9 (01:09): So all scripts are ECMAScript, but they might not be after all",
        "3d227d1b425bd36abdb926e5ab990a00 (01:09): For your reference, I'm am trying to look into WebKit bug 32706 &lt;https://bugs.webkit.org/show_bug.cgi?id=32706&gt;",
        "3f2e2531201cfbf853f16f668132eaf2 (01:09): (&quot;All sections and appendixes, except &quot;Scope&quot; and &quot;Error! Not a valid bookmark self-reference.&quot;, are normative&quot; - interesting section name)",
        "3d227d1b425bd36abdb926e5ab990a00 (01:10): 3f2e2531201cfbf853f16f668132eaf2: So, I take it that I should fallback to the HTML 5 definition then in this case?",
        "a924fb58d2c25874322f4e5126f608b9 (01:10): 9.2.1.2 goes in further detail, but it seems like a bad idea",
        "a924fb58d2c25874322f4e5126f608b9 (01:10): It only processes noscript elements found _after_ the first unknown script",
        "a924fb58d2c25874322f4e5126f608b9 (01:10): Either that or it requires the processor to backtrack",
        "3d227d1b425bd36abdb926e5ab990a00 (01:11): a924fb58d2c25874322f4e5126f608b9: I agree, I think XHTML-MP is a mess",
        "a924fb58d2c25874322f4e5126f608b9 (01:11): 3d227d1b425bd36abdb926e5ab990a00: I really think the best idea would be to ask the WG behind XHTML-MP",
        "a924fb58d2c25874322f4e5126f608b9 (01:11): Since the spec is quite vague on this point",
        "3d227d1b425bd36abdb926e5ab990a00 (01:11): a924fb58d2c25874322f4e5126f608b9: not sure how this managed to get into WebKit",
        "a924fb58d2c25874322f4e5126f608b9 (01:11): They will probably punt to HTML4",
        "3d227d1b425bd36abdb926e5ab990a00 (01:12): a924fb58d2c25874322f4e5126f608b9: That seems to agree with what I have read somewhere in the XHTML spec.",
        "3f2e2531201cfbf853f16f668132eaf2 (01:13): Seems sensible to me to consistently stick with what HTML5 defines, except in cases where compatibility with existing content requires different behaviour",
        "a924fb58d2c25874322f4e5126f608b9 (01:13): But most likely you'll end up with what 3f2e2531201cfbf853f16f668132eaf2 said in the first place",
        "3d227d1b425bd36abdb926e5ab990a00 (01:13): That is, refer to HTML 4 spec",
        "a924fb58d2c25874322f4e5126f608b9 (01:13): That noscript isn't compatible with XML",
        "3d227d1b425bd36abdb926e5ab990a00 (01:13): a924fb58d2c25874322f4e5126f608b9: so, ignore &lt;noscript&gt; then?",
        "3d227d1b425bd36abdb926e5ab990a00 (01:14): (for XHTML/XML)",
        "a924fb58d2c25874322f4e5126f608b9 (01:14): Ignore as in always process the contents",
        "3d227d1b425bd36abdb926e5ab990a00 (01:14): a924fb58d2c25874322f4e5126f608b9: What does &quot;process the contents&quot; mean?",
        "3d227d1b425bd36abdb926e5ab990a00 (01:14): Consider the above example with the meta redirect",
        "a924fb58d2c25874322f4e5126f608b9 (01:14): Redirect",
        "a924fb58d2c25874322f4e5126f608b9 (01:14): Basically act as if scripting was disabled",
        "3d227d1b425bd36abdb926e5ab990a00 (01:15): a924fb58d2c25874322f4e5126f608b9: One thing though, consider this page: &lt;html xmlns=&quot;....&quot;&gt;&lt;head&gt;...&lt;/head&gt;&lt;body&gt;&lt;noscript&gt;Site1&lt;/noscript&gt;&lt;/body&gt;&lt;/html&gt;.",
        "3d227d1b425bd36abdb926e5ab990a00 (01:16): a924fb58d2c25874322f4e5126f608b9: How should we handle that if scripting is enabled?",
        "3f2e2531201cfbf853f16f668132eaf2 (01:16): As far as I can see, the only noscript behaviour that HTML5 defines is in the HTML parser (which switches to RAWTEXT parsing mode if scripting is enabled, so the content will be treated as text and not as markup)",
        "3d227d1b425bd36abdb926e5ab990a00 (01:16): Process it?",
        "3d227d1b425bd36abdb926e5ab990a00 (01:16): Process it and not render the contents? ignore?",
        "3f2e2531201cfbf853f16f668132eaf2 (01:16): (and the HTML parser is not used for XHTML pages)",
        "a924fb58d2c25874322f4e5126f608b9 (01:16): 3d227d1b425bd36abdb926e5ab990a00: Just act as if noscript is a semantic-less element",
        "3f2e2531201cfbf853f16f668132eaf2 (01:16): and otherwise it's treated exactly the same as a &lt;foobar&gt; element",
        "a924fb58d2c25874322f4e5126f608b9 (01:16): Kind of like a &lt;div&gt; with no layout effects",
        "a924fb58d2c25874322f4e5126f608b9 (01:17): I have no idea if it's valid XHTML or not",
        "3f2e2531201cfbf853f16f668132eaf2 (01:17): a924fb58d2c25874322f4e5126f608b9: You could just say &quot;like a &lt;span&gt;&quot; :-)",
        "3d227d1b425bd36abdb926e5ab990a00 (01:17): a924fb58d2c25874322f4e5126f608b9: Can you elaborate what you mean by semantic-less element?",
        "a924fb58d2c25874322f4e5126f608b9 (01:18): 3d227d1b425bd36abdb926e5ab990a00: Like 3f2e2531201cfbf853f16f668132eaf2 says",
        "3d227d1b425bd36abdb926e5ab990a00 (01:18): oops, so, render it then?",
        "3d227d1b425bd36abdb926e5ab990a00 (01:18): (I mean render its contents like a &lt;div&gt;)",
        "a924fb58d2c25874322f4e5126f608b9 (01:18): Yes",
        "3d227d1b425bd36abdb926e5ab990a00 (01:18): a924fb58d2c25874322f4e5126f608b9, this seems to contradict &lt;http://www.w3.org/TR/html4/interact/scripts.html#h-18.3.1&gt;",
        "3d227d1b425bd36abdb926e5ab990a00 (01:19): (when scripting is enabled)",
        "3d227d1b425bd36abdb926e5ab990a00 (01:19): &quot;The content of a NOSCRIPT element should only be rendered by a script-aware user agent in the following cases",
        "3d227d1b425bd36abdb926e5ab990a00 (01:19): ...The user agent is configured not to evaluate scripts.",
        "a924fb58d2c25874322f4e5126f608b9 (01:20): 3d227d1b425bd36abdb926e5ab990a00: Well, you're now entering an entirely separate madness",
        "3d227d1b425bd36abdb926e5ab990a00 (01:20): awesome :-(",
        "a924fb58d2c25874322f4e5126f608b9 (01:20): Notice how it only affects rendering, so the meta redirect would work fine",
        "3d227d1b425bd36abdb926e5ab990a00 (01:20): :-)",
        "a924fb58d2c25874322f4e5126f608b9 (01:21): [01:12:14] &lt 3f2e2531201cfbf853f16f668132eaf2&gt; Seems sensible to me to consistently stick with what HTML5 defines, except in cases where compatibility with existing content requires different behaviour",
        "3d227d1b425bd36abdb926e5ab990a00 (01:21): a924fb58d2c25874322f4e5126f608b9, oh right",
        "3d227d1b425bd36abdb926e5ab990a00 (01:21): awesome",
        "a924fb58d2c25874322f4e5126f608b9 (01:21): The HTML4 definition is really too out of wack",
        "3d227d1b425bd36abdb926e5ab990a00 (01:21): So, then I don't think this is a bug then",
        "3f2e2531201cfbf853f16f668132eaf2 (01:22): (If compatibility with existing content requires different behaviour, then HTML5 should be updated, unless it's an obscure mode-specific thing for mobile browsers or whatever and has to be incompatible with normal web page behaviour)",
        "3d227d1b425bd36abdb926e5ab990a00 (01:22): (I mean WebKit handles it correctly; That is, when scripts are disabled, WebKit doesn't render contents in second example, but redirect in my first example)",
        "a924fb58d2c25874322f4e5126f608b9 (01:23): maybe noscript is treated display:none, that's still XML-compatible",
        "3f2e2531201cfbf853f16f668132eaf2 (01:25): had forgotten about rendering",
        "3f2e2531201cfbf853f16f668132eaf2 (01:25): HTML5 says &quot;The user agent is expected to hide noscript elements for whom scripting is enabled, irrespective of CSS rules.&quot;",
        "3f2e2531201cfbf853f16f668132eaf2 (01:25): so probably it should be non-rendered in both HTML and XHTML",
        "3d227d1b425bd36abdb926e5ab990a00 (01:26): hmm, it seems that the in XHTML-MP (from the PDF) they mean we can't process &lt;noscripts&gt;",
        "3d227d1b425bd36abdb926e5ab990a00 (01:26): &quot;until it has encountered an unsupported script&quot;",
        "3d227d1b425bd36abdb926e5ab990a00 (01:28): Does anybody know someone I could contact about XHTML-MP?",
        "3d227d1b425bd36abdb926e5ab990a00 (01:28): a924fb58d2c25874322f4e5126f608b9, 3f2e2531201cfbf853f16f668132eaf2: thanks for clarifying XHTML/HTML4/HTML 5 &lt;noscript&gt; functionality.",
        "a924fb58d2c25874322f4e5126f608b9 (01:28): I don't think I managed to be very clarifying, though :)",
        "3d227d1b425bd36abdb926e5ab990a00 (01:30): I would like to argue that by HTML 5 &quot;The noscript element is only effective in http://www.whatwg.org/specs/web-apps/current-work/multipage/syntax.html#syntax, it has no effect in http://www.whatwg.org/specs/web-apps/current-work/multipage/the-xhtml-syntax.html#the-xhtml-syntax.&quot;, but I don't think I can do that with XHTML-MP/",
        "3f2e2531201cfbf853f16f668132eaf2 (01:32): Does WebKit attempt or claim to support XHTML-MP?",
        "3f2e2531201cfbf853f16f668132eaf2 (01:32): rather than just supporting a single &quot;XHTML&quot; (which is likely to be closest to the XML serialization of HTML5)",
        "3d227d1b425bd36abdb926e5ab990a00 (01:33): 3f2e2531201cfbf853f16f668132eaf2: sadly, there is a compile-time xhtmlmp switch",
        "3d227d1b425bd36abdb926e5ab990a00 (01:33): so, yes, there is &quot;an attempt&quot; to support it",
        "3d227d1b425bd36abdb926e5ab990a00 (01:33): However, I have not been able confirm that it even works!",
        "3d227d1b425bd36abdb926e5ab990a00 (01:34): never mind, I recall why I can't confirm whether it works",
        "3d227d1b425bd36abdb926e5ab990a00 (01:34): because I think its specific to the Qt windows build",
        "3d227d1b425bd36abdb926e5ab990a00 (01:35): 3f2e2531201cfbf853f16f668132eaf2: sorry for the rant. We seem to support xhtml to my knowledge."
    ],
    "person_ids": [
        "3d227d1b425bd36abdb926e5ab990a00",
        "3f2e2531201cfbf853f16f668132eaf2",
        "a924fb58d2c25874322f4e5126f608b9"
    ]
}