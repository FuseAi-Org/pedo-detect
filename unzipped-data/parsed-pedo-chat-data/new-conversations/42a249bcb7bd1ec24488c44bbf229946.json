{
    "id": "42a249bcb7bd1ec24488c44bbf229946",
    "messages": [
        "d8146cd4a1b28729be0e67f1df015fe3 (17:49): is it possible to keep apache chroot and using public_html dirs in ~ ?",
        "1e7b1566f87adf9bab0f0df23cebe519 (17:51): yes and no",
        "1e7b1566f87adf9bab0f0df23cebe519 (17:51): You have to do a little bit of linking",
        "8295c40bd8d556e56d45fd58a7d5abf7 (17:51): you can symlink ~/public_html to a dir in apache chroot",
        "1e7b1566f87adf9bab0f0df23cebe519 (17:51): You have to link ~/public_html into /var/www/users/",
        "ce8c259e2b7bef2f198e2acccca96efc (17:58): does sftp-transfer use the same amount of bandwidth in both directions? for some sort of encrypted confirm maybe?",
        "ce8c259e2b7bef2f198e2acccca96efc (18:01): it seems it taring abit much traffic on the outgeing side of the receiving end of an upload",
        "d8146cd4a1b28729be0e67f1df015fe3 (18:05): Obilan, I have already tried that, but no go. Let me refrase explicit what I have done: 1) mkdir ~/public_html 2) ln -s ~/public_html /var/www/users/arvind . But when connecting with lynx to localhost/~arvind it doesn't work. Check it out, <a href=\"http://arvind.dyndns.org/~arvind\">http://arvind.dyndns.org/~arvind</a>",
        "1e7b1566f87adf9bab0f0df23cebe519 (18:05): You have to configure the httpd of course, iirc userdir is disabled by default, but I am not sure",
        "ef5ceaa64a31a4e6bc5b428ac4f04c29 (18:06): apart from that, make sure your configuration has FollowSymLinks",
        "1e7b1566f87adf9bab0f0df23cebe519 (18:07): That is not necessary",
        "1e7b1566f87adf9bab0f0df23cebe519 (18:08): The symlink is outside the chroot just for your convienince (dunno how t ospell that one)",
        "fac96e6affa08d67823890290752f809 (18:08): hello",
        "f366e9d72e90fc03f15fac15b1f77462 (18:09): convenience should be right :)",
        "1e7b1566f87adf9bab0f0df23cebe519 (18:09): I tried but my dict didn't found it because it was too wrong, thanks n54 :)",
        "445aa032664a6a439cf46271f3e7a438 (18:09): symlinks will not work across your chroot",
        "445aa032664a6a439cf46271f3e7a438 (18:09): you'll need hard links",
        "1e7b1566f87adf9bab0f0df23cebe519 (18:10): no",
        "445aa032664a6a439cf46271f3e7a438 (18:10): (or just create / move your home directory in the chroot)",
        "d8146cd4a1b28729be0e67f1df015fe3 (18:10): I already enabled userdir /var/www/users, that should be sufficient right?",
        "1e7b1566f87adf9bab0f0df23cebe519 (18:10): There are no symlinks across the chroot, just one from outside to the inside",
        "445aa032664a6a439cf46271f3e7a438 (18:10): Obilan: right.. that's what I meant",
        "f366e9d72e90fc03f15fac15b1f77462 (18:10): a pleasure Obilan :) (the dictionary said convenience as well)",
        "445aa032664a6a439cf46271f3e7a438 (18:10): you can't symlink from outside the chroot to inside, and vice versa",
        "d8146cd4a1b28729be0e67f1df015fe3 (18:10): as goes for followsymlinks",
        "d8146cd4a1b28729be0e67f1df015fe3 (18:11): ah to bad",
        "1e7b1566f87adf9bab0f0df23cebe519 (18:11): You cannot? cd ~/public_html brings you to /var/www/users without any problems",
        "d8146cd4a1b28729be0e67f1df015fe3 (18:12): inovking pwd in ~/public_html just displays ~/public_html",
        "1e7b1566f87adf9bab0f0df23cebe519 (18:13): Ok then do: touch /var/www/user/it_works &amp;&amp; ls ~/public_html/it_works",
        "445aa032664a6a439cf46271f3e7a438 (18:13): well, think about it. when you symlink to the outside of your chroot, you are telling openbsd to go to a higher level than /, which will fail",
        "6fbe74f2fb7f5ffb1675d122cb152032 (18:13): er",
        "fac96e6affa08d67823890290752f809 (18:13): hey NicM",
        "1e7b1566f87adf9bab0f0df23cebe519 (18:14): bjacques: we do not do that, we tell the user to go inside, not apache to go outside",
        "6fbe74f2fb7f5ffb1675d122cb152032 (18:14): Admin123, are you trying to link out of the chroot?",
        "6fbe74f2fb7f5ffb1675d122cb152032 (18:14): that won't work very well...",
        "445aa032664a6a439cf46271f3e7a438 (18:14): oh",
        "445aa032664a6a439cf46271f3e7a438 (18:14): in that case, ignore me",
        "d8146cd4a1b28729be0e67f1df015fe3 (18:14): from ~ to /var/www/users",
        "1e7b1566f87adf9bab0f0df23cebe519 (18:14): :)",
        "6fbe74f2fb7f5ffb1675d122cb152032 (18:14): if you are trying to link /in/",
        "6fbe74f2fb7f5ffb1675d122cb152032 (18:14): why did you mkdir it?",
        "6fbe74f2fb7f5ffb1675d122cb152032 (18:15): Molotov, hi",
        "d8146cd4a1b28729be0e67f1df015fe3 (18:15): Obilan, I get: &quot;touch: /var/www/user/it_works: Permission denied&quot;",
        "6fbe74f2fb7f5ffb1675d122cb152032 (18:16): Admin123, that ln -s command you give above links out of the chroot",
        "6fbe74f2fb7f5ffb1675d122cb152032 (18:16): have you changed it?",
        "1e7b1566f87adf9bab0f0df23cebe519 (18:17): Admin123: oh come on, of course you have to create a dir first called like your user, and then chown it :)",
        "6fbe74f2fb7f5ffb1675d122cb152032 (18:18): don't bother with pwd, use readlink -f .",
        "6fbe74f2fb7f5ffb1675d122cb152032 (18:18): it will tell you exactly where you are",
        "6fbe74f2fb7f5ffb1675d122cb152032 (18:20): &quot;readlink -f ~/public_html&quot; should show &quot;/var/www/user&quot;",
        "6fbe74f2fb7f5ffb1675d122cb152032 (18:20): well, &quot;/var/www/users/username&quot; in normal setup",
        "fc76b456d3df602de654c94c4a8889b0 (18:21): I have done some googling as to why OpenBSD packages are not digitally signed, and the most official word I came across was an interview with Marc Espie, and he seems to suggest that the OpenBSD packages system doesn't have major problems supporting this feature. Is there a reason why the packages are not signed?",
        "6fbe74f2fb7f5ffb1675d122cb152032 (18:22): i can't remember",
        "6fbe74f2fb7f5ffb1675d122cb152032 (18:22): i seem to remember something about it",
        "f366e9d72e90fc03f15fac15b1f77462 (18:22): good question, probably has most to do with manpower?",
        "6fbe74f2fb7f5ffb1675d122cb152032 (18:22): along the lines of it would be a lot of effort for little gain",
        "1e7b1566f87adf9bab0f0df23cebe519 (18:22): What is the point anyway?",
        "f366e9d72e90fc03f15fac15b1f77462 (18:22): well it would be nice",
        "fc76b456d3df602de654c94c4a8889b0 (18:22): Yeah I thought manpower would be one issue..",
        "1e7b1566f87adf9bab0f0df23cebe519 (18:23): If a server has been compromised, wouldn't the md5sums or whatever be compromised too?",
        "d8146cd4a1b28729be0e67f1df015fe3 (18:23): NicM, yes it does :) chown -R $user ~/public_html after that I'm trying to inovke the following: touch ~/public_html/test",
        "d8146cd4a1b28729be0e67f1df015fe3 (18:23): NicM, still Permission denied",
        "f366e9d72e90fc03f15fac15b1f77462 (18:23): well I wouldn't use md5 sums from the same server as I downloaded from (don't do that as it is with those available either)",
        "fc76b456d3df602de654c94c4a8889b0 (18:23): Obilan: that's what I thought. I just installed OpenBSD 3.9 on my laptop and while I was installing packages for vim I thought.. &quot;now what if the server is compromised?&quot; :-)",
        "6fbe74f2fb7f5ffb1675d122cb152032 (18:23): Admin123, okay, so forget about the symlink now",
        "6fbe74f2fb7f5ffb1675d122cb152032 (18:24): Admin123, cd into /var/www/users",
        "6fbe74f2fb7f5ffb1675d122cb152032 (18:24): Admin123, and make sure your ownership and permissions are correct",
        "6fbe74f2fb7f5ffb1675d122cb152032 (18:24): Admin123, as Obilan already said",
        "1e7b1566f87adf9bab0f0df23cebe519 (18:24): Not very likely to happen though",
        "f366e9d72e90fc03f15fac15b1f77462 (18:24): using from the server would just be a false sense of security, however it might be that such an argument goes even wider",
        "d8146cd4a1b28729be0e67f1df015fe3 (18:24): NicM, ok touch is working :), can you reach <a href=\"http://arvind.dyndns.org/~arvind\">http://arvind.dyndns.org/~arvind</a> ?",
        "6fbe74f2fb7f5ffb1675d122cb152032 (18:25): no",
        "1e7b1566f87adf9bab0f0df23cebe519 (18:25): We'll see what the future brings",
        "f366e9d72e90fc03f15fac15b1f77462 (18:25): yup Obilan :)",
        "6fbe74f2fb7f5ffb1675d122cb152032 (18:25): have you enabled the commented out Directory /users/ stuff in httpd.conf?",
        "1e7b1566f87adf9bab0f0df23cebe519 (18:26): I want standalone stickers",
        "f366e9d72e90fc03f15fac15b1f77462 (18:26): however I wouldn't mind being able to md5-sum or similar the cd content as well ^^",
        "f366e9d72e90fc03f15fac15b1f77462 (18:26): yeah that would be nice",
        "f366e9d72e90fc03f15fac15b1f77462 (18:27): I would be willing to pay a lot for it as well",
        "6fbe74f2fb7f5ffb1675d122cb152032 (18:27): the base sets have an MD5",
        "6fbe74f2fb7f5ffb1675d122cb152032 (18:27): but not packages",
        "f366e9d72e90fc03f15fac15b1f77462 (18:27): yes I know, except the kernels iirc",
        "1e7b1566f87adf9bab0f0df23cebe519 (18:27): And not the x*",
        "6fbe74f2fb7f5ffb1675d122cb152032 (18:27): you wouldn't think it would be so much to make a blah-blah.tgz.md5 for each package",
        "6fbe74f2fb7f5ffb1675d122cb152032 (18:27): but i guess it isn't important",
        "d8146cd4a1b28729be0e67f1df015fe3 (18:29): NicM, shouldn't &quot;Userdir /var/www/users&quot; be sufficient? I just uncommented Control acces to Userdir directories. Restarted apache, but still no go. Have you tested this for your self?",
        "6fbe74f2fb7f5ffb1675d122cb152032 (18:30): Admin123, it works fine for me",
        "6fbe74f2fb7f5ffb1675d122cb152032 (18:31): you need to uncomment UserDir and the definition of /users",
        "fc76b456d3df602de654c94c4a8889b0 (18:32): I just thought it is a bit weird that OpenBSD doesn't sign the packages by default, since quite a few Linux distros are already doing that with their packages. I read the argument about why it is pointless to sign security adivsories, and I couldn't agree more, but binary packages is another matter altogether.",
        "fc76b456d3df602de654c94c4a8889b0 (18:33): Anyway, thanks a lot for the replies.",
        "f366e9d72e90fc03f15fac15b1f77462 (18:33): yeah but remember that obsd is tiny organisationally compared to most linux-distros",
        "f366e9d72e90fc03f15fac15b1f77462 (18:34): np :)",
        "6fbe74f2fb7f5ffb1675d122cb152032 (18:34): well, it is as big as all but the top 20 or so i expect",
        "6fbe74f2fb7f5ffb1675d122cb152032 (18:34): but there is a lot more work in it",
        "f366e9d72e90fc03f15fac15b1f77462 (18:34): mm",
        "f366e9d72e90fc03f15fac15b1f77462 (18:35): as in *nods* :)"
    ],
    "person_ids": [
        "d8146cd4a1b28729be0e67f1df015fe3",
        "1e7b1566f87adf9bab0f0df23cebe519",
        "8295c40bd8d556e56d45fd58a7d5abf7",
        "ce8c259e2b7bef2f198e2acccca96efc",
        "ef5ceaa64a31a4e6bc5b428ac4f04c29",
        "fac96e6affa08d67823890290752f809",
        "f366e9d72e90fc03f15fac15b1f77462",
        "445aa032664a6a439cf46271f3e7a438",
        "6fbe74f2fb7f5ffb1675d122cb152032",
        "fc76b456d3df602de654c94c4a8889b0"
    ]
}