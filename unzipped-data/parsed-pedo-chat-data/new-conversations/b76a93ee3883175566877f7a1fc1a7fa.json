{
    "id": "b76a93ee3883175566877f7a1fc1a7fa",
    "messages": [
        "57551cb51d38c51417f5abfeacfb9b13 (22:50): 69b0d3dfe919a6b860a9fac82de52a7e: I've already done this.",
        "57551cb51d38c51417f5abfeacfb9b13 (22:51): I have a patch I'm working on for webkit that matches IE widths",
        "57551cb51d38c51417f5abfeacfb9b13 (22:51): width = size*avgCharWidth + (maxCharWidth - avgCharWidth)",
        "57551cb51d38c51417f5abfeacfb9b13 (22:51): where avgCharWidth and maxCharWidth are taken out of the font",
        "8c8837db54a2907cacd8633547977e33 (23:00): 57551cb51d38c51417f5abfeacfb9b13: what happens if max &lt; avg?  or are max/avg not in font metadata?",
        "57551cb51d38c51417f5abfeacfb9b13 (23:05): 8c8837db54a2907cacd8633547977e33: how can max be less than avg?",
        "8c8837db54a2907cacd8633547977e33 (23:06): 57551cb51d38c51417f5abfeacfb9b13: bad font",
        "57551cb51d38c51417f5abfeacfb9b13 (23:06): hm...i don't know. didn't test that.",
        "8c8837db54a2907cacd8633547977e33 (23:07): I was guessing as much, but you never know :-)",
        "57551cb51d38c51417f5abfeacfb9b13 (23:07): the real annoying thing is that mac/linux font APIs don't actually expose these values, so you have to dig into the font tables to grab them",
        "a11aabeeceeae6b8cb5d12ea06b56554 (23:11): 57551cb51d38c51417f5abfeacfb9b13: Why on earth would you want that metadata though, except if you were copying something crazy?",
        "57551cb51d38c51417f5abfeacfb9b13 (23:12): a11aabeeceeae6b8cb5d12ea06b56554: sure. unfortunately, it's something crazy the web now depends upon",
        "a11aabeeceeae6b8cb5d12ea06b56554 (23:12): The web depends on lots of crazy stuff :)",
        "cc097e0d7183ae8436e7df709553c8c0 (23:16): just figured out that it was relatively easy to fix up the dom in firefox 2 with script",
        "cc097e0d7183ae8436e7df709553c8c0 (23:18): you just find all html5 elements and keep appending their nextSibling to self until you hit a node you expect shouldn't be a child of the html5 element (like a comment saying &quot;end article&quot; or a nav element or whatever)",
        "69b0d3dfe919a6b860a9fac82de52a7e (23:23): 57551cb51d38c51417f5abfeacfb9b13: nice! thanks!",
        "8c8837db54a2907cacd8633547977e33 (23:28): speaking of html5 elements, is the plan with legend to just ignore the fact that most, maybe all, existing browsers completely mess up the figure &gt; legend case?  gecko/webkit omit the legend element (but not its contents) as often as not or magically introduce a containing fieldset, opera creates an empty legend element and spews the &quot;contents&quot; as siblings to it, dunno about IE",
        "65325d50b2e25aca54bc871b89758c9c (23:29): 8c8837db54a2907cacd8633547977e33: I've proposed before that &lt;legend&gt; in &lt;figure&gt; should be renamed for that reason",
        "8c8837db54a2907cacd8633547977e33 (23:29): ran into this going wild with html5 markup on his personal site",
        "65325d50b2e25aca54bc871b89758c9c (23:30): &lt;caption&gt; would actually be a better name but makes figures break inside tables",
        "65325d50b2e25aca54bc871b89758c9c (23:30): but if we are going to consider existing browser behavior then &lt;legend&gt; is not good either",
        "8c8837db54a2907cacd8633547977e33 (23:31): &lt;description&gt; maybe?",
        "69b0d3dfe919a6b860a9fac82de52a7e (23:31): 8c8837db54a2907cacd8633547977e33: it's not that bad, and it'll get better over time (unlike &lt;caption&gt;, say). The alternative is minting a new element to mean header, and we're already up to 10 or 20 depending on how loosely you define &quot;header&quot; -- we're just running out of good names here.",
        "69b0d3dfe919a6b860a9fac82de52a7e (23:31): &lt;legend&gt; will be fine in due course. it's not like we have to have it work today (unlike, say, the offline stuff)",
        "65325d50b2e25aca54bc871b89758c9c (23:32): &lt;legend&gt; breaks in &lt;details&gt; too",
        "65325d50b2e25aca54bc871b89758c9c (23:32): one new title-like name would do for both of those",
        "65325d50b2e25aca54bc871b89758c9c (23:32): and if it had sane parsing rules could be used for anything in the future",
        "8c8837db54a2907cacd8633547977e33 (23:32): existing html5 doesn't say &lt;legend&gt; is heading content",
        "65325d50b2e25aca54bc871b89758c9c (23:32): I think failing the Degrades Gracefully design principle is a worse problem than element proliferation",
        "65325d50b2e25aca54bc871b89758c9c (23:33): I believe I also suggested the existing &lt;label&gt;",
        "69b0d3dfe919a6b860a9fac82de52a7e (23:33): &lt;label&gt; has all kinds of preexisting baggage",
        "65325d50b2e25aca54bc871b89758c9c (23:34): I think the only worry about &lt;label&gt; was that existing pages might have CSS rules that assume &lt;label&gt; is always a form control label",
        "65325d50b2e25aca54bc871b89758c9c (23:34): so adding a &lt;figure&gt; would do weird things",
        "65325d50b2e25aca54bc871b89758c9c (23:35): however, if that is a problem with considering, then the problem with &lt;legend&gt; is worth considering as well",
        "69b0d3dfe919a6b860a9fac82de52a7e (23:35): the problems with legend are worth considering, yes. i just don't think they're as important as the problems the other elements have nor especially problematic enough on the long run to warrant a new element.",
        "69b0d3dfe919a6b860a9fac82de52a7e (23:36): if people really think it's a problem, we can comment out &lt;figure&gt; and &lt;details&gt; for now and wait for the parsers to have gotten fixed and deployed",
        "69b0d3dfe919a6b860a9fac82de52a7e (23:36): but it might take longer for the fixes to happen than if they stay in",
        "65325d50b2e25aca54bc871b89758c9c (23:37): or you could just use a new element name and &lt;figure&gt; could be used without waiting for browser changes to be widely deployed",
        "69b0d3dfe919a6b860a9fac82de52a7e (23:38): i have not heard any names suggested that are anywhere near as good as &lt;legend&gt; or &lt;caption&gt;.",
        "69b0d3dfe919a6b860a9fac82de52a7e (23:38): (and i've spent hours on that alone)",
        "65325d50b2e25aca54bc871b89758c9c (23:39): &lt;rubric&gt;, &lt;tag&gt;, &lt;name&gt; are all quasi-synonyms for label/legend/caption",
        "65325d50b2e25aca54bc871b89758c9c (23:40): (to ideally match english, a details control would have a label, and a figure would have a caption, sadly those two elements are the ones with issues)",
        "65325d50b2e25aca54bc871b89758c9c (23:40): (though I am not sure details getting form label CSS styling on its &lt;label&gt; would be particularly wrong)",
        "69b0d3dfe919a6b860a9fac82de52a7e (23:41): and they all suck :-)",
        "65325d50b2e25aca54bc871b89758c9c (23:42): (&lt;legend&gt; is actually a fruity choice of name for &lt;fieldset&gt; too, you wouldn't normally use &lt;legend&gt; in that context)",
        "65325d50b2e25aca54bc871b89758c9c (23:42): er",
        "69b0d3dfe919a6b860a9fac82de52a7e (23:42): the problem with &lt;label&gt; is not css, it's the forms api stuff",
        "65325d50b2e25aca54bc871b89758c9c (23:42): rather, you wouldn't use the word &quot;legend&quot; to describe a fieldset label, in, say, an HI guide",
        "69b0d3dfe919a6b860a9fac82de52a7e (23:42): it would e.g. prevent you from putting two form controls in a &lt;details&gt; legend",
        "69b0d3dfe919a6b860a9fac82de52a7e (23:42): and would bring along all kinds of DOM API baggage that isn't appropriate here",
        "69b0d3dfe919a6b860a9fac82de52a7e (23:44): other than the parsing issues, which IMHO aren't a big deal (after all, it works as well in IE as does &lt;section&gt;), &lt;legend&gt; is pretty much exactly what we need",
        "69b0d3dfe919a6b860a9fac82de52a7e (23:44): and it fits consistently with &lt;fieldset&gt;",
        "65325d50b2e25aca54bc871b89758c9c (23:45): &lt;legend&gt; is barely more semantically appropriate than &lt;div&gt;",
        "69b0d3dfe919a6b860a9fac82de52a7e (23:45): ?",
        "69b0d3dfe919a6b860a9fac82de52a7e (23:45): maybe this is a british english vs american english thing",
        "65325d50b2e25aca54bc871b89758c9c (23:45): as I said before, you wouldn't use the word &quot;legend&quot; in English normally to refer to either of the new things",
        "65325d50b2e25aca54bc871b89758c9c (23:46): (or to the label of a fieldset either)",
        "69b0d3dfe919a6b860a9fac82de52a7e (23:46): yes you would",
        "69b0d3dfe919a6b860a9fac82de52a7e (23:46): a figure has a legend",
        "69b0d3dfe919a6b860a9fac82de52a7e (23:46): a map has a legend",
        "69b0d3dfe919a6b860a9fac82de52a7e (23:46): a chart has a legend",
        "65325d50b2e25aca54bc871b89758c9c (23:46): a map has a legend, a figure has a caption",
        "14af4ca97e316b17ea96286dc6882fd4 (23:46): legends describe symbols",
        "69b0d3dfe919a6b860a9fac82de52a7e (23:46): sure, caption would be mildly better",
        "65325d50b2e25aca54bc871b89758c9c (23:47): a legend is ordinarily a box on the side explaining symbols or colors",
        "65325d50b2e25aca54bc871b89758c9c (23:47): form controls and UI elements don't have legends, they have headings or labels",
        "a11aabeeceeae6b8cb5d12ea06b56554 (23:47): agrees with 69b0d3dfe919a6b860a9fac82de52a7e and 14af4ca97e316b17ea96286dc6882fd4",
        "69b0d3dfe919a6b860a9fac82de52a7e (23:47): shrugs",
        "14af4ca97e316b17ea96286dc6882fd4 (23:47): that's curious, because I agree with 65325d50b2e25aca54bc871b89758c9c",
        "65325d50b2e25aca54bc871b89758c9c (23:47): though 69b0d3dfe919a6b860a9fac82de52a7e and 14af4ca97e316b17ea96286dc6882fd4 were saying opposite things",
        "a11aabeeceeae6b8cb5d12ea06b56554 (23:48): just likes confusing everyone",
        "a11aabeeceeae6b8cb5d12ea06b56554 (23:48): also jumped into this rather late on",
        "65325d50b2e25aca54bc871b89758c9c (23:49): for that matter, a chart can have both a legend and a caption and they are two different things",
        "a11aabeeceeae6b8cb5d12ea06b56554 (23:50): really just agrees with a crazy mix of what everyone is saying",
        "65325d50b2e25aca54bc871b89758c9c (23:51): anyway",
        "65325d50b2e25aca54bc871b89758c9c (23:51): we are rehashing old ground",
        "65325d50b2e25aca54bc871b89758c9c (23:51): and 8c8837db54a2907cacd8633547977e33's comment triggered my canned rant",
        "65325d50b2e25aca54bc871b89758c9c (23:52): if I continue to care enough I guess I can file it in bugzilla or the tracker",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:00): ok 57551cb51d38c51417f5abfeacfb9b13 said size*avgCharWidth + (maxCharWidth - avgCharWidth)",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:00): my font has two glyphs, 200 and 1000 wide respectively",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:01): so the average is 600",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:01): 20 * 600 + (1000 - 600) = 12400 font units wide",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:01): and the height of the font is 1000",
        "57551cb51d38c51417f5abfeacfb9b13 (00:01): 69b0d3dfe919a6b860a9fac82de52a7e: to be clear it's whatever the font file claims to be the avg/max",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:01): so 1em = 1000",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:02): so i'd expect it 12.4em wide",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:02): checks",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:03): well that didn't work. let's see what my font is really saying.",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:03): gets the microsoft typography tool out",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:07): uh, i wasn't using my font",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:07): oops",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:07): tries again",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:13): 57551cb51d38c51417f5abfeacfb9b13: well my font has 600 avg width and 1000 max width and it still doesn't give me the results i expect",
        "57551cb51d38c51417f5abfeacfb9b13 (00:14): what's it give?",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:14): something's fishy here",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:14): let me get back to you",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:20): ooh, interesting, some padding is added to the width even if the padding style is set to 0",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:26): hmm",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:26): the weird border and padding behavior complicates this",
        "a11aabeeceeae6b8cb5d12ea06b56554 (00:26): places a light bulb over 69b0d3dfe919a6b860a9fac82de52a7e's head and hopes all is solved",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:35): 57551cb51d38c51417f5abfeacfb9b13: i was barking up the wrong tree in quirks mode and IE was screwing up the rendering now obeying CSS rules. trying in standards mode now!",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:38): 57551cb51d38c51417f5abfeacfb9b13: yeah, you are correct, at least in standards mode. how did you reverse engineer that? brute force?",
        "57551cb51d38c51417f5abfeacfb9b13 (00:39): 69b0d3dfe919a6b860a9fac82de52a7e: trial and error",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:39): nice work",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:39): is it the same in quirks mode except that the width includes the padding and border?",
        "57551cb51d38c51417f5abfeacfb9b13 (00:39): and some help from dean pointing me in the right direction",
        "57551cb51d38c51417f5abfeacfb9b13 (00:40): 69b0d3dfe919a6b860a9fac82de52a7e: not sure off the top of my head, but that sounds right",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:42): outer width is 2px bigger in quirks mode, it seems",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:42): which seems backwards"
    ],
    "person_ids": [
        "57551cb51d38c51417f5abfeacfb9b13",
        "8c8837db54a2907cacd8633547977e33",
        "a11aabeeceeae6b8cb5d12ea06b56554",
        "cc097e0d7183ae8436e7df709553c8c0",
        "69b0d3dfe919a6b860a9fac82de52a7e",
        "65325d50b2e25aca54bc871b89758c9c",
        "14af4ca97e316b17ea96286dc6882fd4"
    ]
}