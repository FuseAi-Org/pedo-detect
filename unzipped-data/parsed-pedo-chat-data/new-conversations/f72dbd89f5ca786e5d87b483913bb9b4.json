{
    "id": "f72dbd89f5ca786e5d87b483913bb9b4",
    "messages": [
        "c08f7ba56a39ced8852a498f83719e3b (06:13): you round Nolar?",
        "a74c07e77864c0915aebb3126b39f2c9 (06:20): no :)",
        "a74c07e77864c0915aebb3126b39f2c9 (06:21): i'm not here",
        "a74c07e77864c0915aebb3126b39f2c9 (06:21): Figment of your imagination",
        "c08f7ba56a39ced8852a498f83719e3b (06:22): lol",
        "c08f7ba56a39ced8852a498f83719e3b (06:23): as far as you know is the send buffer (restrictor) working in b69?",
        "a74c07e77864c0915aebb3126b39f2c9 (06:23): upload rate limiting?  yup",
        "c08f7ba56a39ced8852a498f83719e3b (06:24): hmmm wonder why its sending more than its allowed then :(",
        "c08f7ba56a39ced8852a498f83719e3b (06:25): it shouldnt be breaking 48kbit with a 6KB/sec limit",
        "c08f7ba56a39ced8852a498f83719e3b (06:26): but it gets all the way to 100..105",
        "a74c07e77864c0915aebb3126b39f2c9 (06:29): 100kbit?",
        "a74c07e77864c0915aebb3126b39f2c9 (06:30): it's been working just fine for me",
        "a74c07e77864c0915aebb3126b39f2c9 (06:30): per torrent limit, or global?",
        "c08f7ba56a39ced8852a498f83719e3b (06:31): global down the bottom",
        "c08f7ba56a39ced8852a498f83719e3b (06:31): the rate limiter has protocal messages pushed through it these days so it should be fine",
        "a74c07e77864c0915aebb3126b39f2c9 (06:32): always been the case",
        "a74c07e77864c0915aebb3126b39f2c9 (06:32): only per-torrent limits are data only",
        "c08f7ba56a39ced8852a498f83719e3b (06:33): i thought way back when the protocal messages didnt go through it",
        "a74c07e77864c0915aebb3126b39f2c9 (06:33): global limit has always limited both protocol and data",
        "a74c07e77864c0915aebb3126b39f2c9 (06:33): not dht",
        "c08f7ba56a39ced8852a498f83719e3b (06:33): ahh i might do a packet sniff",
        "c08f7ba56a39ced8852a498f83719e3b (06:34): might be heavy dht traffic",
        "a74c07e77864c0915aebb3126b39f2c9 (06:34): is it az saying 12KBs, or some other measuring util?",
        "c08f7ba56a39ced8852a498f83719e3b (06:34): iptraf and sntp off a router",
        "a74c07e77864c0915aebb3126b39f2c9 (06:35): and what number does az show?",
        "8fa2d0067f92fbec7c550e8068f91809 (06:35): dht traffic usually doesn't go above 2kB/s",
        "c08f7ba56a39ced8852a498f83719e3b (06:35): the correct",
        "c08f7ba56a39ced8852a498f83719e3b (06:35): 6kb/sec",
        "c08f7ba56a39ced8852a498f83719e3b (06:35): ive just checked",
        "c08f7ba56a39ced8852a498f83719e3b (06:35): there aint much udp traff",
        "c08f7ba56a39ced8852a498f83719e3b (06:36): its all tcp",
        "c08f7ba56a39ced8852a498f83719e3b (06:36): so dht is out",
        "8fa2d0067f92fbec7c550e8068f91809 (06:37): maybe heavy TCP overhead... establishing and closing lots of connections?",
        "a74c07e77864c0915aebb3126b39f2c9 (06:38): or upping to many connections at once",
        "c08f7ba56a39ced8852a498f83719e3b (06:38): nah this sniff is very light on RST's",
        "c08f7ba56a39ced8852a498f83719e3b (06:38): 2 for 5000+ packets",
        "a74c07e77864c0915aebb3126b39f2c9 (06:38): az limiter measures msg byte size, but not packet size out",
        "c08f7ba56a39ced8852a498f83719e3b (06:39): of the two current torrents",
        "c08f7ba56a39ced8852a498f83719e3b (06:39): i have 6 connections total",
        "c08f7ba56a39ced8852a498f83719e3b (06:39): there tiny old torrents :)",
        "8fa2d0067f92fbec7c550e8068f91809 (06:39): i doubt that his stack will chop it into thousands of fragments ^^",
        "8fa2d0067f92fbec7c550e8068f91809 (06:40): hillster... so... your TCP monitoring says 100kbit/s... and what does azureus say?",
        "c08f7ba56a39ced8852a498f83719e3b (06:41): iptraf says 105 atm the router reports back 104 and az reports 5.1kb/sec",
        "c08f7ba56a39ced8852a498f83719e3b (06:41): so it should be 40kbit :)",
        "c08f7ba56a39ced8852a498f83719e3b (06:41): nothing else is running apart from IRC :)",
        "8fa2d0067f92fbec7c550e8068f91809 (06:41): humm...",
        "a74c07e77864c0915aebb3126b39f2c9 (06:42): how big the packets?",
        "a74c07e77864c0915aebb3126b39f2c9 (06:42): i.e. full 1500, or a bunch of small 41b ones :)",
        "8fa2d0067f92fbec7c550e8068f91809 (06:42): and... does the same problem occur with 2402?",
        "c08f7ba56a39ced8852a498f83719e3b (06:43): its the ACK's",
        "c08f7ba56a39ced8852a498f83719e3b (06:43): thats whats blowing it out",
        "8fa2d0067f92fbec7c550e8068f91809 (06:44): oh well... that's something you can't prevent... except increasing the window on both sides",
        "8fa2d0067f92fbec7c550e8068f91809 (06:44): although, i'm not quite sure... maybe TCP stacks have to ACK every 2 packets anyway",
        "c08f7ba56a39ced8852a498f83719e3b (06:45): they do",
        "8fa2d0067f92fbec7c550e8068f91809 (06:45): i've read way too many RFCs about that topic...",
        "c08f7ba56a39ced8852a498f83719e3b (06:45): allways every 2",
        "8fa2d0067f92fbec7c550e8068f91809 (06:45): ah ok... so i'm completely insane... yet",
        "c08f7ba56a39ced8852a498f83719e3b (06:45): if thw windows big anuf they dont 'wait' for them but they still must get there eventually",
        "c08f7ba56a39ced8852a498f83719e3b (06:46): if your downloading at 100pps inbound you will have 50pps outbound regardless",
        "8fa2d0067f92fbec7c550e8068f91809 (06:46): *i'm not",
        "c08f7ba56a39ced8852a498f83719e3b (06:46): hehe you said it not me :)",
        "8fa2d0067f92fbec7c550e8068f91809 (06:46): yes yes... i know...",
        "c08f7ba56a39ced8852a498f83719e3b (06:46): Nolar: cus its done in the stack the ack's dont go through the rate limiter do they?",
        "8fa2d0067f92fbec7c550e8068f91809 (06:47): ACKs are sent by the OS, neither by java nor by azureus itself",
        "a74c07e77864c0915aebb3126b39f2c9 (06:47): ya, az can only send bytes to a socket",
        "a74c07e77864c0915aebb3126b39f2c9 (06:48): the os handles bunching them into packets, when to send, acks, all that stuff",
        "c08f7ba56a39ced8852a498f83719e3b (06:48): so the rate limiter's just fine :) its because im not running az on the firewall box anymore it reacts diff",
        "8fa2d0067f92fbec7c550e8068f91809 (06:49): although... 40kbit vs. 100kbit seems to be a huge difference... or is your download speed ways higher?",
        "c08f7ba56a39ced8852a498f83719e3b (06:49): yeah",
        "c08f7ba56a39ced8852a498f83719e3b (06:49): it all makes sense now The_8472  :)",
        "c08f7ba56a39ced8852a498f83719e3b (06:50): ill just scale back the upload limit to stop it hitting the rate limiter on the router",
        "8fa2d0067f92fbec7c550e8068f91809 (06:50): well, i don't notice the difference because i've set up a some ipfilter/tc rules which give ACK packets top priority... so incoming data is acked first",
        "c08f7ba56a39ced8852a498f83719e3b (06:50): its the same here :)",
        "8fa2d0067f92fbec7c550e8068f91809 (06:50): yeah... but i don't use rate limiting... just a PRIO qdisc",
        "c08f7ba56a39ced8852a498f83719e3b (06:51): ohh i do both ... buckets and prio qdisc",
        "8fa2d0067f92fbec7c550e8068f91809 (06:57): gn8",
        "c08f7ba56a39ced8852a498f83719e3b (07:00): Nolar: who handles Disk/Cache stuff these days mostly?"
    ],
    "person_ids": [
        "c08f7ba56a39ced8852a498f83719e3b",
        "a74c07e77864c0915aebb3126b39f2c9",
        "8fa2d0067f92fbec7c550e8068f91809"
    ]
}