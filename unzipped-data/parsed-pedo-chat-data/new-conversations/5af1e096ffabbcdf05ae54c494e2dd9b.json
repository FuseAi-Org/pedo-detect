{
    "id": "5af1e096ffabbcdf05ae54c494e2dd9b",
    "messages": [
        "a3f19f90edf0a0893c7847d08016abe3 (15:19): b8810fee2f4a71f849f3f7409546d1d9, typing input to System.in from the command line?",
        "a3f19f90edf0a0893c7847d08016abe3 (15:19): just wonders if it's a line-buffering issue",
        "b8810fee2f4a71f849f3f7409546d1d9 (15:21): a3f19f90edf0a0893c7847d08016abe3: typing to System.in in Eclipse's console",
        "b8810fee2f4a71f849f3f7409546d1d9 (15:21): If I type",
        "a3f19f90edf0a0893c7847d08016abe3 (15:21): not sure about eclipse's console, but at the command line the terminal is line-buffered by default",
        "b8810fee2f4a71f849f3f7409546d1d9 (15:22): &lt;!DOCTYPE html&gt;foo^D",
        "b8810fee2f4a71f849f3f7409546d1d9 (15:22): I get an empty stream",
        "b8810fee2f4a71f849f3f7409546d1d9 (15:22): but if I put a line break between foo and ^D, it works",
        "b8810fee2f4a71f849f3f7409546d1d9 (15:23): it seems silly if ^D doesn't flush the last line",
        "a3f19f90edf0a0893c7847d08016abe3 (15:23): yes but that seems as if the console isn't passing the data to System.in",
        "a3f19f90edf0a0893c7847d08016abe3 (15:23): i'd be pretty surprised if it was a bug in InputStream",
        "b8810fee2f4a71f849f3f7409546d1d9 (15:23): yeah",
        "a3f19f90edf0a0893c7847d08016abe3 (15:24): if i run something from the command line (e.g. just &quot;cat&quot;) and i press ^D before a newline, then it does nothing",
        "a3f19f90edf0a0893c7847d08016abe3 (15:24): but if i press ^D^D, then it ends the stream (and sends that line, without the \\n on the end)",
        "a3f19f90edf0a0893c7847d08016abe3 (15:25): but that behaviour is really just up to the terminal",
        "a3f19f90edf0a0893c7847d08016abe3 (15:30): http://rafb.net/p/1ScMvU24.html",
        "a3f19f90edf0a0893c7847d08016abe3 (15:31): i guess it's just eclipse console idiosyncrasies",
        "edb259c0e0038f38bb200bc20c8cbf7e (15:33): b8810fee2f4a71f849f3f7409546d1d9, is vtab handled specially somewhere?",
        "edb259c0e0038f38bb200bc20c8cbf7e (15:33): b8810fee2f4a71f849f3f7409546d1d9, like, in the input stream?",
        "edb259c0e0038f38bb200bc20c8cbf7e (15:33): thought all that changed was that it was no longer a space character",
        "b8810fee2f4a71f849f3f7409546d1d9 (15:34): edb259c0e0038f38bb200bc20c8cbf7e: just making sure when deleting non-obvious code",
        "b8810fee2f4a71f849f3f7409546d1d9 (15:34): edb259c0e0038f38bb200bc20c8cbf7e: vtab is now the only non-space character that doesn't get the REPLACEMENT CHARACTER treatment below 0x20",
        "edb259c0e0038f38bb200bc20c8cbf7e (15:37): hmm, I wonder if that's in line with browsers",
        "b8810fee2f4a71f849f3f7409546d1d9 (15:38): I've now got the tokenizer synced with the spec",
        "b8810fee2f4a71f849f3f7409546d1d9 (15:38): onto the tree builder",
        "cc097e0d7183ae8436e7df709553c8c0 (15:38): b8810fee2f4a71f849f3f7409546d1d9: btw, does the vtab checkin only affect the parser? or also non-schema checkers/html5 datatype library?",
        "b8810fee2f4a71f849f3f7409546d1d9 (15:39): cc097e0d7183ae8436e7df709553c8c0: the parser has replaced vtab and ff with a space, so the higher layers operate on the XML 1.0 notion of white space",
        "b8810fee2f4a71f849f3f7409546d1d9 (15:39): cc097e0d7183ae8436e7df709553c8c0: so, no",
        "cc097e0d7183ae8436e7df709553c8c0 (15:39): b8810fee2f4a71f849f3f7409546d1d9: ok",
        "edb259c0e0038f38bb200bc20c8cbf7e (15:40): interesting",
        "edb259c0e0038f38bb200bc20c8cbf7e (15:40): that also doesn't sound like browsers",
        "b8810fee2f4a71f849f3f7409546d1d9 (15:40): edb259c0e0038f38bb200bc20c8cbf7e: it's configurable in the V.nu browser",
        "b8810fee2f4a71f849f3f7409546d1d9 (15:40): edb259c0e0038f38bb200bc20c8cbf7e: I mean, I'm not going to hack every off-the-shelf XML library to grok HTML5 space characters",
        "b8810fee2f4a71f849f3f7409546d1d9 (15:41): so the RELAX NG engine sees XML 1.0 whitespace",
        "b8810fee2f4a71f849f3f7409546d1d9 (15:41): doh. s/V.nu browser/V.nu parser/",
        "edb259c0e0038f38bb200bc20c8cbf7e (15:41): it can't cope with characters not allowed in XML?",
        "ab7faae5d7b250ea8606486575f8f79c (15:41): thinks the &quot;just stick an HTML5 parser on the front of your XML toolchain&quot; model seems to be showing a few cracks",
        "b8810fee2f4a71f849f3f7409546d1d9 (15:41): edb259c0e0038f38bb200bc20c8cbf7e: I'm not sure",
        "b8810fee2f4a71f849f3f7409546d1d9 (15:42): edb259c0e0038f38bb200bc20c8cbf7e: but whitespace is sensitive to XPath and RELAX NG intra-element white space",
        "b8810fee2f4a71f849f3f7409546d1d9 (15:42): ab7faae5d7b250ea8606486575f8f79c: how so? the parser papers over the differences",
        "ab7faae5d7b250ea8606486575f8f79c (15:44): b8810fee2f4a71f849f3f7409546d1d9: If the parser is replacing vtab and ff with a space, that sounds like undesirable information loss",
        "b8810fee2f4a71f849f3f7409546d1d9 (15:45): ab7faae5d7b250ea8606486575f8f79c: I see three ways to deal with this, and my parser supports all three",
        "b8810fee2f4a71f849f3f7409546d1d9 (15:46): ab7faae5d7b250ea8606486575f8f79c: now that vtab is no longer a space char, it turns into a REPLACEMENT CHARACTER in te ALTER_INFOSET mode",
        "b8810fee2f4a71f849f3f7409546d1d9 (15:48): (I'm not gonna support mapping to XML 1.1 or XML 1.0 5th ed.)"
    ],
    "person_ids": [
        "a3f19f90edf0a0893c7847d08016abe3",
        "b8810fee2f4a71f849f3f7409546d1d9",
        "edb259c0e0038f38bb200bc20c8cbf7e",
        "cc097e0d7183ae8436e7df709553c8c0",
        "ab7faae5d7b250ea8606486575f8f79c"
    ]
}