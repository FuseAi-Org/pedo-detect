{
    "id": "06ca78bc1f6fbfc4cc274e4d64dbd5b9",
    "messages": [
        "8756bdff248ec5a68e5ee74afe07cbaa (01:00): My nat isn't working with the following config: <a href=\"http://www.rafb.net/paste/results/GpMMt738.html\">http://www.rafb.net/paste/results/GpMMt738.html</a>",
        "8756bdff248ec5a68e5ee74afe07cbaa (01:01): from private network I can ping eth1 (private interface) and eth0 (public interface), but I can't ping the next hop on public net",
        "f38c246d1e68379d394e08662cf798a9 (01:03): is ip_forward enable ?",
        "8756bdff248ec5a68e5ee74afe07cbaa (01:06): huh. good question",
        "8756bdff248ec5a68e5ee74afe07cbaa (01:06): at /proc/net/ip_forward?",
        "f38c246d1e68379d394e08662cf798a9 (01:07): /proc/sys/net/ipv4/ip_forward",
        "8756bdff248ec5a68e5ee74afe07cbaa (01:08): well, I don't have /proc/sys/net/ipv4/, so I guess the answer is &quot;no&quot;",
        "f38c246d1e68379d394e08662cf798a9 (01:09): home made kernel ?",
        "8756bdff248ec5a68e5ee74afe07cbaa (01:09): no",
        "8756bdff248ec5a68e5ee74afe07cbaa (01:09): stock fc5",
        "f38c246d1e68379d394e08662cf798a9 (01:10): niarf",
        "f38c246d1e68379d394e08662cf798a9 (01:10): I've made a fw of one of it last week",
        "8756bdff248ec5a68e5ee74afe07cbaa (01:11): what does &quot;niarf&quot; mean?",
        "f38c246d1e68379d394e08662cf798a9 (01:12): custom word meaning &quot;weird, you've got a problem or are unlucky&quot;",
        "0dc8fc8ea1207f8b7d9f44bcf8e99e79 (01:18): hm.. NAT seems to be the main problem with iptables",
        "8756bdff248ec5a68e5ee74afe07cbaa (01:23): Regit: my bad. I didn't see the sys in that path",
        "8756bdff248ec5a68e5ee74afe07cbaa (01:23): I have it",
        "8756bdff248ec5a68e5ee74afe07cbaa (01:24): and it is enabled",
        "8756bdff248ec5a68e5ee74afe07cbaa (01:25): but I still can't ping from private to public",
        "8756bdff248ec5a68e5ee74afe07cbaa (01:27): This should be drop dead simple. I don't know how I've managed to botch it.",
        "f38c246d1e68379d394e08662cf798a9 (01:32): s34n: add -vn to your iptables -L",
        "f38c246d1e68379d394e08662cf798a9 (01:32): maybe you have a interface problem",
        "8756bdff248ec5a68e5ee74afe07cbaa (01:35): <a href=\"http://www.rafb.net/paste/results/cIvdUX87.html\">http://www.rafb.net/paste/results/cIvdUX87.html</a>",
        "8756bdff248ec5a68e5ee74afe07cbaa (01:36): from the host itself, I can ping both networks",
        "8756bdff248ec5a68e5ee74afe07cbaa (01:37): and both networks can ping the fw",
        "8756bdff248ec5a68e5ee74afe07cbaa (01:37): the private network can ping both sides of the fw",
        "f38c246d1e68379d394e08662cf798a9 (01:40): s34n: is route correctly set on both networks ?",
        "f38c246d1e68379d394e08662cf798a9 (01:40): 23  1548 ACCEPT     icmp --  *      *       0.0.0.0/0            0.0.0.0/0           icmp type 255",
        "f38c246d1e68379d394e08662cf798a9 (01:41): it seems ping goes through firewall",
        "8756bdff248ec5a68e5ee74afe07cbaa (01:42): Regit: route looks correct",
        "f38c246d1e68379d394e08662cf798a9 (01:43): s34n: try tcpdump on firewall output interface when trying to ping",
        "8756bdff248ec5a68e5ee74afe07cbaa (01:56): Regit: ok. it dumped some stuff",
        "8756bdff248ec5a68e5ee74afe07cbaa (01:58): what am I looking for?",
        "f38c246d1e68379d394e08662cf798a9 (01:58): s34n: did you see packet from internal that should have gone through the fw",
        "f38c246d1e68379d394e08662cf798a9 (01:58): ?",
        "8756bdff248ec5a68e5ee74afe07cbaa (02:01): It shows an arp lookup for the public address I pinged, then the packet going across, then a packet coming back",
        "f38c246d1e68379d394e08662cf798a9 (02:04): s34n: can you pastebin it  ?",
        "8756bdff248ec5a68e5ee74afe07cbaa (02:13): Regit: <a href=\"http://www.rafb.net/paste/results/iGK5AB41.html\">http://www.rafb.net/paste/results/iGK5AB41.html</a>",
        "f38c246d1e68379d394e08662cf798a9 (02:15): s34n: no icmp in there",
        "8756bdff248ec5a68e5ee74afe07cbaa (02:20): k",
        "8756bdff248ec5a68e5ee74afe07cbaa (02:23): In repeated tests, I don't see any traffic that can be attributed to the ping",
        "bd29893a0820376423ab7ea9a8c80a92 (02:39): can anyone point me to information about the new netfilter xtables? I'm having trouble finding any documentation about it in the kernel doc or online",
        "2a655a0e14a4584229ba4aeef43b9039 (02:40): /dev/null&quot;)"
    ],
    "person_ids": [
        "8756bdff248ec5a68e5ee74afe07cbaa",
        "f38c246d1e68379d394e08662cf798a9",
        "0dc8fc8ea1207f8b7d9f44bcf8e99e79",
        "bd29893a0820376423ab7ea9a8c80a92",
        "2a655a0e14a4584229ba4aeef43b9039"
    ]
}