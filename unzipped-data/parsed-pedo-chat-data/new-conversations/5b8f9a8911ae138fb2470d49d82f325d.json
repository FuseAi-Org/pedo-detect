{
    "id": "5b8f9a8911ae138fb2470d49d82f325d",
    "messages": [
        "bece120fe03ff5e0681bc127f20e08e9 (14:24): How can I keep Apache 1.3 from appending trailing slashes when the web client asks for a directory? (Yes, I know this is normally desirable, but in this case I really do want it off.)",
        "7dcff74ec1c8812f6f9ca48fc780e3e2 (14:25): alias",
        "b0a90be919a9f920bb8ad2caca4e91f0 (14:25): alias is <a href=\"http://httpd.apache.org/docs/2.2/mod/mod_alias.html#alias\">http://httpd.apache.org/docs/2.2/mod/mod_alias.html#alias</a>",
        "abea47ee107e111b99f7d8468c1d5940 (14:26): fajita, mod_rewrite",
        "b0a90be919a9f920bb8ad2caca4e91f0 (14:26): suv4x4: mod_rewrite is <a href=\"http://httpd.apache.org/docs-2.0/mod/mod_rewrite.html\">http://httpd.apache.org/docs-2.0/mod/mod_rewrite.html</a> or <a href=\"http://httpd.apache.org/docs/mod/mod_rewrite.html\">http://httpd.apache.org/docs/mod/mod_rewrite.html</a> or see rewriteguide. or <a href=\"http://rewrite.drbacchus.com/\">http://rewrite.drbacchus.com/</a> or almost always there",
        "abea47ee107e111b99f7d8468c1d5940 (14:27): fajita, marry me",
        "b0a90be919a9f920bb8ad2caca4e91f0 (14:27): suv4x4: But I'd have to get a divorce, first...!",
        "bece120fe03ff5e0681bc127f20e08e9 (14:27): mod_rewrite wouldn't do it, because Apache would put the trailing slash back. Tried it already.",
        "abea47ee107e111b99f7d8468c1d5940 (14:27): furrykef, it shouldn't unless you used the [R] attribute",
        "abea47ee107e111b99f7d8468c1d5940 (14:27): try with [L] only",
        "bece120fe03ff5e0681bc127f20e08e9 (14:28): But using [R] is the whole point... I want the canonical form of the URL to be without the slash.",
        "bece120fe03ff5e0681bc127f20e08e9 (14:28): (The reason is I'm experimenting with a URL scheme that doesn't distinguish files and directories.)",
        "abea47ee107e111b99f7d8468c1d5940 (14:28): furrykef, interesting scheme",
        "abea47ee107e111b99f7d8468c1d5940 (14:29): fajita, get a divorse",
        "b0a90be919a9f920bb8ad2caca4e91f0 (14:29): suv4x4: I have no idea.",
        "abea47ee107e111b99f7d8468c1d5940 (14:29): yea, you're only so good :P",
        "af7018bce3402d595aa0d0a2799da15b (14:29): anyone can give me a tip here? I have a bunch of name based vhosts. I need to configure a &quot;default&quot; vhost that would respond to any request that isn't arriving to any particular vhost. Anyone has any FAQ/FM in mind?",
        "9b8a04982a967b1914dfc58bd6c719d7 (14:30): mst: the first vhost that's read by apache is your default",
        "af7018bce3402d595aa0d0a2799da15b (14:31): jink, so basically I should cause its configuration to be loaded prior to the rest?",
        "9b8a04982a967b1914dfc58bd6c719d7 (14:31): mst: so i usually do something like:  &lt;VirtualHost *:80&gt; ...  # your default  ... &lt;/VirtualHost&gt;   Include vhosts/*",
        "9b8a04982a967b1914dfc58bd6c719d7 (14:31): pretty much :)",
        "bece120fe03ff5e0681bc127f20e08e9 (14:32): suv4x4 - no idea how to do it, though?",
        "bece120fe03ff5e0681bc127f20e08e9 (14:32): I heard Apache got a directive for exactly this sort of thing, but since the server's not mine, I can't upgrade Apache to use it :(",
        "abea47ee107e111b99f7d8468c1d5940 (14:32): furrykef, I'm not sure either, sorry :P",
        "af7018bce3402d595aa0d0a2799da15b (14:33): jink, alright, let's try it then",
        "af7018bce3402d595aa0d0a2799da15b (14:34): kickass, works like a charm",
        "af7018bce3402d595aa0d0a2799da15b (14:34): thanks man",
        "9b8a04982a967b1914dfc58bd6c719d7 (14:34): np",
        "bece120fe03ff5e0681bc127f20e08e9 (14:35): suv4x4 - well, thanks anyways...",
        "bece120fe03ff5e0681bc127f20e08e9 (14:36): I actually have a solution that works except that .htaccess files won't work in subdirectories... but I'd like it if they did.",
        "bb385fea9b8676db62117a7e25ed11bb (14:36): heys folks",
        "bb385fea9b8676db62117a7e25ed11bb (14:37): I did a mod_proxy conf on a 2.0.54 at home, it was working fine, I redid the same at work, I didn't work anymore",
        "af7018bce3402d595aa0d0a2799da15b (14:38): furrykef, they would if you configure your webserver to",
        "bb385fea9b8676db62117a7e25ed11bb (14:38): the /ajaxterm I defined in my config file is not interpreted to the proxy but like /var/www/html/ajaxterm",
        "af7018bce3402d595aa0d0a2799da15b (14:38): erwan_taf, whoah you scared me there. I thought /dev/ajaxterm for a moment.. and I was instantly horrified at the notion",
        "bb385fea9b8676db62117a7e25ed11bb (14:39): ;)",
        "bb385fea9b8676db62117a7e25ed11bb (14:40): apache is well started with -DHAVE_PROXY etc..",
        "bb385fea9b8676db62117a7e25ed11bb (14:41): so I wonder how to debug this",
        "bece120fe03ff5e0681bc127f20e08e9 (14:41): mst - what I mean is, for example, a request for /foo/bar will get rewritten to /index.php?q=foo/bar, and then index.php will read in something from /impl/foo/bar... if I have /impl/foo/.htaccess, Apache's not going to realize it &quot;should&quot; use that .htaccess file.",
        "bece120fe03ff5e0681bc127f20e08e9 (14:41): It'd need to be at /foo and not /impl/foo",
        "af7018bce3402d595aa0d0a2799da15b (14:42): furrykef, if you are using rewriting, that makes complete sense. Either exclude certain locations from rewriting, or implement the whole thing in rewriting",
        "af7018bce3402d595aa0d0a2799da15b (14:43): do they actually say &quot;makes complete sense&quot; in Queen's English?",
        "bece120fe03ff5e0681bc127f20e08e9 (14:43): The point of the /impl directory is actually to hide the directory structure from Apache to keep it from appending trailing slashes when a directory is specified in the URL (to put it another way: to decouple the URL from the filesystem somewhat)",
        "bece120fe03ff5e0681bc127f20e08e9 (14:44): If I did rewriting so that Apache would find the .htaccess files, it would also append trailing slashes again, I think. Unless I did things in a way even more convoluted than I am now, perhaps...",
        "bece120fe03ff5e0681bc127f20e08e9 (14:44): (which I don't want to do)",
        "bece120fe03ff5e0681bc127f20e08e9 (14:45): mst - oh, I see you missed the part where I was talking about removing trailing slashes from my URLs",
        "af7018bce3402d595aa0d0a2799da15b (14:46): if you have a completely virtual URL structure, it makes no sense to rely on the webserver for access control",
        "af7018bce3402d595aa0d0a2799da15b (14:46): that's what you're trying to do with .htaccess, right?",
        "bece120fe03ff5e0681bc127f20e08e9 (14:47): Well, the .htaccess in a subdirectory is to use further rewrite rules that only apply to that subdirectory, so that, say, /foo/bar/baz gets rewritten to /foo/bar.php?q=baz",
        "af7018bce3402d595aa0d0a2799da15b (14:48): furrykef, just concentrate the subdirectory rules before the grand rule, give them the L flag",
        "9b8a04982a967b1914dfc58bd6c719d7 (14:48): why would you want that?",
        "bece120fe03ff5e0681bc127f20e08e9 (14:48): But I don't want that in my root .htaccess. I could live with it there if I had to",
        "bece120fe03ff5e0681bc127f20e08e9 (14:48): Why would I want what, exactly?",
        "9b8a04982a967b1914dfc58bd6c719d7 (14:48): why not just:  RewriteRule /foo/bar/(.*) /foo/bar.php?1=$1  ?",
        "af7018bce3402d595aa0d0a2799da15b (14:48): it's better to hold the rewriting rules in the server config anyway. .htaccess is re-read every time a request is handled. Server configs are only read once.",
        "9b8a04982a967b1914dfc58bd6c719d7 (14:49): or something along those lines :)",
        "bece120fe03ff5e0681bc127f20e08e9 (14:49): mst - I don't have access to that. Shared hosting. I figure if I have to use .htaccess, I may as well use it to its full advantage...",
        "bb385fea9b8676db62117a7e25ed11bb (14:50): <a href=\"http://paste.uni.cc/9033\">http://paste.uni.cc/9033</a>",
        "bb385fea9b8676db62117a7e25ed11bb (14:50): this is the configuration I did",
        "bb385fea9b8676db62117a7e25ed11bb (14:50): if I make a syntax error, apache cries so it sounds to be parsed",
        "af7018bce3402d595aa0d0a2799da15b (14:50): furrykef, use conditional rewrites or pile them up in a certain order in your main .htaccess; or make exclusion rules to allow subdirectory requests to go through",
        "bece120fe03ff5e0681bc127f20e08e9 (14:51): Really, though, I'd prefer a better means of keeping Apache from appending trailing slashes to directory names in the first place... then I wouldn't need to put things in the /impl subdirectory to hide the directory names.",
        "bece120fe03ff5e0681bc127f20e08e9 (14:54): I'm guessing there's no other practical way to do it... I could easily be wrong, of course.",
        "bece120fe03ff5e0681bc127f20e08e9 (14:54): (Heh, I know the whole idea seems pretty absurd, and in a way it is, but...)",
        "bb385fea9b8676db62117a7e25ed11bb (14:56): mst: any ideas for me ?",
        "af7018bce3402d595aa0d0a2799da15b (15:00): none, I don't know anything about mod_proxy",
        "bece120fe03ff5e0681bc127f20e08e9 (15:06): well, thanks",
        "b4ef09e217433c222585fa6a97762892 (15:06): using &quot;apache2 -t -D DUMP_VHOSTS&quot; I can see that apache consistently chooses the first domain in my list of served domains as the default domain, over the one mentioned in 000-default",
        "28e2307e1643c3378ae21fa68a1cef63 (15:06): Hi, my DirectoryIndex index.html index.php but my mydomain.com/ always open the index.php, any idea how to troubleshoot this?",
        "b4ef09e217433c222585fa6a97762892 (15:06): the list of served domains is IP:80, with two different ips.",
        "b4ef09e217433c222585fa6a97762892 (15:07): my 000-default is the same. any ideas?",
        "bece120fe03ff5e0681bc127f20e08e9 (15:08): edgy - why do you have index.html and index.php in the same directory in the first place?",
        "28e2307e1643c3378ae21fa68a1cef63 (15:08): furrykef: because my site is still experimental and I want the public to see the index.html and some private group to access index.php to check the real thing",
        "bece120fe03ff5e0681bc127f20e08e9 (15:09): Why not just rename the .php file then?",
        "28e2307e1643c3378ae21fa68a1cef63 (15:09): furrykef: I can find many workarounds but I want to know why DirectoryIndex didn't work the way I expect it",
        "bece120fe03ff5e0681bc127f20e08e9 (15:09): (Note that I don't actually know the answer to your question, sorry)",
        "28e2307e1643c3378ae21fa68a1cef63 (15:10): furrykef: many times people ask here to understand and get experience and not necessarily they don't know some workarounds",
        "bece120fe03ff5e0681bc127f20e08e9 (15:10): Yeah, I can understand that. It sounds to me that .php just has a higher priority, like a content negotiation type thing (though I don't know if it's actually handled by the content negotiation module)",
        "bece120fe03ff5e0681bc127f20e08e9 (15:11): edgy - I know, I do the same thing",
        "bece120fe03ff5e0681bc127f20e08e9 (15:11): edgy - I felt I still had to ask, though :)",
        "bece120fe03ff5e0681bc127f20e08e9 (15:11): (Likewise, I get &quot;Why do you want to do that?&quot; when I ask about how to keep Apache from appending trailing slashes to directory names...)",
        "28e2307e1643c3378ae21fa68a1cef63 (15:11): furrykef: ;)",
        "28e2307e1643c3378ae21fa68a1cef63 (15:12): furrykef: at least my question is more logic ;)",
        "bece120fe03ff5e0681bc127f20e08e9 (15:12): I don't suppose you'd know anything about that, BTW :P",
        "bece120fe03ff5e0681bc127f20e08e9 (15:12): Heh, maybe, maybe not :)",
        "4e2534338c6703687878218b05b73cc2 (15:12): goodmorning",
        "bece120fe03ff5e0681bc127f20e08e9 (15:13): Since usually having an index.html and index.php in the same directory isn't good form anyway, just as chopping off the trailing slash of directory names isn't usually good form",
        "bece120fe03ff5e0681bc127f20e08e9 (15:13): But that doesn't keep us from wanting to do those things because 'usually' isn't 'always'",
        "28e2307e1643c3378ae21fa68a1cef63 (15:13): furrykef: but who said this is related to apache?",
        "4e2534338c6703687878218b05b73cc2 (15:14): I'm trying to redirect without the user noticing it. For e.x.: if a user has this domain: domaina.com and adds /webmail it should go to the directory found elsewhere with the contents of webmail. Now, i can use normal redirecting to a URL, but then the user sees a change of URI in the URI bar in browser. Someone a good idea on this/",
        "4e2534338c6703687878218b05b73cc2 (15:14): +has",
        "4e2534338c6703687878218b05b73cc2 (15:14): -/",
        "28e2307e1643c3378ae21fa68a1cef63 (15:14): furrykef: no no I now can give you a good reason. I have many links that point to index.php and renaming that one would break the whole site ;)",
        "28e2307e1643c3378ae21fa68a1cef63 (15:15): furrykef: even if you browse a site on an IIS server or whatever you would have the trailing slash by the way",
        "4e2534338c6703687878218b05b73cc2 (15:19): ah Alias...",
        "af7018bce3402d595aa0d0a2799da15b (15:22): Alias is crap series. Just in case you care ;)",
        "bece120fe03ff5e0681bc127f20e08e9 (15:23): edgy - it's an Apache issue because it's the webserver I'm wrestling with to try to get it to stop doing that. :)",
        "af7018bce3402d595aa0d0a2799da15b (15:23): funkywizard, huh, what? apache completing /foo to /foo/?",
        "bece120fe03ff5e0681bc127f20e08e9 (15:24): Yeah. I want it to just stay /foo",
        "af7018bce3402d595aa0d0a2799da15b (15:24): funkywizard, duh, disable mod_dir",
        "bece120fe03ff5e0681bc127f20e08e9 (15:24): And I'm not funkywizard... ;)",
        "af7018bce3402d595aa0d0a2799da15b (15:24): damnit",
        "bece120fe03ff5e0681bc127f20e08e9 (15:31): mst - can that be done from within .htaccess, though?",
        "af7018bce3402d595aa0d0a2799da15b (15:32): furrykef, no. oh you are on shared hosting?",
        "af7018bce3402d595aa0d0a2799da15b (15:32): nope",
        "bece120fe03ff5e0681bc127f20e08e9 (15:32): Yeah, I am.",
        "bece120fe03ff5e0681bc127f20e08e9 (15:32): If I weren't, I'd just use Apache 2.x and use mod_dir's DirectorySlash directive",
        "af7018bce3402d595aa0d0a2799da15b (15:32): why does it bother you though?",
        "bece120fe03ff5e0681bc127f20e08e9 (15:32): But I'm stuck on 1.3",
        "bece120fe03ff5e0681bc127f20e08e9 (15:33): Heh, it's actually no big deal (and if it were just any old website, I wouldn't even worry about it), but this is for my own, personal website, which means I get even more obsessive-compulsive about getting things just the way I want them than normal",
        "af7018bce3402d595aa0d0a2799da15b (15:34): paging Dr. Freud paging Dr. Freud :D",
        "bece120fe03ff5e0681bc127f20e08e9 (15:34): I feel that a trailing slash doesn't actually provide useful information. It means &quot;There might be more information on a deeper level... but then again, there might not.&quot; Not very useful.",
        "bece120fe03ff5e0681bc127f20e08e9 (15:34): Other than that, it's merely an implementation detail.",
        "af7018bce3402d595aa0d0a2799da15b (15:45): suv4x4",
        "7ac8f8cf65a7a0b4ea7635148640d197 (15:56): morning class",
        "9b8a04982a967b1914dfc58bd6c719d7 (15:56): 'sup yo :)"
    ],
    "person_ids": [
        "bece120fe03ff5e0681bc127f20e08e9",
        "7dcff74ec1c8812f6f9ca48fc780e3e2",
        "b0a90be919a9f920bb8ad2caca4e91f0",
        "abea47ee107e111b99f7d8468c1d5940",
        "af7018bce3402d595aa0d0a2799da15b",
        "9b8a04982a967b1914dfc58bd6c719d7",
        "bb385fea9b8676db62117a7e25ed11bb",
        "b4ef09e217433c222585fa6a97762892",
        "28e2307e1643c3378ae21fa68a1cef63",
        "4e2534338c6703687878218b05b73cc2",
        "7ac8f8cf65a7a0b4ea7635148640d197"
    ]
}