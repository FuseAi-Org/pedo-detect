{
    "id": "1b6b653e319c27599d47c2e6f2be84a1",
    "messages": [
        "3a2df0d95f1145a7db8903d4c1336d4c (20:39): its called a buzz word e29be37c2febc43a0d21a1f8efa351af",
        "e29be37c2febc43a0d21a1f8efa351af (20:40): s/its/it's/ ;-), sure...",
        "70bfd0ae2cfbf2da192bddd569cf6132 (20:42): :)",
        "e29be37c2febc43a0d21a1f8efa351af (20:44): leaves",
        "e29be37c2febc43a0d21a1f8efa351af (20:44): ?\u00ed?\u00fb?\u00ae ?\u00f3?\u2122?\u00f4?\u00fb?\u00ee ?\u00f2?\u00ef?\u00eb?\u00ee",
        "88d4d34a8064a4ff39fd5e144eea7762 (20:44): e29be37c2febc43a0d21a1f8efa351af, same to you.",
        "88d4d34a8064a4ff39fd5e144eea7762 (20:45): jgraham, so if I use innerHTML with escaping in that one place, instead of textContent 75,000 times, it drops the time until the load event from about 35s to about 7s.",
        "88d4d34a8064a4ff39fd5e144eea7762 (20:45): (in Chrome 15 dev)",
        "88d4d34a8064a4ff39fd5e144eea7762 (20:45): In Firefox 8.0a2, it drops it from around 78s to 45s.",
        "88d4d34a8064a4ff39fd5e144eea7762 (20:49): jgraham, while I agree that in general it's better to use textContent instead of doing escaping manually, it's justifiable to use less-safe techniques in cases where they provide a large enough performance increase.",
        "88d4d34a8064a4ff39fd5e144eea7762 (20:49): FWIW, if I comment out your test suite and do function test(f) {try{f()}catch(e){}} and define assert_* as no-ops, it takes like one second to run the tests.",
        "88d4d34a8064a4ff39fd5e144eea7762 (20:50): So the time it's taking is basically all the test suite, not the tests.",
        "70bfd0ae2cfbf2da192bddd569cf6132 (20:52): http://www.diveinto.org/html51/ is what I'm putting together thus far.  It's juuuuust beginning.",
        "88d4d34a8064a4ff39fd5e144eea7762 (21:08): jgraham, diff: http://pastebin.com/wbAazWRk",
        "88d4d34a8064a4ff39fd5e144eea7762 (21:32): jgraham, additional proposed change: hide results by default if there are &gt; 1000 rows.  This reduces my real-world test-case to about 7 seconds in Chrome from 25 or so, from starting to load it until the page is usable.",
        "88d4d34a8064a4ff39fd5e144eea7762 (21:32): http://pastebin.com/YKdPRTem",
        "88d4d34a8064a4ff39fd5e144eea7762 (21:32): Of course, checking either of the boxes will freeze the tab for ten seconds or more.",
        "88d4d34a8064a4ff39fd5e144eea7762 (21:47): jgraham, I pushed another performance change that should hopefully be unobjectionable.  I'll wait for your feedback before pushing the other two.",
        "3a2df0d95f1145a7db8903d4c1336d4c (22:07): one thing i love, PDF",
        "3a2df0d95f1145a7db8903d4c1336d4c (22:07): i love read-only files :P",
        "8b3687499080633e1898fa1dd209ef81 (22:07): ab7faae5d7b250ea8606486575f8f79c, so your PhD is done by now?",
        "6b57ea7f33069df5914663ba9e59afdf (22:08): 88d4d34a8064a4ff39fd5e144eea7762: what is taking 35s in Chrome but 78s in FF ?",
        "6b57ea7f33069df5914663ba9e59afdf (22:08): would like to profile that",
        "8b3687499080633e1898fa1dd209ef81 (22:08): The editcommands tests, I presume",
        "6b57ea7f33069df5914663ba9e59afdf (22:11): hmm, that might involve editor. /me leaves testing to ehsan",
        "8b3687499080633e1898fa1dd209ef81 (22:11): Very much so",
        "ab7faae5d7b250ea8606486575f8f79c (22:33): 8b3687499080633e1898fa1dd209ef81: Yep",
        "8b3687499080633e1898fa1dd209ef81 (22:33): Good, then you can start looking at my bugs :)",
        "88d4d34a8064a4ff39fd5e144eea7762 (22:33): 6b57ea7f33069df5914663ba9e59afdf, running 26,000ish tests in jgraham's test harness.  I don't think it has anything to do with the tests themselves, it's all test harness overhead AFAICT.",
        "88d4d34a8064a4ff39fd5e144eea7762 (22:33): goes to dig up a stable URL for an example",
        "6b57ea7f33069df5914663ba9e59afdf (22:34): ah, it would be interesting to know what in the testharness causes that difference",
        "88d4d34a8064a4ff39fd5e144eea7762 (22:34): The exact URLs I'm using are works-in-progress, not useful for me to hand them out to anyone.",
        "6b57ea7f33069df5914663ba9e59afdf (22:34): I think I haven't profiled textContent",
        "88d4d34a8064a4ff39fd5e144eea7762 (22:35): 6b57ea7f33069df5914663ba9e59afdf, e.g., this takes over twice as long for me in Firefox as Chrome (will freeze Firefox briefly): http://dvcs.w3.org/hg/editing/raw-file/98671dcd5b1f/selecttest/Selection-collapse.html",
        "88d4d34a8064a4ff39fd5e144eea7762 (22:36): In that case it's less drastic, since it's only 4-5s in Chrome to start with, 9-10s in Firefox.",
        "88d4d34a8064a4ff39fd5e144eea7762 (22:36): Beware, the version of testharness.js included with that will change.  I'm in the middle of optimizing it.",
        "88d4d34a8064a4ff39fd5e144eea7762 (22:37): So if you want to profile properly, I suggest saving the page and all includes.",
        "ab7faae5d7b250ea8606486575f8f79c (22:38): 8b3687499080633e1898fa1dd209ef81: Hopefully :-)",
        "ab7faae5d7b250ea8606486575f8f79c (22:39): needs to work through a backlog of things",
        "8b3687499080633e1898fa1dd209ef81 (22:39): Yeah, I believe you do ;)",
        "6b57ea7f33069df5914663ba9e59afdf (22:40): 88d4d34a8064a4ff39fd5e144eea7762: well, very briefly",
        "88d4d34a8064a4ff39fd5e144eea7762 (22:40): ?",
        "6b57ea7f33069df5914663ba9e59afdf (22:41): 88d4d34a8064a4ff39fd5e144eea7762: that test takes like 5s here",
        "6b57ea7f33069df5914663ba9e59afdf (22:41): and the freeze is very short",
        "88d4d34a8064a4ff39fd5e144eea7762 (22:41): 6b57ea7f33069df5914663ba9e59afdf, I've discovered my CPUs are older and cheaper than most people around here.  :)",
        "88d4d34a8064a4ff39fd5e144eea7762 (22:41): Freezes for more like 10 seconds for me.",
        "6b57ea7f33069df5914663ba9e59afdf (22:41): my macbook is ancient",
        "88d4d34a8064a4ff39fd5e144eea7762 (22:41): Well over a minute for longer test-cases.",
        "88d4d34a8064a4ff39fd5e144eea7762 (22:41): What CPU does it have?",
        "6b57ea7f33069df5914663ba9e59afdf (22:42): (I use macbook only for profiling. For other things I want reasonable UI)",
        "6b57ea7f33069df5914663ba9e59afdf (22:42): dunno what cpu",
        "88d4d34a8064a4ff39fd5e144eea7762 (22:43): Anyway, obviously, Chrome doesn't freeze at all, except that one tab.  One of the biggest reasons I use Chrome right now.",
        "6b57ea7f33069df5914663ba9e59afdf (22:43): 2Ghz core 2 duo",
        "88d4d34a8064a4ff39fd5e144eea7762 (22:44): I'm using a 2.6 GHz AMD 64 X2.  So it's unsurprising that a Core 2 Duo is faster even at a slower clock speed, but a factor of two seems excessive.",
        "88d4d34a8064a4ff39fd5e144eea7762 (22:44): Oh well.",
        "6b57ea7f33069df5914663ba9e59afdf (22:46): bah, Shark doesn't work",
        "88d4d34a8064a4ff39fd5e144eea7762 (22:46): What's Shark?",
        "6b57ea7f33069df5914663ba9e59afdf (22:47): the profiler on OSX",
        "88d4d34a8064a4ff39fd5e144eea7762 (22:50): Ah",
        "88d4d34a8064a4ff39fd5e144eea7762 (22:50): ."
    ],
    "person_ids": [
        "3a2df0d95f1145a7db8903d4c1336d4c",
        "e29be37c2febc43a0d21a1f8efa351af",
        "70bfd0ae2cfbf2da192bddd569cf6132",
        "88d4d34a8064a4ff39fd5e144eea7762",
        "8b3687499080633e1898fa1dd209ef81",
        "6b57ea7f33069df5914663ba9e59afdf",
        "ab7faae5d7b250ea8606486575f8f79c"
    ]
}