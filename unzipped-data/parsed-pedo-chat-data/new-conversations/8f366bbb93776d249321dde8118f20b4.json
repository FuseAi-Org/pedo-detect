{
    "id": "8f366bbb93776d249321dde8118f20b4",
    "messages": [
        "ea298322fa8da95c688eb9ae8406b6a9 (01:35): hi folx",
        "93aa29fc7f5ab4bcaa575cfa519db0a1 (01:37): I'm a kitten not a fox",
        "3a75d3ddfe806dcc5e1accd89a98fc86 (01:47): meow",
        "3e1417c30b1fef6c81946d63a948c231 (01:56): hi, i need to block incoming ssh connections to my machine with ip x, except for one ip",
        "661186e835f2d517077443e282a4a42a (01:58): k",
        "3e1417c30b1fef6c81946d63a948c231 (01:59): maybe, iptables -A INPUT -j DROP -p tcp --destination-port 22",
        "3e1417c30b1fef6c81946d63a948c231 (01:59): ?",
        "2a0be8d62ca9580cd38315202869a51a (01:59): testmania: iptables -A INPUT -i eth0 -p tcp -s ip.to.all.ow  --dport 22  -j ACCEPT",
        "7d470a1090d276ef41573c2a940df92a (02:00): hello",
        "2a0be8d62ca9580cd38315202869a51a (02:00): then iptables -A INPUT -i eth0 -p tcp --dport 22  -j DROP",
        "3e1417c30b1fef6c81946d63a948c231 (02:00): dkr thank u",
        "3e1417c30b1fef6c81946d63a948c231 (02:00): one question",
        "3e1417c30b1fef6c81946d63a948c231 (02:00): the first rule overrides or the second?",
        "de76c8e6cbbc3c1c44788a340cac141e (02:00): maxine: rule order",
        "d949efae795da71ef603b60b018d191c (02:00): rule order is probably important, because rules are evaluated in order until one matches. iptables -I can be used to insert the rule at the start of a chain; iptables -A puts it at the end",
        "2a0be8d62ca9580cd38315202869a51a (02:00): they are checked in order",
        "7d470a1090d276ef41573c2a940df92a (02:00): dkr: or -j REJECT or -j TARPIT :)",
        "3e1417c30b1fef6c81946d63a948c231 (02:01): doesn't that mean it will check the drop next and drop it?",
        "2a0be8d62ca9580cd38315202869a51a (02:01): &quot;until one matches&quot;",
        "2a0be8d62ca9580cd38315202869a51a (02:01): onc eit is aeccepted, it doesn't keep checking",
        "3e1417c30b1fef6c81946d63a948c231 (02:01): ah ok",
        "3e1417c30b1fef6c81946d63a948c231 (02:01): thanks a lot:)",
        "3e1417c30b1fef6c81946d63a948c231 (02:02): where to put a bash file to execute on system boot? /etc/rc.d/init.d i think i remember",
        "2a0be8d62ca9580cd38315202869a51a (02:03): yes",
        "2a0be8d62ca9580cd38315202869a51a (02:03): then symlink it to /etc/rcN.d where N is your runlevel",
        "3e1417c30b1fef6c81946d63a948c231 (02:04): thanks, there is an iptables there, but i remember there is a file i think rc.local where i can add what to execute",
        "2a0be8d62ca9580cd38315202869a51a (02:04): or use one of the nice scripts to do it for you,  chkconfig in rehdat, update-rc.d in debian",
        "3e1417c30b1fef6c81946d63a948c231 (02:04): ah yes /etc/rc.local",
        "3e1417c30b1fef6c81946d63a948c231 (02:05): chkconfig yea to add a service, but i wanted to call these rules whenever the system boots",
        "3e1417c30b1fef6c81946d63a948c231 (02:05): :)",
        "3e1417c30b1fef6c81946d63a948c231 (02:05): because they get flushed every system boot",
        "2a0be8d62ca9580cd38315202869a51a (02:05): chkconfig does that, too",
        "2a0be8d62ca9580cd38315202869a51a (02:06): chkconfig myinitscript --level 3 on   means ti will always be started in run level 3, e.g.",
        "3e1417c30b1fef6c81946d63a948c231 (02:06): ah even for scripts",
        "3e1417c30b1fef6c81946d63a948c231 (02:06): very nice",
        "2a0be8d62ca9580cd38315202869a51a (02:06): you also might want to do iptables -F  to flush any current rules before making your new ones, just in case",
        "3e1417c30b1fef6c81946d63a948c231 (02:07): thank you",
        "2a0be8d62ca9580cd38315202869a51a (02:07): like if you edit the file and re-run it to allow a new ip access",
        "3e1417c30b1fef6c81946d63a948c231 (02:07): why does iptables not save them when it reboots",
        "de76c8e6cbbc3c1c44788a340cac141e (02:07): maxine: iptables-save",
        "d949efae795da71ef603b60b018d191c (02:07): it has been said that iptables-save is a utility for saving all iptables rules in an easily parsable format. Many linux distros have a script for saving and restoring rules on reboot, which uses this utility. See &lt;iptables-save format&gt; or &lt;iptables-restore&gt;",
        "3e1417c30b1fef6c81946d63a948c231 (02:08): thanks a lot dkr and danieldg",
        "2a0be8d62ca9580cd38315202869a51a (02:08): I forgot about that, I prefer writing firewall script myself, heh. :)",
        "3e1417c30b1fef6c81946d63a948c231 (02:08): :)",
        "de76c8e6cbbc3c1c44788a340cac141e (02:08): I write my firewall scripts in that format, actually :)",
        "2a0be8d62ca9580cd38315202869a51a (02:09): hrm, well it seems liek it just omits the iptables command itself.  I guess that saves a couple chaarcters each line.  but iptables-save doesn't space out the options nicely in columns.",
        "de76c8e6cbbc3c1c44788a340cac141e (02:10): you can format them nicely in the file",
        "de76c8e6cbbc3c1c44788a340cac141e (02:10): iptables-restore will ignore whitespace and comments",
        "de76c8e6cbbc3c1c44788a340cac141e (02:10): it also omits the -t nat on NAT rules, etc",
        "2a0be8d62ca9580cd38315202869a51a (02:11): ah, yeah, I see",
        "de76c8e6cbbc3c1c44788a340cac141e (02:11): I've written some perl scripts that operate on iptables-save files, whereas it would be very difficult to do that for shell scripts",
        "d79855d3d04d133df841ed0791c75d8f (02:15): danieldg: It wouldn't be much harder with bash, just slower.",
        "de76c8e6cbbc3c1c44788a340cac141e (02:16): WoodyWoodpecker: consider loops or possibly more complex things",
        "de76c8e6cbbc3c1c44788a340cac141e (02:17): like a script that applies some rules, parses iptables -L output, and applies other rules based on it",
        "7d470a1090d276ef41573c2a940df92a (02:17): danieldg WoodyWoodpecker you have to write a bash script - even with save and restore - does rules have to be created at least once",
        "d79855d3d04d133df841ed0791c75d8f (02:17): bash is not thought for parsing, but it works.",
        "d949efae795da71ef603b60b018d191c (02:17): Either that quote id does't exist, or bash.org is busted at the moment.",
        "d79855d3d04d133df841ed0791c75d8f (02:18): And I prefer bash to perl for parsing stuff.",
        "7d470a1090d276ef41573c2a940df92a (02:18): WoodyWoodpecker: dont say anything against bash - i build a accounting system to create the needed iptables rules with it :D",
        "de76c8e6cbbc3c1c44788a340cac141e (02:18): oh, I wasn't talking about parsing it w/perl versus w/bash... I was talking about parsing a bash iptables script",
        "d79855d3d04d133df841ed0791c75d8f (02:19): danieldg: And what script language do you mean to use for parsing bash iptables scripts?",
        "d79855d3d04d133df841ed0791c75d8f (02:20): And even that would work with a bash parser :)",
        "de76c8e6cbbc3c1c44788a340cac141e (02:20): that's a very difficult problem",
        "de76c8e6cbbc3c1c44788a340cac141e (02:20): which is why I was preferring the iptables-save format",
        "d79855d3d04d133df841ed0791c75d8f (02:21): You mean bash only for parsing?",
        "7d470a1090d276ef41573c2a940df92a (02:21): WoodyWoodpecker: want would work??",
        "de76c8e6cbbc3c1c44788a340cac141e (02:21): we are talking about two different things",
        "7d470a1090d276ef41573c2a940df92a (02:21): WoodyWoodpecker: *what",
        "7d470a1090d276ef41573c2a940df92a (02:21): WoodyWoodpecker: what wouldn't work?",
        "de76c8e6cbbc3c1c44788a340cac141e (02:21): 1) format of the script itself",
        "d79855d3d04d133df841ed0791c75d8f (02:21): Taube: both of our views would work.",
        "de76c8e6cbbc3c1c44788a340cac141e (02:21): 2) language a metaparser of the script",
        "de76c8e6cbbc3c1c44788a340cac141e (02:22): er, language of",
        "7d470a1090d276ef41573c2a940df92a (02:22): danieldg: &quot;the script&quot;? A self made script or the autom. created iptables script?",
        "de76c8e6cbbc3c1c44788a340cac141e (02:22): either",
        "de76c8e6cbbc3c1c44788a340cac141e (02:23): the autogenerated script is obviously in iptables-save format, that's the only difference"
    ],
    "person_ids": [
        "ea298322fa8da95c688eb9ae8406b6a9",
        "93aa29fc7f5ab4bcaa575cfa519db0a1",
        "3a75d3ddfe806dcc5e1accd89a98fc86",
        "3e1417c30b1fef6c81946d63a948c231",
        "661186e835f2d517077443e282a4a42a",
        "2a0be8d62ca9580cd38315202869a51a",
        "7d470a1090d276ef41573c2a940df92a",
        "de76c8e6cbbc3c1c44788a340cac141e",
        "d949efae795da71ef603b60b018d191c",
        "d79855d3d04d133df841ed0791c75d8f"
    ]
}