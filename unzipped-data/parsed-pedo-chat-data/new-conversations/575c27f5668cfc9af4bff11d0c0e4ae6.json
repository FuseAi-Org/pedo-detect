{
    "id": "575c27f5668cfc9af4bff11d0c0e4ae6",
    "messages": [
        "ab7faae5d7b250ea8606486575f8f79c (21:22): The tokeniser is much easier when I don't worry about actually implementing it, since I can just add a command like AppendHyphenToCommentToken and use it without caring about what it does",
        "ab7faae5d7b250ea8606486575f8f79c (21:23): but I guess it'll all catch up with me when I do get around to the implementation bit :-(",
        "73eaf221abca1b8244e34b0b9e76ac46 (21:27): ab7faae5d7b250ea8606486575f8f79c: you're writing pseudo-code? :)",
        "ab7faae5d7b250ea8606486575f8f79c (21:30): Yes :-)",
        "ab7faae5d7b250ea8606486575f8f79c (21:31): (in a form that can be transformed into real code)",
        "ab7faae5d7b250ea8606486575f8f79c (21:31): (but that just moves some of the work into the code that does the transformation)",
        "ab7faae5d7b250ea8606486575f8f79c (21:32): (but it's a good excuse to learn OCaml anyway)",
        "ab7faae5d7b250ea8606486575f8f79c (21:50): http://canvex.lazyilluminati.com/misc/states3.png - now with added doctype states, so I think it's got everything (and probably more bugs than before)",
        "ab7faae5d7b250ea8606486575f8f79c (21:51): Oops, that's still got the EOF transitions...",
        "ab7faae5d7b250ea8606486575f8f79c (21:52): Now it doesn't, so it's a bit prettier",
        "ab7faae5d7b250ea8606486575f8f79c (21:57): Actually, I should probably tell it about parse errors too, so I can see if it's much simpler for conforming content",
        "73eaf221abca1b8244e34b0b9e76ac46 (21:58): seems the algorithm in https://bugzilla.mozilla.org/attachment.cgi?id=188040 only has one flaw, which is before step 1: match the value against the list of color keywords",
        "edb259c0e0038f38bb200bc20c8cbf7e (22:00): 73eaf221abca1b8244e34b0b9e76ac46, nice interop mess",
        "73eaf221abca1b8244e34b0b9e76ac46 (22:01): now i'll just see which keywords are supported, and if that differs from the keywords supported in css",
        "ab7faae5d7b250ea8606486575f8f79c (22:07): http://canvex.lazyilluminati.com/misc/states4.png - hmm, it does look much cleaner when you don't allow parse errors",
        "73eaf221abca1b8244e34b0b9e76ac46 (22:11): wow. ie supports lightgrey but not lightgray. quite the opposite to all other gr(a|e)ys",
        "73eaf221abca1b8244e34b0b9e76ac46 (22:12): ab7faae5d7b250ea8606486575f8f79c: you can't get into the bogus states if you don't allow parse errors, right?",
        "ab7faae5d7b250ea8606486575f8f79c (22:12): http://en.wikipedia.org/wiki/HTML_colors says lightgrey too",
        "73eaf221abca1b8244e34b0b9e76ac46 (22:15): could there be other keywords supported that aren't listed in css3-color ?",
        "ab7faae5d7b250ea8606486575f8f79c (22:15): 73eaf221abca1b8244e34b0b9e76ac46: Yep - there's nothing leading into those states in the diagram, but I didn't bother stripping them out",
        "73eaf221abca1b8244e34b0b9e76ac46 (22:15): ab7faae5d7b250ea8606486575f8f79c: ok",
        "ab7faae5d7b250ea8606486575f8f79c (22:16): 73eaf221abca1b8244e34b0b9e76ac46: I believe I looked in IE's .exe for colour names, and it didn't have any that weren't the standard set which CSS3 and every other browser includes",
        "73eaf221abca1b8244e34b0b9e76ac46 (22:16): ab7faae5d7b250ea8606486575f8f79c: ok. thanks",
        "ab7faae5d7b250ea8606486575f8f79c (22:17): Oh, that was IE3",
        "ab7faae5d7b250ea8606486575f8f79c (22:18): but I don't think they've changed it since then",
        "ab7faae5d7b250ea8606486575f8f79c (22:18): since they just copied it from NN2",
        "a924fb58d2c25874322f4e5126f608b9 (22:19): ab7faae5d7b250ea8606486575f8f79c: What if you colored the transition arrows depending on whether the transition requires a parse error or not?",
        "edb259c0e0038f38bb200bc20c8cbf7e (22:19): might be interesting to test DarkSeaGreen",
        "edb259c0e0038f38bb200bc20c8cbf7e (22:19): whether IE has the X11 or .Net impl",
        "edb259c0e0038f38bb200bc20c8cbf7e (22:19): got that from the wikipedia page",
        "73eaf221abca1b8244e34b0b9e76ac46 (22:20): edb259c0e0038f38bb200bc20c8cbf7e: darkseagreen is in css3-color",
        "ab7faae5d7b250ea8606486575f8f79c (22:20): a924fb58d2c25874322f4e5126f608b9: That sounds worth doing",
        "73eaf221abca1b8244e34b0b9e76ac46 (22:20): ah",
        "ab7faae5d7b250ea8606486575f8f79c (22:20): though what about transitions that can be both parse errors and not?",
        "a924fb58d2c25874322f4e5126f608b9 (22:21): a third color, or both?",
        "ab7faae5d7b250ea8606486575f8f79c (22:22): Hmm, I'll just draw two arrows, because then I won't have to change my code :-)",
        "edb259c0e0038f38bb200bc20c8cbf7e (22:22): some more arrows wouldn't hurt",
        "edb259c0e0038f38bb200bc20c8cbf7e (22:22): it's not always clear what the direction is :)",
        "a924fb58d2c25874322f4e5126f608b9 (22:23): Maybe put an arrowhead on the middle of the arrow too",
        "ab7faae5d7b250ea8606486575f8f79c (22:24): Hmph, colour PNGs are huge",
        "73eaf221abca1b8244e34b0b9e76ac46 (22:25): edb259c0e0038f38bb200bc20c8cbf7e: ie uses x11",
        "ab7faae5d7b250ea8606486575f8f79c (22:25): http://canvex.lazyilluminati.com/misc/states5.png",
        "ab7faae5d7b250ea8606486575f8f79c (22:28): Hmm, I don't think I can make Graphviz draw arrow heads except at the end",
        "edb259c0e0038f38bb200bc20c8cbf7e (22:30): 73eaf221abca1b8244e34b0b9e76ac46, so how do you test which color is used? some color picker?",
        "73eaf221abca1b8244e34b0b9e76ac46 (22:31): edb259c0e0038f38bb200bc20c8cbf7e: .bgcolor returns the rgb color",
        "73eaf221abca1b8244e34b0b9e76ac46 (22:32): er, .bgColor",
        "edb259c0e0038f38bb200bc20c8cbf7e (22:32): cool, automated testing",
        "73eaf221abca1b8244e34b0b9e76ac46 (22:34): http://simon.html5.org/test/html/parsing/color-attributes/keywords/",
        "73eaf221abca1b8244e34b0b9e76ac46 (22:36): i haven't sent anything to the list about color attributes yet, have i",
        "edb259c0e0038f38bb200bc20c8cbf7e (22:38): prolly not: http://www.google.com/search?q=inurl:whatwg-whatwg+color",
        "ab7faae5d7b250ea8606486575f8f79c (22:39): wonders if he could automatically generate tests to cover all the possible state transitions",
        "edb259c0e0038f38bb200bc20c8cbf7e (22:39): in http://simon.html5.org/test/html/parsing/color-attributes/ you can change Opera to none too",
        "edb259c0e0038f38bb200bc20c8cbf7e (22:39): ab7faae5d7b250ea8606486575f8f79c, that'd be most useful",
        "edb259c0e0038f38bb200bc20c8cbf7e (22:40): ab7faae5d7b250ea8606486575f8f79c, format: http://html5lib.googlecode.com/svn/trunk/testdata/tokenizer/ pretty please :)",
        "73eaf221abca1b8244e34b0b9e76ac46 (22:40): edb259c0e0038f38bb200bc20c8cbf7e: ah. cool.",
        "edb259c0e0038f38bb200bc20c8cbf7e (22:41): ab7faae5d7b250ea8606486575f8f79c, or maybe in the tree construction format...",
        "edb259c0e0038f38bb200bc20c8cbf7e (22:41): ab7faae5d7b250ea8606486575f8f79c, that would prolly be useful too especially for testing browsers",
        "ab7faae5d7b250ea8606486575f8f79c (22:42): The tree construction format probably wouldn't work too well when I don't have a tree constructor, unless I'm missing some point...",
        "edb259c0e0038f38bb200bc20c8cbf7e (22:43): ah, if you want to debug your own code, then no",
        "ab7faae5d7b250ea8606486575f8f79c (22:44): Ah, okay - I think it would be nice to have something I could use for just tokeniser tests",
        "edb259c0e0038f38bb200bc20c8cbf7e (22:44): then use the funky json format :)",
        "edb259c0e0038f38bb200bc20c8cbf7e (22:45): I wonder if that can be used in some meaningfull way on browsers too... prolly not",
        "ab7faae5d7b250ea8606486575f8f79c (22:45): though I don't know how to cope with the issue that the tree construction stage can affect the tokeniser's content model, when there's no tree construction stage",
        "edb259c0e0038f38bb200bc20c8cbf7e (22:45): see escapeFlag.test and contentModelFlags.test",
        "ab7faae5d7b250ea8606486575f8f79c (22:45): Incidentally, &quot;content model flag&quot; is a confusing name since most flags don't have four states...",
        "ab7faae5d7b250ea8606486575f8f79c (22:46): Oh, right - that looks useful :-)",
        "ab7faae5d7b250ea8606486575f8f79c (22:49): Shouldn't the test format include attributes on end tags, since the tokeniser is meant to emit them?",
        "edb259c0e0038f38bb200bc20c8cbf7e (22:50): the tokeniser doesn't emit them",
        "edb259c0e0038f38bb200bc20c8cbf7e (22:51): 69b0d3dfe919a6b860a9fac82de52a7e, those stats on AAA are useful! thanks",
        "ab7faae5d7b250ea8606486575f8f79c (22:51): &quot;Start and end tag tokens have a tag name and a list of attributes, each of which has a name and a value.&quot; &quot;When an end tag token is emitted with attributes, that is a parse error.&quot; - it sounds like they are emitted",
        "edb259c0e0038f38bb200bc20c8cbf7e (22:52): oh, ok",
        "69b0d3dfe919a6b860a9fac82de52a7e (22:52): edb259c0e0038f38bb200bc20c8cbf7e: which ones?",
        "edb259c0e0038f38bb200bc20c8cbf7e (22:52): 69b0d3dfe919a6b860a9fac82de52a7e, the ones you pasted in IRC earlier; how many times duplication is hit etc.",
        "edb259c0e0038f38bb200bc20c8cbf7e (22:53): although I'd love to see more detail :)",
        "69b0d3dfe919a6b860a9fac82de52a7e (22:53): ah yes",
        "69b0d3dfe919a6b860a9fac82de52a7e (22:53): i'll be posting more in due course"
    ],
    "person_ids": [
        "ab7faae5d7b250ea8606486575f8f79c",
        "73eaf221abca1b8244e34b0b9e76ac46",
        "edb259c0e0038f38bb200bc20c8cbf7e",
        "a924fb58d2c25874322f4e5126f608b9",
        "69b0d3dfe919a6b860a9fac82de52a7e"
    ]
}