{
    "id": "cf09ded0117c0bb038ad3ba8f2ec645c",
    "messages": [
        "7d85ed5bcddff66270288c14c41550cc (16:02): Keyur: you mean like &quot;tail -f /var/log/firewall&quot; ?",
        "e8a0090f285937391fc8fb31dd7d474b (16:03): like a gtk netstat?",
        "2a655a0e14a4584229ba4aeef43b9039 (16:10): /dev/null&quot;)",
        "0a789866fb48853591e8e86bde455260 (16:25): hi I have a question about one rule -A POSTROUTING -s 10.244.50.0/255.255.255.0 -d ! 10.244.0.0/255.255.240.0 -o eth1.574 -j SNAT --to-source ... how I can make the rule to make SNAT not only to this 10.244.0.0/255.255.240.0 but I want except 192.168.0.0/16 too",
        "0a789866fb48853591e8e86bde455260 (16:26): I tryed that -A POSTROUTING -s 10.244.50.0/255.255.255.0 -d ! 10.244.0.0/255.255.240.0,192.168.0.0/16 -o eth1.574 -j SNAT --to-source",
        "0a789866fb48853591e8e86bde455260 (16:26): but give me error",
        "0a789866fb48853591e8e86bde455260 (16:26): I can't make it wit , I tryed with space too but still some error",
        "7d85ed5bcddff66270288c14c41550cc (16:26): if I do  &quot;-j DROP&quot; should this alone cause logging?",
        "8cbdeba9587dc3d2680e110ce776b3f5 (16:27): hi all - does anyone here know if a good channel to discuss probs linking with a netgear router",
        "7d85ed5bcddff66270288c14c41550cc (16:27): HuK0B: I don't think 255.255.255.0 is a valid netmask",
        "7d85ed5bcddff66270288c14c41550cc (16:28): HuK0B: is you are trying to filter packets from 10.244.50.0 to 10.244.50.255, I suggest you use 10.244.50.0/24 instead",
        "0a789866fb48853591e8e86bde455260 (16:29): ok",
        "0a789866fb48853591e8e86bde455260 (16:29): I have 2 networks",
        "7d85ed5bcddff66270288c14c41550cc (16:30): Apachez: good morning. Thanks for your help yesterday.. I have studied and have another question",
        "0a789866fb48853591e8e86bde455260 (16:30): I want to masquerade all but not packets going to this 2 networks",
        "0a789866fb48853591e8e86bde455260 (16:31): ok I will make 10.244.50.0/24 but how to make 192.168.0.0/16 too",
        "7d85ed5bcddff66270288c14c41550cc (16:31): HuK0B: I use ipcop for my firewalling. I modded it to fit our needs",
        "0a789866fb48853591e8e86bde455260 (16:31): anyother suggestions?",
        "7d85ed5bcddff66270288c14c41550cc (16:32): huggi: which IPs in the 192.168.x.x space are concerned with",
        "0a789866fb48853591e8e86bde455260 (16:33): 192.168.10.0/24 is good too",
        "7d85ed5bcddff66270288c14c41550cc (16:34): example. internally I use 192.168.1.0-255 and 192.168.0.0-255 and 192.168.2.0-255",
        "7d85ed5bcddff66270288c14c41550cc (16:34): HuK0B: iptables is made to be refined.. don't try to be too broad with your rules",
        "7d85ed5bcddff66270288c14c41550cc (16:34): s/refined/finegrained/",
        "0a789866fb48853591e8e86bde455260 (16:35): but I use 10.255.50.0-255.255.255.0 and 192.168.10.0-255.255.255.0",
        "0a789866fb48853591e8e86bde455260 (16:36): I want to masquerade all packets that are not to this two networks",
        "7d85ed5bcddff66270288c14c41550cc (16:37): so 10.255.50.0/24 and 192.168.10.0/24",
        "0a789866fb48853591e8e86bde455260 (16:38): yes",
        "7d85ed5bcddff66270288c14c41550cc (16:38): now my input is simply for network address notation.. I'm not a guru with masquerading",
        "7d85ed5bcddff66270288c14c41550cc (16:39): have you checked out iptables-tutorial.frozentux.org?",
        "0a789866fb48853591e8e86bde455260 (16:39): yes I didn't find tutorial that have this",
        "0a789866fb48853591e8e86bde455260 (16:40): I just need to know how to make this but with 10.244.0.0/255.255.255.0 I want 192.168.10.0/24 too -A POSTROUTING -s 10.244.50.0/255.255.255.0 -d ! 10.244.0.0/255.255.255.0 -o eth1.574 -j SNAT --to-source",
        "0a789866fb48853591e8e86bde455260 (16:42): how to make more than 2 destinations in one rule?",
        "e8a0090f285937391fc8fb31dd7d474b (16:44): you mean like a packet should be sent to two places at the same time?",
        "0a789866fb48853591e8e86bde455260 (16:47): no I mean",
        "0a789866fb48853591e8e86bde455260 (16:48): I have rule that that change source address to real adress to masquerade right? but not when destination is 10.244.50.0/255.255.255.0 I want to not change it when destination is from 192.168.10.0/255.255.255.0 network",
        "0a789866fb48853591e8e86bde455260 (16:48): but how to make it?",
        "7d85ed5bcddff66270288c14c41550cc (16:49): HuK0B: make a new rule, jump to it eval for both networks and exit the rule appropriately, I know easier said than done",
        "7d85ed5bcddff66270288c14c41550cc (16:50): I'm working on a similar thing too, not masq but trying to get log entries differentiated by reason for ACCEPT or reason for DROP",
        "7d85ed5bcddff66270288c14c41550cc (16:51): I think you are on the right path, you should be able to eval multiple --source on one line",
        "0a789866fb48853591e8e86bde455260 (16:51): killermach I didn't understand you",
        "7d85ed5bcddff66270288c14c41550cc (16:53): <a href=\"http://iptables-tutorial.frozentux.net/chunkyhtml/x2682.html\">http://iptables-tutorial.frozentux.net/chunkyhtml/x2682.html</a> - 10.3.6. IP range match, again I'm not sure how do what you need done, check here it may help",
        "0a789866fb48853591e8e86bde455260 (16:54): I see that but I how to make 2 networks",
        "0a789866fb48853591e8e86bde455260 (16:54): multiport for example have more ports with ,",
        "7d85ed5bcddff66270288c14c41550cc (16:54): so you want to match 10.255.50.x and 192.168.10.x on one line",
        "0a789866fb48853591e8e86bde455260 (16:54): yes",
        "7d85ed5bcddff66270288c14c41550cc (16:55): I think a comma may work: --source 192.168.10.0/24,10.255.50.0/25   maybe?",
        "0a789866fb48853591e8e86bde455260 (16:56): no",
        "0a789866fb48853591e8e86bde455260 (16:56): I tryed",
        "0a789866fb48853591e8e86bde455260 (16:56): I tryed 192.168.10.0/24 10.244.50.0/24 still don't work",
        "0a789866fb48853591e8e86bde455260 (16:56): and with -d ! ... -d ! ...",
        "7d85ed5bcddff66270288c14c41550cc (16:58): put a comma between them notice above &quot;0/24,10.255&quot;",
        "7d85ed5bcddff66270288c14c41550cc (16:58): there is a comma betwee 24 and 10",
        "0a789866fb48853591e8e86bde455260 (17:00): I tryed that",
        "0a789866fb48853591e8e86bde455260 (17:00): but not work",
        "7d85ed5bcddff66270288c14c41550cc (17:01): hmm.. I still think that based on the way the chains work, you could do something like",
        "7d85ed5bcddff66270288c14c41550cc (17:01): -A INPUT --source 10.255.50.0/24 -j NO_MASQUARADE",
        "7d85ed5bcddff66270288c14c41550cc (17:01): then a new rule under it",
        "7d85ed5bcddff66270288c14c41550cc (17:01): -A INPUT --source 192.168.10.0/24 -j NO_MASQUARADE",
        "7d85ed5bcddff66270288c14c41550cc (17:02): so any packet passing thru would directed appropriatly.. I don't think it's necessary to have it all on one line",
        "7d85ed5bcddff66270288c14c41550cc (17:02): just have it before your last jump out of the processing rule",
        "7d85ed5bcddff66270288c14c41550cc (17:03): s/INPUT/POSTROUTING/",
        "0a789866fb48853591e8e86bde455260 (17:10): can I make",
        "0a789866fb48853591e8e86bde455260 (17:10): iptables -I POSTROUTING -d 192.168.10.0/24 -j ACCEPT",
        "0a789866fb48853591e8e86bde455260 (17:10): and then the rule that make SNAT",
        "0a789866fb48853591e8e86bde455260 (17:11): ?",
        "7d85ed5bcddff66270288c14c41550cc (17:23): HuK0B: do you have a static route in place to even get packet from 10.255.50.x network to 192.168.10.x network?",
        "7d85ed5bcddff66270288c14c41550cc (17:23): if not NAT may not be your problem, it may be that the two networks simply cannot or do not know how to talk to each other",
        "7d85ed5bcddff66270288c14c41550cc (17:28): HuK0B: are 192.168.50.x and 10.255.10.x on different netcards?",
        "7d85ed5bcddff66270288c14c41550cc (17:29): or does both network traffic on the same cable?",
        "0a789866fb48853591e8e86bde455260 (17:38): yes",
        "0a789866fb48853591e8e86bde455260 (17:39): no 192.168.10.x is on other router",
        "7d85ed5bcddff66270288c14c41550cc (17:44): HuK0B: do you have static routes to on each router to direct traffic from one network to another?",
        "7d85ed5bcddff66270288c14c41550cc (17:45): your router 10.255.10.x has to know to direct traffic for the 192.168.10.0 network to the 192.168.10.x router",
        "7d85ed5bcddff66270288c14c41550cc (17:45): and possibly vice versa",
        "0a789866fb48853591e8e86bde455260 (17:47): I have route 192.168.10.0 via 192.168.10.223 (gateway) this is on the first router",
        "7d85ed5bcddff66270288c14c41550cc (17:49): are your routers appliances like linksys/netgear/cisco? or are the PC's running linux?",
        "0a789866fb48853591e8e86bde455260 (17:52): linux",
        "7d85ed5bcddff66270288c14c41550cc (18:05): if I &quot;iptables --flush&quot; shouldn't this remove all chains and defaultly accept all packets?",
        "7d85ed5bcddff66270288c14c41550cc (18:06): does anyone know what happens if you --flush ?",
        "1273bb29f2c396ce65fdb06f5280ac1c (18:08): everything is gone :)",
        "1273bb29f2c396ce65fdb06f5280ac1c (18:08): and it basically does what you said :)",
        "7d85ed5bcddff66270288c14c41550cc (18:09): yes .. but does it lock me out or does it default allow all",
        "1273bb29f2c396ce65fdb06f5280ac1c (18:09): default it accepts all",
        "7d85ed5bcddff66270288c14c41550cc (18:10): SpeedyG: that is what I thought.. however.. I appear to locked out",
        "7d85ed5bcddff66270288c14c41550cc (18:12): last command was /sbin/iptables --flush and my prompt never returned",
        "7d85ed5bcddff66270288c14c41550cc (18:12): I hate having to hardboot a machine",
        "1273bb29f2c396ce65fdb06f5280ac1c (18:12): no monitor attached?",
        "7d85ed5bcddff66270288c14c41550cc (18:14): it is colocated two hours away",
        "7d85ed5bcddff66270288c14c41550cc (18:14): and our remote power unit is not responding.. Sooo.. I'm on w/ tech support now",
        "1273bb29f2c396ce65fdb06f5280ac1c (18:17): oh, sucks"
    ],
    "person_ids": [
        "7d85ed5bcddff66270288c14c41550cc",
        "e8a0090f285937391fc8fb31dd7d474b",
        "2a655a0e14a4584229ba4aeef43b9039",
        "0a789866fb48853591e8e86bde455260",
        "8cbdeba9587dc3d2680e110ce776b3f5",
        "1273bb29f2c396ce65fdb06f5280ac1c"
    ]
}