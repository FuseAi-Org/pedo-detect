{
    "id": "2c0321063e4ee73cc7e275306f3af755",
    "messages": [
        "c9417a7325cb10e8260e3582392e3846 (16:34): Anyone is getting the following message in the stdout log: WARNING - Instrumentation queue is full.  Current maximum size: 5000",
        "be567963eed75e78d91b9a1245da4052 (16:35): hi everyone",
        "c9417a7325cb10e8260e3582392e3846 (16:35): Hi",
        "c9417a7325cb10e8260e3582392e3846 (16:37): Once I get that message, the application stop responding to HTTP request.  All other applications running on tomcat are running just fine.",
        "c9417a7325cb10e8260e3582392e3846 (16:37): This happen on version 5.5.17 for both Win and Unix OS",
        "be567963eed75e78d91b9a1245da4052 (16:39): Nik,  more log messages ?",
        "c9417a7325cb10e8260e3582392e3846 (16:40): Nothing.  No Exception no ERROR in any of the log",
        "c9417a7325cb10e8260e3582392e3846 (16:40): logs",
        "be567963eed75e78d91b9a1245da4052 (16:40): strange never had such issue",
        "be567963eed75e78d91b9a1245da4052 (16:40): can you explain what you are doing that cause this ?",
        "c9417a7325cb10e8260e3582392e3846 (16:41): This started to happen when I introduced scheduled background process within the application",
        "c9417a7325cb10e8260e3582392e3846 (16:41): To clean up the database on a regular basis",
        "c9417a7325cb10e8260e3582392e3846 (16:42): I was using Quarzt / Spring implementation for the background jobs.  I switch everything to using TimerTask from the standard libs and have the same problem.",
        "c9417a7325cb10e8260e3582392e3846 (16:43): Somehow, the database cleanup queries are generating instrumentation events.  Why...  I don't know",
        "be567963eed75e78d91b9a1245da4052 (16:45): WARNING - Instrumentation queue is full this looks strange for me which queue is full ?",
        "c9417a7325cb10e8260e3582392e3846 (16:47): I have no idea.  There's no way to tell that I can see.  This seem to be an internal Tomcat thing",
        "c9417a7325cb10e8260e3582392e3846 (16:48): JMX",
        "be567963eed75e78d91b9a1245da4052 (16:48): Nik,  how about monitoring with jconsole ?",
        "be567963eed75e78d91b9a1245da4052 (16:48): you are on jdk 1.5 i assume right ?",
        "c9417a7325cb10e8260e3582392e3846 (16:49): Yes.  But what should I be looking for?",
        "be567963eed75e78d91b9a1245da4052 (16:53): the JMX stats",
        "be567963eed75e78d91b9a1245da4052 (16:53): maybe you will than reconize wich queue is full and why",
        "c9417a7325cb10e8260e3582392e3846 (16:54): OK.  I restarted Tomcat and monitoring.  I will let you know how it goes in a couple of hours",
        "c9417a7325cb10e8260e3582392e3846 (16:55): It take a while before it happen.  Something is building up...",
        "3ffec51a960043816ffd39506a0f4898 (16:59): Nik you happen to know how to turn on verbose logging on tomcat startup? cause i'm trying to startup startup.sh then it start, i seee the java process in my process list, but after a couple of seconds it's gone, but the files in my logs directory are empty",
        "be567963eed75e78d91b9a1245da4052 (16:59): good luck then",
        "be567963eed75e78d91b9a1245da4052 (17:00): possie,  do you happen to have an env Variable CATALINA_HOME that points to somewhere else ?",
        "be567963eed75e78d91b9a1245da4052 (17:00): this happens manytime for me too",
        "be567963eed75e78d91b9a1245da4052 (17:00): so my logs goes to an other place",
        "be567963eed75e78d91b9a1245da4052 (17:01): check that could be your problem",
        "3ffec51a960043816ffd39506a0f4898 (17:02): yassinework let me check",
        "c9417a7325cb10e8260e3582392e3846 (17:03): There's definitely something with your tomcat setup since the java process goes up and down",
        "c9417a7325cb10e8260e3582392e3846 (17:04): Try to find catalina.out on your system",
        "3ffec51a960043816ffd39506a0f4898 (17:04): ah indeed",
        "3ffec51a960043816ffd39506a0f4898 (17:04): now i see a catalina.out file",
        "3ffec51a960043816ffd39506a0f4898 (17:04): saying",
        "3ffec51a960043816ffd39506a0f4898 (17:04): This release of Apache Tomcat was packaged to run on J2SE 5.0",
        "c9417a7325cb10e8260e3582392e3846 (17:05): The problem should be state in that file",
        "3ffec51a960043816ffd39506a0f4898 (17:05): so maybe i'm running on older j2se ?",
        "c9417a7325cb10e8260e3582392e3846 (17:05): java -version",
        "3ffec51a960043816ffd39506a0f4898 (17:05): java version &quot;1.4.2_05&quot;",
        "c9417a7325cb10e8260e3582392e3846 (17:06): Here you go",
        "3ffec51a960043816ffd39506a0f4898 (17:06): j2se 5.0 version is ?",
        "3ffec51a960043816ffd39506a0f4898 (17:06): i never understood the versioning of java",
        "47522583611cd47db0606cde2df3c669 (17:07): 1.5",
        "47522583611cd47db0606cde2df3c669 (17:07): its all marketing",
        "47522583611cd47db0606cde2df3c669 (17:07): big numbers sell",
        "c9417a7325cb10e8260e3582392e3846 (17:07): Yeah.  They change it with version 1.5",
        "c9417a7325cb10e8260e3582392e3846 (17:07): 1.5 = 5.0",
        "3ffec51a960043816ffd39506a0f4898 (17:07): ah okee :-)",
        "3ffec51a960043816ffd39506a0f4898 (17:07): well thanks",
        "be567963eed75e78d91b9a1245da4052 (17:07): hi Ensiferum",
        "47522583611cd47db0606cde2df3c669 (17:07): hi yassinework",
        "3ffec51a960043816ffd39506a0f4898 (17:07): you guys reccon it's dangerouse to update my java version? if other java applications are running?",
        "be567963eed75e78d91b9a1245da4052 (17:10): possie,  i would stop them if its not a production environment"
    ],
    "person_ids": [
        "c9417a7325cb10e8260e3582392e3846",
        "be567963eed75e78d91b9a1245da4052",
        "3ffec51a960043816ffd39506a0f4898",
        "47522583611cd47db0606cde2df3c669"
    ]
}