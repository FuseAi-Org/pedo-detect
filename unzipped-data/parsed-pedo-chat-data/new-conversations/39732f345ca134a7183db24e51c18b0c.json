{
    "id": "39732f345ca134a7183db24e51c18b0c",
    "messages": [
        "51c1edab440268cdb0754ff0c4584a9f (20:44): ted: ping?",
        "51c1edab440268cdb0754ff0c4584a9f (21:05): ok.... I feel my Cpp memory is failing me",
        "51c1edab440268cdb0754ff0c4584a9f (21:05): I want to make mozilla/Services.h externally linkable/usable",
        "51c1edab440268cdb0754ff0c4584a9f (21:06): the functions there, return pointers to nsCOMPtr&lt;class&gt; (already_addreffed)",
        "51c1edab440268cdb0754ff0c4584a9f (21:06): I should stick the header with NS_IMPORT(type) and the definition with NS_EXPORT(type)  correct?",
        "51c1edab440268cdb0754ff0c4584a9f (21:06): or is my memory really wrong",
        "51c1edab440268cdb0754ff0c4584a9f (21:07): (and of course, presume that all classes are externally useable)",
        "8b3687499080633e1898fa1dd209ef81 (21:07): No idea",
        "51c1edab440268cdb0754ff0c4584a9f (21:07): I'm just completely forgetting my Cpp linkage semantics",
        "51c1edab440268cdb0754ff0c4584a9f (21:07): and how we define our macro's",
        "51c1edab440268cdb0754ff0c4584a9f (21:10): wonders who else might be able to tell me and might be around.... -- Bas, smaug, glandium, sid0, jst  maybe?",
        "51c1edab440268cdb0754ff0c4584a9f (21:11): ...maybe even vlad :-)",
        "51c1edab440268cdb0754ff0c4584a9f (21:15): would be happy if NeilAway pokes back in before I get an answer to tell me as well, since this is specifically for an issue NeilAway has with a different patch I'm working on",
        "f94adcc3ddda04a8f34928d862f404b4 (21:15): Do we have a bug on integrating pdf.js with Firefox?",
        "51c1edab440268cdb0754ff0c4584a9f (21:16): f94adcc3ddda04a8f34928d862f404b4: imo, pdf.js is *currently* too slow to make it a suiteable replacement for [on windows at least] Adobe, in our default ship",
        "0acbf42f4c18596c613b80ca95685d1f (21:17): 51c1edab440268cdb0754ff0c4584a9f: any knowledge of if that is actively being worked on?",
        "51c1edab440268cdb0754ff0c4584a9f (21:17): I'd happily have us offer it as a &quot;plugin&quot; for pdf viewing when a user loads a pdf doc and doesn't have a browser-based pdf viewer",
        "0acbf42f4c18596c613b80ca95685d1f (21:17): i don't even install adobe",
        "51c1edab440268cdb0754ff0c4584a9f (21:17): 0acbf42f4c18596c613b80ca95685d1f: no idea though :(",
        "03cd618659ad3063c1d53077657a801c (21:17): 51c1edab440268cdb0754ff0c4584a9f: ?",
        "03cd618659ad3063c1d53077657a801c (21:17): oh, no, I don't know the answer",
        "03cd618659ad3063c1d53077657a801c (21:17): NeilAway would know",
        "51c1edab440268cdb0754ff0c4584a9f (21:18): smaug: basically, &quot;how do I turn a currently internal-to-libxul only to be externally linkable&quot; assuming everything it uses directly is externally useable&quot;",
        "03cd618659ad3063c1d53077657a801c (21:18): don't remember now the right macros names",
        "51c1edab440268cdb0754ff0c4584a9f (21:19): yea, one of the downsides to useing libxul everywhere",
        "51c1edab440268cdb0754ff0c4584a9f (21:19): :-)",
        "51c1edab440268cdb0754ff0c4584a9f (21:19): (I touch cpp soo infrequently lately, that I feel sad for not knowing this relatively simple solution)",
        "03cd618659ad3063c1d53077657a801c (21:19): (and I'm in middle of some crazy experiment to cut out half of cycle collectable objects from graph )",
        "51c1edab440268cdb0754ff0c4584a9f (21:20): smaug: sooo, fwiw I've been using your beta-based patchset that you handed me a while back, the build (to me) seems just as stable as it always was on beta -- and is noticeably better at CC",
        "51c1edab440268cdb0754ff0c4584a9f (21:21): not perfect (I still get a peak of around 1400ms) but thats much much better than peak of 3600-&gt;4000ms that I _was_ getting",
        "51c1edab440268cdb0754ff0c4584a9f (21:21): average is around 500ms after running for a day or two",
        "03cd618659ad3063c1d53077657a801c (21:21): 51c1edab440268cdb0754ff0c4584a9f: &quot;better&quot; sounds already good to me",
        "03cd618659ad3063c1d53077657a801c (21:22): 51c1edab440268cdb0754ff0c4584a9f: could you actually try latest beta builds",
        "51c1edab440268cdb0754ff0c4584a9f (21:22): smaug: so imo, we should drive these patches into beta, asap to get wider testing :-)",
        "03cd618659ad3063c1d53077657a801c (21:22): those have also some other fixes",
        "51c1edab440268cdb0754ff0c4584a9f (21:22): ooo did you get them into beta already?",
        "03cd618659ad3063c1d53077657a801c (21:22): beta has also a major fix for gc handling",
        "51c1edab440268cdb0754ff0c4584a9f (21:23): ahh b2 or would those fixes only be in b3?",
        "03cd618659ad3063c1d53077657a801c (21:23): (I'm trying to figure out ways to cut CC times radically ... still aiming &lt;10ms)",
        "03cd618659ad3063c1d53077657a801c (21:23): 51c1edab440268cdb0754ff0c4584a9f: don't remember b2 or b3",
        "03cd618659ad3063c1d53077657a801c (21:23): 51c1edab440268cdb0754ff0c4584a9f: you could try nightly beta build",
        "51c1edab440268cdb0754ff0c4584a9f (21:23): well if you haven't gotten these two patches that I'm testing in, I'll hold off for now :-) http://hg.mozilla.org/releases/mozilla-beta/graph",
        "51c1edab440268cdb0754ff0c4584a9f (21:23): beta's don't have nightlies, only on-change",
        "03cd618659ad3063c1d53077657a801c (21:24): 51c1edab440268cdb0754ff0c4584a9f: the patches are in beta...",
        "51c1edab440268cdb0754ff0c4584a9f (21:24): ahh ok :-)",
        "03cd618659ad3063c1d53077657a801c (21:24): and betas do have nightlies, afaik",
        "03cd618659ad3063c1d53077657a801c (21:24): but let me check...",
        "03cd618659ad3063c1d53077657a801c (21:25): I landed some stuff to be 2011-12-29",
        "03cd618659ad3063c1d53077657a801c (21:26): hmm, b2 is 2011-12-28 I think",
        "51c1edab440268cdb0754ff0c4584a9f (21:26): smaug: so I see http://hg.mozilla.org/try/rev/8eb1b0b3255c in beta now, but not http://hg.mozilla.org/try/rev/b58561cd3f63",
        "51c1edab440268cdb0754ff0c4584a9f (21:26): and first is b3",
        "51c1edab440268cdb0754ff0c4584a9f (21:27): (I'm testing a try of both those) :-)",
        "03cd618659ad3063c1d53077657a801c (21:28): oh, https://bugzilla.mozilla.org/show_bug.cgi?id=711900 didn't land to beta yet",
        "51c1edab440268cdb0754ff0c4584a9f (21:32): smaug: just commented on that bug about my testing, to help inform driver decisions for approval :-)",
        "03cd618659ad3063c1d53077657a801c (21:37): 51c1edab440268cdb0754ff0c4584a9f: er, what?",
        "03cd618659ad3063c1d53077657a801c (21:37): you haven't been testing that patch, I think",
        "03cd618659ad3063c1d53077657a801c (21:37): you've been testing the patches which have landed already, well, at least the first one",
        "51c1edab440268cdb0754ff0c4584a9f (21:41): smaug: http://hg.mozilla.org/try/rev/b58561cd3f63",
        "51c1edab440268cdb0754ff0c4584a9f (21:41): and note the &quot;parent&quot;",
        "51c1edab440268cdb0754ff0c4584a9f (21:41): http://hg.mozilla.org/try/rev/8eb1b0b3255c",
        "51c1edab440268cdb0754ff0c4584a9f (21:42): BOTH i am testing in this same try build",
        "51c1edab440268cdb0754ff0c4584a9f (21:42): smaug: http://hg.mozilla.org/try/rev/1e13590c5969 is the beta changeset you based atop of",
        "03cd618659ad3063c1d53077657a801c (21:42): 51c1edab440268cdb0754ff0c4584a9f: the patch for https://bugzilla.mozilla.org/show_bug.cgi?id=711900 is something else",
        "51c1edab440268cdb0754ff0c4584a9f (21:43): oooooo, I thought you were citing 711900 as the other one I am testing",
        "51c1edab440268cdb0754ff0c4584a9f (21:43): :/",
        "03cd618659ad3063c1d53077657a801c (21:43): no, I was saying that 711900 is an important fix for beta",
        "51c1edab440268cdb0754ff0c4584a9f (21:44): corrects his bug statement",
        "51c1edab440268cdb0754ff0c4584a9f (21:44): smaug: so which bug is accounted for the other patch I am testing?",
        "51c1edab440268cdb0754ff0c4584a9f (21:44): since it doesn't seem to have landed on beta",
        "03cd618659ad3063c1d53077657a801c (21:45): there is the black nodes patch",
        "03cd618659ad3063c1d53077657a801c (21:45): and black content lists",
        "03cd618659ad3063c1d53077657a801c (21:45): and jseventlistener",
        "03cd618659ad3063c1d53077657a801c (21:45): I'm not sure whether black content list thing will land to beta",
        "51c1edab440268cdb0754ff0c4584a9f (21:46): smaug: yea, black content list is the one I am talking about",
        "51c1edab440268cdb0754ff0c4584a9f (21:46): I suspect that has a lot to do with the better perf I am getting",
        "51c1edab440268cdb0754ff0c4584a9f (21:46): not sure, but suspecion here :-)",
        "03cd618659ad3063c1d53077657a801c (21:46): bug 702036 is the jseventlistener thing",
        "51c1edab440268cdb0754ff0c4584a9f (21:47): (s/$bad-spelling/$good-spelling/",
        "51c1edab440268cdb0754ff0c4584a9f (21:48): jseventlistener I haven't [yet] tested",
        "51c1edab440268cdb0754ff0c4584a9f (21:57): smaug: so what bug is black content lists? (or is there no bug yet)?",
        "8b3687499080633e1898fa1dd209ef81 (21:58): 713462",
        "03cd618659ad3063c1d53077657a801c (21:58): there is bug",
        "03cd618659ad3063c1d53077657a801c (21:58): since it landed to trunk",
        "03cd618659ad3063c1d53077657a801c (21:59): ok, looks like ~65% of WrappedJS traversing can be skipped",
        "51c1edab440268cdb0754ff0c4584a9f (22:01): smaug: special reason we're not requesting approval for 713462? is it deemed pretty risky, etc?",
        "03cd618659ad3063c1d53077657a801c (22:04): 51c1edab440268cdb0754ff0c4584a9f: it may not be too useful, so just trying to reduce the risk",
        "03cd618659ad3063c1d53077657a801c (22:04): but perhaps it could be ok for beta",
        "51c1edab440268cdb0754ff0c4584a9f (22:07): well yea my testing seems to suggest its stable, but I'm merely one user :-)",
        "51c1edab440268cdb0754ff0c4584a9f (22:07): and anything that helps CC on beta is useful, imo",
        "51c1edab440268cdb0754ff0c4584a9f (22:07): even if it helps only by 0.01 %",
        "51c1edab440268cdb0754ff0c4584a9f (22:07): given the numbers I saw before I touched this try build",
        "aafb96b2fa8806be307c4496867bad56 (22:27): my shark doesn't seem to be able to find any symbols, is there something i need to do?"
    ],
    "person_ids": [
        "51c1edab440268cdb0754ff0c4584a9f",
        "8b3687499080633e1898fa1dd209ef81",
        "f94adcc3ddda04a8f34928d862f404b4",
        "0acbf42f4c18596c613b80ca95685d1f",
        "03cd618659ad3063c1d53077657a801c",
        "aafb96b2fa8806be307c4496867bad56"
    ]
}