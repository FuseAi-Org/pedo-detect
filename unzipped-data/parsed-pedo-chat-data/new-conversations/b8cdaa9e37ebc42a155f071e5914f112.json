{
    "id": "b8cdaa9e37ebc42a155f071e5914f112",
    "messages": [
        "5689f05b378b6e8b0d9b6fc98c03512b (21:15): hello",
        "d949efae795da71ef603b60b018d191c (21:15): hello, shrotty.",
        "5689f05b378b6e8b0d9b6fc98c03512b (21:15): :), hi",
        "a14c2c1cd32a923dd2eabc361e6d90f5 (21:34): home&quot;)",
        "453e969cd3d7eb7c3041b11eabd872bf (21:37): anyone sees a problem with this ?",
        "453e969cd3d7eb7c3041b11eabd872bf (21:37): <a href=\"http://rafb.net/paste/results/snHmiv15.html\">http://rafb.net/paste/results/snHmiv15.html</a>",
        "453e969cd3d7eb7c3041b11eabd872bf (21:37): i don't undertand much about iptables",
        "453e969cd3d7eb7c3041b11eabd872bf (21:37): i am trying to share my connection by using NAT",
        "453e969cd3d7eb7c3041b11eabd872bf (21:48): anyone please?",
        "5bd537fc3789b5482e4936968f0fde95 (21:50): -I INPUT 1 &lt;--",
        "5bd537fc3789b5482e4936968f0fde95 (21:50): wrong.",
        "5bd537fc3789b5482e4936968f0fde95 (21:50): what does '1' relate to? =\\\\",
        "5bd537fc3789b5482e4936968f0fde95 (21:50): where did you get this script from:",
        "24fbabdce0b46e6f8a5eaf6170d14044 (21:53): asabil: u should input default policy DROP",
        "24fbabdce0b46e6f8a5eaf6170d14044 (21:53): i never saw this before...",
        "24fbabdce0b46e6f8a5eaf6170d14044 (21:53): export LAN=eth0",
        "24fbabdce0b46e6f8a5eaf6170d14044 (21:53): export WAN=cipsec0",
        "24fbabdce0b46e6f8a5eaf6170d14044 (21:53): hehe :-)",
        "453e969cd3d7eb7c3041b11eabd872bf (21:54): <a href=\"http://www.gentoo.org/doc/en/home-router-howto.xml#doc_chap5\">http://www.gentoo.org/doc/en/home-router-howto.xml#doc_chap5</a>",
        "453e969cd3d7eb7c3041b11eabd872bf (21:54): it comes from here",
        "453e969cd3d7eb7c3041b11eabd872bf (21:54): sorry, i am a newb about networking stuff...",
        "453e969cd3d7eb7c3041b11eabd872bf (21:55): skac, -I, --insert chain [rulenum] rule-specification",
        "453e969cd3d7eb7c3041b11eabd872bf (21:55): that's why the 1 is there i think",
        "453e969cd3d7eb7c3041b11eabd872bf (21:55): rulenum",
        "24fbabdce0b46e6f8a5eaf6170d14044 (21:57): i do it like iptables -t nat -A PREROUTING -i ppp0 -p tcp --dport 80 -j DNAT --to 192.168.0.2:80",
        "24fbabdce0b46e6f8a5eaf6170d14044 (21:57): never used -I",
        "24fbabdce0b46e6f8a5eaf6170d14044 (21:57): =)",
        "453e969cd3d7eb7c3041b11eabd872bf (21:58): what is that for ?",
        "453e969cd3d7eb7c3041b11eabd872bf (21:58): i want to redirect all ports",
        "453e969cd3d7eb7c3041b11eabd872bf (21:58): oO",
        "453e969cd3d7eb7c3041b11eabd872bf (21:58): that's the other way",
        "453e969cd3d7eb7c3041b11eabd872bf (21:58): i don't want to expose services",
        "43d2e4c8ebdceba76435c1f675f8d628 (21:59): iptables -t nat -A PREROUTING -i &lt;device&gt; -j DNAT --to-destination &lt;ip&gt;",
        "43d2e4c8ebdceba76435c1f675f8d628 (21:59): will redirect all traffic",
        "453e969cd3d7eb7c3041b11eabd872bf (21:59): i want to share network",
        "43d2e4c8ebdceba76435c1f675f8d628 (21:59): oh",
        "453e969cd3d7eb7c3041b11eabd872bf (21:59): not redirect everything to the natted network",
        "453e969cd3d7eb7c3041b11eabd872bf (22:00): i am natting cipsec0",
        "453e969cd3d7eb7c3041b11eabd872bf (22:00): which is the interface created when i loginn using vpn",
        "43d2e4c8ebdceba76435c1f675f8d628 (22:00): iptables -t nat -A POSTROUTING -o &lt;device&gt; -s &lt;local netmask&gt; -j MASQUERADE",
        "453e969cd3d7eb7c3041b11eabd872bf (22:00): iptables -t nat -A POSTROUTING -o ${WAN} -j MASQUERADE",
        "453e969cd3d7eb7c3041b11eabd872bf (22:01): actually i get connected",
        "453e969cd3d7eb7c3041b11eabd872bf (22:01): and everything should work",
        "453e969cd3d7eb7c3041b11eabd872bf (22:01): but i cannot visit sites beside google",
        "43d2e4c8ebdceba76435c1f675f8d628 (22:01): probably you need to set up dns",
        "453e969cd3d7eb7c3041b11eabd872bf (22:01): i did",
        "453e969cd3d7eb7c3041b11eabd872bf (22:01): host &lt;anything&gt;",
        "43d2e4c8ebdceba76435c1f675f8d628 (22:02): if you, say, ping yahoo.com, what do you get",
        "453e969cd3d7eb7c3041b11eabd872bf (22:02): works perfectly",
        "453e969cd3d7eb7c3041b11eabd872bf (22:02): working",
        "453e969cd3d7eb7c3041b11eabd872bf (22:02): ping yahoo works",
        "d949efae795da71ef603b60b018d191c (22:02): I can't find yahoo in the DNS.",
        "43d2e4c8ebdceba76435c1f675f8d628 (22:02): what exactly happens if you try to visit yahoo.com",
        "453e969cd3d7eb7c3041b11eabd872bf (22:03): loading for ever",
        "453e969cd3d7eb7c3041b11eabd872bf (22:03): ali.com works too :D",
        "2caf0f1a53d2b1daedc77e89ece0b7d1 (22:03): hello i have this error when starting iptables:",
        "2caf0f1a53d2b1daedc77e89ece0b7d1 (22:03): * Loading iptables state and starting firewall ...",
        "2caf0f1a53d2b1daedc77e89ece0b7d1 (22:03): iptables-restore v1.3.5: iptables-restore: unable to initializetable 'filter'",
        "2caf0f1a53d2b1daedc77e89ece0b7d1 (22:03): Error occurred at line: 2",
        "2caf0f1a53d2b1daedc77e89ece0b7d1 (22:03): Try `iptables-restore -h' or 'iptables-restore --help' for more information.",
        "2caf0f1a53d2b1daedc77e89ece0b7d1 (22:03): how can this be resolved?",
        "43d2e4c8ebdceba76435c1f675f8d628 (22:04): [Linux]: sounds like you need a kernel with iptables support (or more of it)",
        "2caf0f1a53d2b1daedc77e89ece0b7d1 (22:04): but my kernel is ok",
        "2caf0f1a53d2b1daedc77e89ece0b7d1 (22:04): i check it and my kernel has iptables support",
        "453e969cd3d7eb7c3041b11eabd872bf (22:04): any idea ?",
        "43d2e4c8ebdceba76435c1f675f8d628 (22:05): asabil: have you flushed existing rules (maybe from previous attempts) and reloaded with known-good rules?",
        "f42c065704e74a29453a7f1c4e16aa39 (22:05): ipcop 1.4.10 has the following line in rc.firewall",
        "43d2e4c8ebdceba76435c1f675f8d628 (22:05): asabil: is there a proxy involved?",
        "f42c065704e74a29453a7f1c4e16aa39 (22:05): /sbin/iptables -A BADTCP -p tcp ! --syn -m state --state NEW -j NEWNOTSYN",
        "2caf0f1a53d2b1daedc77e89ece0b7d1 (22:05): trappist, in my kernel everything is enabled.",
        "453e969cd3d7eb7c3041b11eabd872bf (22:05): trappist, the script flush rules first",
        "453e969cd3d7eb7c3041b11eabd872bf (22:06): no there is no proxy",
        "453e969cd3d7eb7c3041b11eabd872bf (22:06): just cisco vpn client",
        "f42c065704e74a29453a7f1c4e16aa39 (22:06): I am tempted to comment it our to avoid a problem with Windows boxes connecting to an internal server",
        "43d2e4c8ebdceba76435c1f675f8d628 (22:06): [Linux]: then possibly you need to rebuild iptables against the source of the running kernel",
        "f42c065704e74a29453a7f1c4e16aa39 (22:06): is that rational?",
        "5bd537fc3789b5482e4936968f0fde95 (22:06): asabil: ah thank you =]",
        "2caf0f1a53d2b1daedc77e89ece0b7d1 (22:06): ok",
        "43d2e4c8ebdceba76435c1f675f8d628 (22:07): tarvid: that rule will only block invalid traffic.  all new tcp connections should start with SYN packets.",
        "f42c065704e74a29453a7f1c4e16aa39 (22:09): trappist, you are correct but I have old win98 boxes which are generating these in an attempt to connect with an internal server",
        "43d2e4c8ebdceba76435c1f675f8d628 (22:10): tarvid: on what port?",
        "f42c065704e74a29453a7f1c4e16aa39 (22:11): 5025",
        "f42c065704e74a29453a7f1c4e16aa39 (22:11): a custom app",
        "f42c065704e74a29453a7f1c4e16aa39 (22:11): that's the destination port anyway",
        "f42c065704e74a29453a7f1c4e16aa39 (22:13): Jul 13 11:47:02 webb-router kernel: NEW not SYN? IN=eth0 OUT=eth0 SRC=192.168.0.49 DST=192.168.7.3 LEN=52 TOS=0x00 PREC=0x00 TTL=63 ID=0 DF PROTO=TCP SPT=5025 DPT=2823 WINDOW=5840 RES=0x00 ACK SYN URGP=0",
        "f42c065704e74a29453a7f1c4e16aa39 (22:13): the other way around actually",
        "43d2e4c8ebdceba76435c1f675f8d628 (22:15): in that case I guess either comment the rule or make an exception for your custom app.  as an interim measure while you fix the busted app to not generate packets like that :)",
        "f42c065704e74a29453a7f1c4e16aa39 (22:21): thanks trappist",
        "f42c065704e74a29453a7f1c4e16aa39 (22:21): what are you up to these days?",
        "43d2e4c8ebdceba76435c1f675f8d628 (22:22): mostly work.  I'm lucky to find a few minutes a week of good personal geek time.  you?",
        "f42c065704e74a29453a7f1c4e16aa39 (22:22): about two years ago you were active in the mandrake community",
        "f42c065704e74a29453a7f1c4e16aa39 (22:22): still slogging about. Trying to get net2net ipsec working on ipcop. I must be missing something because the connections never open",
        "f42c065704e74a29453a7f1c4e16aa39 (22:24): abandoned mandrake for Ubuntu, still miss the old crowd",
        "453e969cd3d7eb7c3041b11eabd872bf (22:34): got it to work",
        "453e969cd3d7eb7c3041b11eabd872bf (22:34): i don't understand much",
        "453e969cd3d7eb7c3041b11eabd872bf (22:34): but i had to reduce mtu to 1400",
        "13fbb6cc9f88ccfc50845bb81132b4d4 (22:43): usual IP fragmentation problem I guess",
        "453e969cd3d7eb7c3041b11eabd872bf (22:44): the natted machine didn't know that the paquets were going to be encapsulated",
        "453e969cd3d7eb7c3041b11eabd872bf (22:44): i think",
        "2caf0f1a53d2b1daedc77e89ece0b7d1 (23:01): iptables v1.3.5: can't initialize iptables table `filter': Table does not exist (do you need to insmod?)",
        "2caf0f1a53d2b1daedc77e89ece0b7d1 (23:01): Perhaps iptables or your kernel needs to be upgraded.",
        "2caf0f1a53d2b1daedc77e89ece0b7d1 (23:01): why do i get this when my kernel config etc is fine?",
        "2caf0f1a53d2b1daedc77e89ece0b7d1 (23:01): :(",
        "13fbb6cc9f88ccfc50845bb81132b4d4 (23:04): # modprobe iptables_filter ? (may be automatic though)",
        "2caf0f1a53d2b1daedc77e89ece0b7d1 (23:05): AMDevolution linux # modprobe iptables_filter",
        "2caf0f1a53d2b1daedc77e89ece0b7d1 (23:05): FATAL: Module iptables_filter not found.",
        "13fbb6cc9f88ccfc50845bb81132b4d4 (23:05): $ grep CONFIG_IP_NF_FILTER /boot/config",
        "2caf0f1a53d2b1daedc77e89ece0b7d1 (23:05): but it's built",
        "13fbb6cc9f88ccfc50845bb81132b4d4 (23:05): I guess that's this one",
        "2caf0f1a53d2b1daedc77e89ece0b7d1 (23:05): AMDevolution linux # grep CONFIG_IP_NF_FILTER /boot/config",
        "2caf0f1a53d2b1daedc77e89ece0b7d1 (23:05): grep: /boot/config: No such file or directory",
        "2caf0f1a53d2b1daedc77e89ece0b7d1 (23:05): errr",
        "13fbb6cc9f88ccfc50845bb81132b4d4 (23:06): /usr/src/linux/.config or whatever",
        "2caf0f1a53d2b1daedc77e89ece0b7d1 (23:07): AMDevolution linux # grep CONFIG_IP_NF_FILTER /usr/src/linux/.config",
        "2caf0f1a53d2b1daedc77e89ece0b7d1 (23:07): CONFIG_IP_NF_FILTER=m",
        "13fbb6cc9f88ccfc50845bb81132b4d4 (23:08): well you need to learn how to compile/install a kernel properly with your distro then",
        "2caf0f1a53d2b1daedc77e89ece0b7d1 (23:08): but i have.",
        "2caf0f1a53d2b1daedc77e89ece0b7d1 (23:08): humf.",
        "2caf0f1a53d2b1daedc77e89ece0b7d1 (23:08): i have no problem with this before."
    ],
    "person_ids": [
        "5689f05b378b6e8b0d9b6fc98c03512b",
        "d949efae795da71ef603b60b018d191c",
        "a14c2c1cd32a923dd2eabc361e6d90f5",
        "453e969cd3d7eb7c3041b11eabd872bf",
        "5bd537fc3789b5482e4936968f0fde95",
        "24fbabdce0b46e6f8a5eaf6170d14044",
        "43d2e4c8ebdceba76435c1f675f8d628",
        "2caf0f1a53d2b1daedc77e89ece0b7d1",
        "f42c065704e74a29453a7f1c4e16aa39",
        "13fbb6cc9f88ccfc50845bb81132b4d4"
    ]
}