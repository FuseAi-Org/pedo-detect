{
    "id": "ea5fedc42049f8f7b0be95891ecb02d9",
    "messages": [
        "a03490c03eaa102dadc25dca3cc6772b (18:28): dolske: https://fbcdn-sphotos-a.akamaihd.net/hphotos-ak-ash4/421914_271417592932290_126894987384552_624464_2054262184_n.jpg",
        "b92af08a18aff623222629da14873ffd (18:40): 8b3687499080633e1898fa1dd209ef81--",
        "8b3687499080633e1898fa1dd209ef81 (18:40): mounir--",
        "b92af08a18aff623222629da14873ffd (18:41): in fact, while I'm about it",
        "b92af08a18aff623222629da14873ffd (18:41): for (;;)",
        "b92af08a18aff623222629da14873ffd (18:41): 8b3687499080633e1898fa1dd209ef81--;",
        "b92af08a18aff623222629da14873ffd (18:41): no {}s :-P",
        "8b3687499080633e1898fa1dd209ef81 (18:41): r-",
        "b92af08a18aff623222629da14873ffd (18:42): wasn't planning on asking 8b3687499080633e1898fa1dd209ef81 for review",
        "8b3687499080633e1898fa1dd209ef81 (18:42): Oh, I don't mind drive-by r-s",
        "8b3687499080633e1898fa1dd209ef81 (18:46): Mossop--",
        "8b3687499080633e1898fa1dd209ef81 (18:46): jorgev--",
        "03cd618659ad3063c1d53077657a801c (18:46): 8b3687499080633e1898fa1dd209ef81 is negative today",
        "8b3687499080633e1898fa1dd209ef81 (18:47): Nah, it's just that the addon thread got so deep thunderbird trims the subjects to &quot;R...&quot;",
        "b92af08a18aff623222629da14873ffd (18:48): smaug!",
        "b92af08a18aff623222629da14873ffd (18:49): smaug: so, you changed focus and blur events to fire on xbl binding parents too?",
        "03cd618659ad3063c1d53077657a801c (18:49): did I?",
        "03cd618659ad3063c1d53077657a801c (18:49): well, events do propagate to bindingparents",
        "03cd618659ad3063c1d53077657a801c (18:49): I did that change long ago",
        "b92af08a18aff623222629da14873ffd (18:50): smaug: well, they didn't bubble at all originally, but tracing through the event code, I see they bubble, but only get dispatched at the target or when the event gets retargetted",
        "b92af08a18aff623222629da14873ffd (19:12): long ago indeed, seems to be cvs",
        "b92af08a18aff623222629da14873ffd (19:15): bah, and I even commented on the bug at the time, and nobody answered :-(",
        "273b79ac2d0d1e9dd5857cbc7fb8b28a (19:19): b92af08a18aff623222629da14873ffd: lol.",
        "349a20d4fdca7b326f4a79d493d6f175 (19:34): question: from C++ inside libxul, is there a good way to ask the question 'has an event loop spun since the last time I was called'?",
        "349a20d4fdca7b326f4a79d493d6f175 (19:37): good morning, smaug",
        "8b3687499080633e1898fa1dd209ef81 (19:37): mike5w3c, yt?",
        "8b3687499080633e1898fa1dd209ef81 (19:37): 349a20d4fdca7b326f4a79d493d6f175, doubt it",
        "8b3687499080633e1898fa1dd209ef81 (19:37): What's your use case? :)",
        "03cd618659ad3063c1d53077657a801c (19:37): morning?",
        "8b3687499080633e1898fa1dd209ef81 (19:38): smaug, it's before midnight, surely it's morning for you ;)",
        "349a20d4fdca7b326f4a79d493d6f175 (19:38): 8b3687499080633e1898fa1dd209ef81: er, are you doubting that it's morning, that it's good, that smaug is here, or that it's possible to do what I want?",
        "8b3687499080633e1898fa1dd209ef81 (19:38): 349a20d4fdca7b326f4a79d493d6f175, well, the first too, but I meant the last",
        "03cd618659ad3063c1d53077657a801c (19:39): 8b3687499080633e1898fa1dd209ef81: heh :)",
        "349a20d4fdca7b326f4a79d493d6f175 (19:39): 8b3687499080633e1898fa1dd209ef81: my use case is I have some data in a C++ object that is expensive to compute, retrieved piecemeal from JS, and will become invalid no earlier than the next time the event loop runs.",
        "8b3687499080633e1898fa1dd209ef81 (19:40): 349a20d4fdca7b326f4a79d493d6f175, hmm, sounds like above my pay grade, I'm afraid :)",
        "349a20d4fdca7b326f4a79d493d6f175 (19:40): there's no convenient way to know for sure when it becomes invalid, but it's not used very often, so &quot;cache this until the next time the event loop runs&quot; seems like a good tradeoff between work and benefit",
        "8b3687499080633e1898fa1dd209ef81 (19:40): In that I'd like to be actually paid before I think about event loops :)",
        "349a20d4fdca7b326f4a79d493d6f175 (19:40): that's fair",
        "349a20d4fdca7b326f4a79d493d6f175 (19:41): smaug: you seem like you might know how to do that ^^",
        "8b3687499080633e1898fa1dd209ef81 (19:41): If you end up with bz, he's away on Monday ;)",
        "349a20d4fdca7b326f4a79d493d6f175 (19:41): I have to work on other stuff on Mondays anyway :)",
        "03cd618659ad3063c1d53077657a801c (19:42): 349a20d4fdca7b326f4a79d493d6f175: you could perhaps add a callback which gets called after processing runnables",
        "03cd618659ad3063c1d53077657a801c (19:42): but I'm not sure that is what you want",
        "349a20d4fdca7b326f4a79d493d6f175 (19:42): adding a hook is way too much effort here",
        "349a20d4fdca7b326f4a79d493d6f175 (19:43): further detail: this is the implementation of window.screen, which has a bunch of JS properties like .height, .width, .top, .left that are frequently used together",
        "03cd618659ad3063c1d53077657a801c (19:43): talks about http://mxr.mozilla.org/mozilla-central/source/widget/nsIAppShell.idl#115",
        "03cd618659ad3063c1d53077657a801c (19:43): hmm",
        "349a20d4fdca7b326f4a79d493d6f175 (19:44): the size and shape of the screen changes rarely, but at present we are not notified when that happens, and I don't want to add that notification because it would be a lot of mucking in ancient OS-specific code",
        "03cd618659ad3063c1d53077657a801c (19:44): right",
        "349a20d4fdca7b326f4a79d493d6f175 (19:44): oh! i don't *have* to add a hook, it's already there, is what you're saying",
        "03cd618659ad3063c1d53077657a801c (19:45): yes",
        "03cd618659ad3063c1d53077657a801c (19:45): but it might not work perfectly in all the cases",
        "349a20d4fdca7b326f4a79d493d6f175 (19:45): anyway, the OS-level APIs for this stuff (widget/nsIScreen) are in terms of rectangles.  so i want to cache the rectangle for at least a little while.",
        "349a20d4fdca7b326f4a79d493d6f175 (19:46): so we don't have to ask the OS for the rectangle twice if someone wants both .width and .height in JS.",
        "03cd618659ad3063c1d53077657a801c (19:47): we could also add some event loop counter",
        "349a20d4fdca7b326f4a79d493d6f175 (19:47): of course we have no caching whatsoever of this right now, and nobody's noticed, so maybe it's fine as is :)",
        "03cd618659ad3063c1d53077657a801c (19:48): 349a20d4fdca7b326f4a79d493d6f175: does that show up in some performance profile ?",
        "349a20d4fdca7b326f4a79d493d6f175 (19:48): not that i have",
        "349a20d4fdca7b326f4a79d493d6f175 (19:50): i think i might just leave it as is"
    ],
    "person_ids": [
        "a03490c03eaa102dadc25dca3cc6772b",
        "b92af08a18aff623222629da14873ffd",
        "8b3687499080633e1898fa1dd209ef81",
        "03cd618659ad3063c1d53077657a801c",
        "273b79ac2d0d1e9dd5857cbc7fb8b28a",
        "349a20d4fdca7b326f4a79d493d6f175"
    ]
}