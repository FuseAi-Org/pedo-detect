{
    "id": "d9071bf40f7d41183e3d7b9858294049",
    "messages": [
        "38cc395af3b6fc9bb66cc0d7156dd539 (16:32): 282bf0c99ea80e1e754fa7af6fc333cd, how to do it right:",
        "38cc395af3b6fc9bb66cc0d7156dd539 (16:33): in mozilla/security/nss/cmd/shlibsign/Makefile, how to detect that you are cross compiling",
        "38cc395af3b6fc9bb66cc0d7156dd539 (16:33): NATIVE_CC doens't seem exported there",
        "282bf0c99ea80e1e754fa7af6fc333cd (16:34): 38cc395af3b6fc9bb66cc0d7156dd539: bug 681624",
        "282bf0c99ea80e1e754fa7af6fc333cd (16:34): 38cc395af3b6fc9bb66cc0d7156dd539: what are you building, btw? nss? firefox?",
        "38cc395af3b6fc9bb66cc0d7156dd539 (16:35): nss",
        "38cc395af3b6fc9bb66cc0d7156dd539 (16:35): I've already sent some patches here:",
        "38cc395af3b6fc9bb66cc0d7156dd539 (16:35): https://bugzilla.mozilla.org/show_bug.cgi?id=670139",
        "282bf0c99ea80e1e754fa7af6fc333cd (16:36): 38cc395af3b6fc9bb66cc0d7156dd539: the second patch is unnecessary",
        "282bf0c99ea80e1e754fa7af6fc333cd (16:37): 38cc395af3b6fc9bb66cc0d7156dd539: i'm not sure the first one is useful either. nss doesn't mean to build host tools",
        "282bf0c99ea80e1e754fa7af6fc333cd (16:37): (though in the end shlibsign /should/ be built for both)",
        "38cc395af3b6fc9bb66cc0d7156dd539 (16:37): thanks a lot",
        "38cc395af3b6fc9bb66cc0d7156dd539 (16:38): yes but using gcc is wrong",
        "282bf0c99ea80e1e754fa7af6fc333cd (16:38): 38cc395af3b6fc9bb66cc0d7156dd539: the patch from 681624 should be enough for you. And you build with make SKIP_SHLIBSIGN=1",
        "38cc395af3b6fc9bb66cc0d7156dd539 (16:38): because we usually use arm-*-gcc",
        "38cc395af3b6fc9bb66cc0d7156dd539 (16:38): it's not enough",
        "282bf0c99ea80e1e754fa7af6fc333cd (16:38): 38cc395af3b6fc9bb66cc0d7156dd539: make CC=whatever-you-want",
        "38cc395af3b6fc9bb66cc0d7156dd539 (16:39): ok",
        "38cc395af3b6fc9bb66cc0d7156dd539 (16:39): I'll retry without the patch",
        "38cc395af3b6fc9bb66cc0d7156dd539 (16:39): I now understand what you said",
        "38cc395af3b6fc9bb66cc0d7156dd539 (16:39): I'll check",
        "282bf0c99ea80e1e754fa7af6fc333cd (16:39): the nss build system requires many things to be passed as make args",
        "282bf0c99ea80e1e754fa7af6fc333cd (16:39): 38cc395af3b6fc9bb66cc0d7156dd539: note that without the patch from 681624, make CHECKLOC= should work, too",
        "282bf0c99ea80e1e754fa7af6fc333cd (16:40): 38cc395af3b6fc9bb66cc0d7156dd539: fwiw, we cross compile nss for firefox for android, without additional patches",
        "282bf0c99ea80e1e754fa7af6fc333cd (16:40): so you just need the right set of options",
        "38cc395af3b6fc9bb66cc0d7156dd539 (16:41): ok",
        "38cc395af3b6fc9bb66cc0d7156dd539 (16:41): yes I passed many things",
        "38cc395af3b6fc9bb66cc0d7156dd539 (16:41): let me retry",
        "38cc395af3b6fc9bb66cc0d7156dd539 (16:43): is that normal:",
        "38cc395af3b6fc9bb66cc0d7156dd539 (16:44): http://pastie.org/private/kw3jo3htz0jtwx3yzy3xa",
        "38cc395af3b6fc9bb66cc0d7156dd539 (16:45): I know the error",
        "38cc395af3b6fc9bb66cc0d7156dd539 (16:45): it's an error in eglibc",
        "38cc395af3b6fc9bb66cc0d7156dd539 (16:45): because they use // instead of /* */",
        "eb215559f21ce08fc2c0af415cb66253 (16:46): Check-in: http://hg.mozilla.org/mozilla-central/rev/0a7410527788 - D?\u00a3o Gottwald - Bug 572659 - Don't expose the Gecko patch level (13.X.Y) in the UA string, only show the major version (13.X). r 282bf0c99ea80e1e754fa7af6fc333cd,bz sr=gerv",
        "38cc395af3b6fc9bb66cc0d7156dd539 (16:47): so that's not ansi compatible",
        "282bf0c99ea80e1e754fa7af6fc333cd (16:48): 38cc395af3b6fc9bb66cc0d7156dd539: you also have an implicit declaration of function '__stpncpy_chk'",
        "38cc395af3b6fc9bb66cc0d7156dd539 (16:49): 282bf0c99ea80e1e754fa7af6fc333cd, is it a problem if it uses gcc instead of arm-foo-gcc here?",
        "1d3a9825f1cbbcbd23749ef7442ea6c7 (16:52): Curious about something: is it normal that onStopRequest gets triggered multiple times in a tracinglistener, when it's the same page being loaded? Asked the question on #extdev but maybe someone here may know more about this. It seems on some long pages, onStopRequest gets triggered twice... I'd expect onDataAvailable to be triggered multiple times for long pages, but not onStopRequest... thx",
        "282bf0c99ea80e1e754fa7af6fc333cd (17:04): 38cc395af3b6fc9bb66cc0d7156dd539: probably not a good thing. what was your command line?",
        "38cc395af3b6fc9bb66cc0d7156dd539 (17:06): I used that :",
        "38cc395af3b6fc9bb66cc0d7156dd539 (17:08): http://pastie.org/private/er0odv0vzsthmhb82d2va",
        "38cc395af3b6fc9bb66cc0d7156dd539 (17:09): it's an openembedded recipe",
        "38cc395af3b6fc9bb66cc0d7156dd539 (17:09): *it's part of an openembedded recipe",
        "282bf0c99ea80e1e754fa7af6fc333cd (17:11): 38cc395af3b6fc9bb66cc0d7156dd539: and what is *actually* called (with variable substitution in that script)",
        "282bf0c99ea80e1e754fa7af6fc333cd (17:11): ?",
        "38cc395af3b6fc9bb66cc0d7156dd539 (17:11): ok let me find it",
        "38cc395af3b6fc9bb66cc0d7156dd539 (17:13): http://pastie.org/private/nhifip4ispyqxqpvvxuwmg",
        "38cc395af3b6fc9bb66cc0d7156dd539 (17:14): and oe_runmake is that:",
        "38cc395af3b6fc9bb66cc0d7156dd539 (17:14): make  -e MAKEFLAGS= &quot;$@&quot; || die &quot;oe_runmake failed&quot;",
        "282bf0c99ea80e1e754fa7af6fc333cd (17:22): 38cc395af3b6fc9bb66cc0d7156dd539: with these, it shouldn't call gcc to build db.o",
        "38cc395af3b6fc9bb66cc0d7156dd539 (17:22): but it does",
        "38cc395af3b6fc9bb66cc0d7156dd539 (17:23): so that's why I sent that patch",
        "282bf0c99ea80e1e754fa7af6fc333cd (17:25): 38cc395af3b6fc9bb66cc0d7156dd539: if you add $(warning $(origin $(CC)) $(CC)) in security/coreconf/Linux.mk, after CC=gcc, what does it display?",
        "eb215559f21ce08fc2c0af415cb66253 (17:25): Check-in: http://hg.mozilla.org/mozilla-central/rev/b98eb5ea6526 - Philipp von Weitershausen - Bug 728890 - B2G: Update permission prefs after internal HTTP server port change. r=cjones DONTBUILD because NPOTB",
        "38cc395af3b6fc9bb66cc0d7156dd539 (17:31): ../../coreconf/Linux.mk:50: undefined gcc",
        "38cc395af3b6fc9bb66cc0d7156dd539 (17:31): hmmm",
        "282bf0c99ea80e1e754fa7af6fc333cd (17:35): 38cc395af3b6fc9bb66cc0d7156dd539: try without giving &quot;-e&quot; to make",
        "38cc395af3b6fc9bb66cc0d7156dd539 (17:37): ok",
        "38cc395af3b6fc9bb66cc0d7156dd539 (17:38): still that:",
        "38cc395af3b6fc9bb66cc0d7156dd539 (17:38): ../../coreconf/Linux.mk:50: undefined gcc",
        "282bf0c99ea80e1e754fa7af6fc333cd (17:39): 38cc395af3b6fc9bb66cc0d7156dd539: did you really put it after CC = gcc ?",
        "38cc395af3b6fc9bb66cc0d7156dd539 (17:39): yes",
        "38cc395af3b6fc9bb66cc0d7156dd539 (17:39): the line right after",
        "38cc395af3b6fc9bb66cc0d7156dd539 (17:39): at Linux.mk line 50",
        "38cc395af3b6fc9bb66cc0d7156dd539 (17:40): CC                      = gcc",
        "38cc395af3b6fc9bb66cc0d7156dd539 (17:40): $(warning $(origin $(CC)) $(CC))",
        "38cc395af3b6fc9bb66cc0d7156dd539 (17:43): ah sorry",
        "38cc395af3b6fc9bb66cc0d7156dd539 (17:43): I think I did an error while removing the -e",
        "38cc395af3b6fc9bb66cc0d7156dd539 (17:44): now with make instead of oe_runmake:",
        "38cc395af3b6fc9bb66cc0d7156dd539 (17:44): ../coreconf/Linux.mk:50: undefined arm-angstrom-linux-gnueabi-gcc  -march=armv7-a -fno-tree-vectorize      -mthumb-interwork -mfloat-abi=softfp -mfpu=neon -mtune=cortex-a8 --sysroot=/home/denis/embedded/oe-core/angstrom-bleeding/build/tmp-angstrom_2010_x-eglibc/sysroots/imx53qsb",
        "6ba643dd1744c0733e5befe047d6025f (17:44): 8b3687499080633e1898fa1dd209ef81: &quot;it if you add those givens to",
        "6ba643dd1744c0733e5befe047d6025f (17:44): the documentation for GetOptionIndex.",
        "6ba643dd1744c0733e5befe047d6025f (17:44): what did you meant?",
        "8b3687499080633e1898fa1dd209ef81 (17:44): You started your comment with &quot;Given...&quot;",
        "8b3687499080633e1898fa1dd209ef81 (17:45): I'd like you to make sure that those observations are documented",
        "8b3687499080633e1898fa1dd209ef81 (17:45): Also, add tests :)",
        "6ba643dd1744c0733e5befe047d6025f (17:45): 8b3687499080633e1898fa1dd209ef81: I have tests",
        "8b3687499080633e1898fa1dd209ef81 (17:45): Excellent",
        "6ba643dd1744c0733e5befe047d6025f (17:46): 8b3687499080633e1898fa1dd209ef81: haven't you seen them in the patch?",
        "8b3687499080633e1898fa1dd209ef81 (17:46): Not today :)",
        "8b3687499080633e1898fa1dd209ef81 (17:47): I'm just afraid that what someone might accidentally make what you said be wrong",
        "282bf0c99ea80e1e754fa7af6fc333cd (17:48): 38cc395af3b6fc9bb66cc0d7156dd539: looks better",
        "38cc395af3b6fc9bb66cc0d7156dd539 (17:48): thanks a lot",
        "38cc395af3b6fc9bb66cc0d7156dd539 (17:52): it tries to execute nsinstall now",
        "38cc395af3b6fc9bb66cc0d7156dd539 (17:52): which is an arm binary",
        "38cc395af3b6fc9bb66cc0d7156dd539 (17:52): | /bin/sh: line 2: ../../coreconf/nsinstall/Linux2.6_arm_glibc_PTH_OPT.OBJ/nsinstall: cannot execute binary file",
        "eb215559f21ce08fc2c0af415cb66253 (17:57): Check-in: http://hg.mozilla.org/mozilla-central/rev/1016e3e84271 - Philipp von Weitershausen - Bug 728890 follow-up: path served by HTTP server changed, too. DONTBUILD because NPOTB",
        "627986371b97a15741ba9c2db7ff0784 (17:58): /win 43",
        "627986371b97a15741ba9c2db7ff0784 (17:58): grr",
        "282bf0c99ea80e1e754fa7af6fc333cd (18:07): 38cc395af3b6fc9bb66cc0d7156dd539: nsinstall should be built with NATIVE_CC",
        "282bf0c99ea80e1e754fa7af6fc333cd (18:08): ah, overriding CC clashes with that... and we actually cheat in security/manager/Makefile.in",
        "38cc395af3b6fc9bb66cc0d7156dd539 (18:09): ok",
        "38cc395af3b6fc9bb66cc0d7156dd539 (18:10): so what should I do, a patch for that like ifeq NATIVECC ; CC = $(NATIVE_CC) endif",
        "38cc395af3b6fc9bb66cc0d7156dd539 (18:10): ?",
        "282bf0c99ea80e1e754fa7af6fc333cd (18:10): 38cc395af3b6fc9bb66cc0d7156dd539: that's what it does already, except that that CC is overriden with the command line",
        "282bf0c99ea80e1e754fa7af6fc333cd (18:11): 38cc395af3b6fc9bb66cc0d7156dd539: what would work is &quot;override CC = $(NATIVE_CC)&quot;",
        "38cc395af3b6fc9bb66cc0d7156dd539 (18:11): ok",
        "282bf0c99ea80e1e754fa7af6fc333cd (18:14): 38cc395af3b6fc9bb66cc0d7156dd539: in security/coreconf/*/Makefile",
        "38cc395af3b6fc9bb66cc0d7156dd539 (18:14): ok",
        "3a6bdba8fb33a88cf7d52a1af07a9c00 (18:20): 50f66ecbc45488ee5826941bfbc50411: ping?",
        "50f66ecbc45488ee5826941bfbc50411 (18:21): pong",
        "8b3687499080633e1898fa1dd209ef81 (18:43): Hrm",
        "8b3687499080633e1898fa1dd209ef81 (18:44): khuey, does &quot;#if !XP_MACOSX&quot; make sense?",
        "67b8dbbd954f99b0be64bce6b421d195 (18:45): yes-ish",
        "8b3687499080633e1898fa1dd209ef81 (18:47): Do explain :)",
        "67b8dbbd954f99b0be64bce6b421d195 (18:47): &quot;Identifiers that are not macros, which are all considered to be the number zero. This allows you to write #if MACRO instead of #ifdef MACRO, if you know that MACRO, when defined, will always have a nonzero value. Function-like macros used without their function call parentheses are also treated as zero. &quot;",
        "67b8dbbd954f99b0be64bce6b421d195 (18:47): http://gcc.gnu.org/onlinedocs/cpp/If.html",
        "8b3687499080633e1898fa1dd209ef81 (18:48): Bah",
        "8b3687499080633e1898fa1dd209ef81 (18:48): nsAString::SetLength can fail, right?",
        "67b8dbbd954f99b0be64bce6b421d195 (18:49): it does allocation, no?",
        "67b8dbbd954f99b0be64bce6b421d195 (18:49): it returns void",
        "67b8dbbd954f99b0be64bce6b421d195 (18:50): that seems a little screwy",
        "67b8dbbd954f99b0be64bce6b421d195 (18:50): since it calls SetCapacity internally",
        "8b3687499080633e1898fa1dd209ef81 (18:50): Hm, interesting",
        "38cc395af3b6fc9bb66cc0d7156dd539 (19:02): 282bf0c99ea80e1e754fa7af6fc333cd, thanks a lot!!!! the recipe nearly works, I've some QA left and it should be ok",
        "38cc395af3b6fc9bb66cc0d7156dd539 (19:02): I'll go, see you later"
    ],
    "person_ids": [
        "38cc395af3b6fc9bb66cc0d7156dd539",
        "282bf0c99ea80e1e754fa7af6fc333cd",
        "eb215559f21ce08fc2c0af415cb66253",
        "1d3a9825f1cbbcbd23749ef7442ea6c7",
        "6ba643dd1744c0733e5befe047d6025f",
        "8b3687499080633e1898fa1dd209ef81",
        "627986371b97a15741ba9c2db7ff0784",
        "3a6bdba8fb33a88cf7d52a1af07a9c00",
        "50f66ecbc45488ee5826941bfbc50411",
        "67b8dbbd954f99b0be64bce6b421d195"
    ]
}