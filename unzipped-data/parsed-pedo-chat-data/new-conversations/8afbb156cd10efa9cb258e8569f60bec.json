{
    "id": "8afbb156cd10efa9cb258e8569f60bec",
    "messages": [
        "365ff31808a0ad3c4831b2f8c1810f29 (17:37): omg",
        "365ff31808a0ad3c4831b2f8c1810f29 (17:37): the whole problem comes from the force user option",
        "365ff31808a0ad3c4831b2f8c1810f29 (17:38): if i force a user to a userid, then i can't connect to this share anymore",
        "7a2aa28090974ac35abf57fdf9f35fa6 (17:47): Hi guys.. Quick (and quite possibly stupid) question.. I was under the belief that if sambaPwdMustChange wasn't set, the password would simply not expire however, it seems like after we delete this attribute from our users, it comes back. Does samba re-add this if it can't find it?",
        "027c2409ea463448b7135404565e3dd6 (18:06): hello :) I am having problems using NT4 USRMGR.EXE with Samba. When I try to add users to Domain Admins, I get the error: Group not found",
        "027c2409ea463448b7135404565e3dd6 (18:14): hello andresmujica :) I am having problems using NT4 USRMGR.EXE with Samba. When I try to add users to Domain Admins, I get the error: Group not found. after some googling, I figured this is an error with SAMBA. Is there a fix, or a version where this does not happen?",
        "027c2409ea463448b7135404565e3dd6 (18:15): if you know :) room's a little dead ^^",
        "365ff31808a0ad3c4831b2f8c1810f29 (18:21): is it normal, that samba ask for the password everytime you try to map a share - even if you're a domainmember and are known to samba ?",
        "a9aef94c96c1e79ff47b0a790cf62bcc (18:26): not really",
        "a9aef94c96c1e79ff47b0a790cf62bcc (18:26): if you're talking about windows",
        "027c2409ea463448b7135404565e3dd6 (18:28): neonatus, are you familiar with USRMGR.exe and samba? I can't add users to the Domain Admins group, even though I am logged in as root",
        "027c2409ea463448b7135404565e3dd6 (18:28): says &quot;group not found&quot;",
        "a9aef94c96c1e79ff47b0a790cf62bcc (18:28): Lucificifus, no, not really, never used it",
        "027c2409ea463448b7135404565e3dd6 (18:29): neonatus, what do you use? :)",
        "027c2409ea463448b7135404565e3dd6 (18:29): for user management",
        "a9aef94c96c1e79ff47b0a790cf62bcc (18:29): perl scripts or web based management (LAM)",
        "027c2409ea463448b7135404565e3dd6 (18:30): neonatus, thanks :)",
        "a9aef94c96c1e79ff47b0a790cf62bcc (18:30): np",
        "a9aef94c96c1e79ff47b0a790cf62bcc (18:30): Wish I could actually help ;)",
        "027c2409ea463448b7135404565e3dd6 (18:31): cya!",
        "365ff31808a0ad3c4831b2f8c1810f29 (18:34): neonatus: i do ... and i think it's a samba related problem",
        "365ff31808a0ad3c4831b2f8c1810f29 (18:35): hmm perhaps if i replace @DOMAIN\\GROUP with +DOMAIN\\GROUP",
        "a9aef94c96c1e79ff47b0a790cf62bcc (18:36): @ is used as group denominator",
        "a9aef94c96c1e79ff47b0a790cf62bcc (18:36): try @&quot;Group name&quot;",
        "365ff31808a0ad3c4831b2f8c1810f29 (18:36): yeah, if you want to look up in nis and then unix",
        "365ff31808a0ad3c4831b2f8c1810f29 (18:36): but if you only use &quot;+&quot; then you force samba to directly look into the unix groups",
        "599f95d839258989f9de613a4760b7dc (18:37): is anyone using winbind for SSO with Windows AD?",
        "599f95d839258989f9de613a4760b7dc (18:37): I have got it working to where it logs in and creates the home dir, but it then closes the connection.  I was previously getting errors about pam not liking uid &gt; 100, but I commented that out.  I can no longer find any more output regarding why my connection is being closed.  Anyone have this problem before?",
        "a9aef94c96c1e79ff47b0a790cf62bcc (18:37): stony, mhm",
        "869bc7b89036e2454e91cbfe9faaf52a (18:39): e\\ectro_: are you using it in native AD mode with kinit and all that, or mixed mode and just treating samba like an nt4 server",
        "599f95d839258989f9de613a4760b7dc (18:40): kinit",
        "c01e287596d8d0bf8decfaee9613616a (18:40): e\\ectro_: just out of interest, how does it create the home dir?",
        "599f95d839258989f9de613a4760b7dc (18:40): though /etc/pam.d/login",
        "599f95d839258989f9de613a4760b7dc (18:40): session optional pam_mkhomedir.so skel=/etc/skel/ umask=0077",
        "c01e287596d8d0bf8decfaee9613616a (18:41): e\\ectro_: so does that create it when ever a user connects through samba or do they have to login through ssh or something?",
        "599f95d839258989f9de613a4760b7dc (18:41): login through ssh",
        "c01e287596d8d0bf8decfaee9613616a (18:41): :/",
        "c01e287596d8d0bf8decfaee9613616a (18:42): im trying to set up an ldap based server and i cant figure out how to make it create home directories",
        "869bc7b89036e2454e91cbfe9faaf52a (18:48): AzzIzzA: used to be you had to make the /home folder users group writable, i thought they had that fixed though",
        "993994bf68255a78a4ebdcb81e3a513c (18:50): I have a problem with non-writable shares.  If I try and delete a file using the regular explorer GUI, it fails (properly) and returns an error.  If I try and delete a file programmatically via DeleteFileW, the delete fails there as well, but GetLastError returns zero instead of the errror code.",
        "c01e287596d8d0bf8decfaee9613616a (18:55): ||cw: for what? can the ldapserver itself create the directories?",
        "869bc7b89036e2454e91cbfe9faaf52a (19:04): AzzIzzA: no, for first login to samba, for some reason ssh creats as root and samba doens't",
        "869bc7b89036e2454e91cbfe9faaf52a (19:04): Jabber_: sounds like a problem with DeleteFileW",
        "c01e287596d8d0bf8decfaee9613616a (19:05): ||cw: so samba can create the home dir? im using slackware atm (no pam) so i havent actually played with it yet (ive been reading about it)",
        "869bc7b89036e2454e91cbfe9faaf52a (19:05): no, pam can create the homedir",
        "869bc7b89036e2454e91cbfe9faaf52a (19:05): but when samba invlodes pam, it'snto as root and it can't create",
        "c01e287596d8d0bf8decfaee9613616a (19:05): ||cw: but if samba is authing against an ldap its not using pam",
        "869bc7b89036e2454e91cbfe9faaf52a (19:07): *head explodes*",
        "869bc7b89036e2454e91cbfe9faaf52a (19:07): too many layers for me to deal with this morning",
        "c01e287596d8d0bf8decfaee9613616a (19:08): ||cw: well as i understand it samba talks straight to the ldap server so pam never sees the login and doesnt get a chance to create the dir",
        "c01e287596d8d0bf8decfaee9613616a (19:08): im thinking i might try the samba commands that are intended for mounting disks when they are accessed &quot;pre exec&quot; or what ever its called",
        "869bc7b89036e2454e91cbfe9faaf52a (19:09): how do you create the users?",
        "c01e287596d8d0bf8decfaee9613616a (19:09): with an ldap editor",
        "869bc7b89036e2454e91cbfe9faaf52a (19:09): ah",
        "869bc7b89036e2454e91cbfe9faaf52a (19:09): you need something linux aware so it cna make the unix profile too",
        "c01e287596d8d0bf8decfaee9613616a (19:09): there are scripts that will create an ldap user and the directory and all, but i want to make it easy for a windows user to do",
        "869bc7b89036e2454e91cbfe9faaf52a (19:10): I think smbldap tools does it",
        "869bc7b89036e2454e91cbfe9faaf52a (19:10): I use the nt4 user manager and the &quot;add user script&quot; to run the smbldap scripts",
        "c01e287596d8d0bf8decfaee9613616a (19:10): ||cw: thats the scripts i was talking about, but i cant expect a windows user to ssh in and run them",
        "8b671dc9776ae893e3c10063da8a41fc (19:10): when adding users to a group, i don't have have to do anything more then add them to /etc/group do I? i'm still trying to figure out why certain users can authenticate to a share, but can't modify any files..even though other users can work fine... net rpc group members groupname lists them as being in the group",
        "869bc7b89036e2454e91cbfe9faaf52a (19:10): so it's very easy for the site admin",
        "c01e287596d8d0bf8decfaee9613616a (19:11): ||cw: aah maybe i should look at that",
        "869bc7b89036e2454e91cbfe9faaf52a (19:11): rhavenn2: unix permissions apply",
        "c01e287596d8d0bf8decfaee9613616a (19:11): wouldnt be able to modify other ldap fields like email address but ill have a look",
        "8b671dc9776ae893e3c10063da8a41fc (19:12): ||cw-&gt; yeah, i know...mine are set to nobody:groupname and 775 for directories, 664 for files",
        "869bc7b89036e2454e91cbfe9faaf52a (19:12): AzzIzzA: IIRC smbldaptools has some defauls for that too, like a generator",
        "8b671dc9776ae893e3c10063da8a41fc (19:12): userA in groupname can modfy / create new directories, userB can't",
        "869bc7b89036e2454e91cbfe9faaf52a (19:12): AzzIzzA: and you could always make your own wrapper scipt",
        "c01e287596d8d0bf8decfaee9613616a (19:13): ||cw: i was thinking more of changing things after the user is created but i guess ill cross that bridge when i come to it",
        "c01e287596d8d0bf8decfaee9613616a (19:13): thanks",
        "c01e287596d8d0bf8decfaee9613616a (19:14): ciao",
        "8b671dc9776ae893e3c10063da8a41fc (19:17): okay, what do this mean? id -Gn ECW\\userB lists the group as being ECW\\none while doing id -Gn ECW\\userA show the right group of ECW\\groupname",
        "869bc7b89036e2454e91cbfe9faaf52a (19:27): somehting wrong with the user, or the cache",
        "8b671dc9776ae893e3c10063da8a41fc (19:33): ||cw-&gt; okay, on the PDC id -Gn ECW\\userB is correct, on the member server using winbind it isn't",
        "ffb68c03bf359c011e21a513f8b81733 (19:57): I have a PDC at our primary site and a BDC at our remote site.  The two sites are connected via fiber.  The users at the remote site have their files and logon scripts on the BDC.",
        "ffb68c03bf359c011e21a513f8b81733 (19:57): The problem is that sometimes the remote users use the PDC as their domain controler instead of the local BDC.",
        "ffb68c03bf359c011e21a513f8b81733 (19:57): Our PDC machine is about 3-4 times faster than our BDC so I imagine that even there is 2-3 miles between the two sites the PDC is able to respond quicker to Windows domain locator requests.",
        "ffb68c03bf359c011e21a513f8b81733 (19:57): Is there some way (DHCP/Registery/smb settings) I can force the remote users to only use the BDC?",
        "716ac33f581b6cbc15f40e51bc3652aa (19:59): i think you can increase the cost of that link to make them stay local",
        "ffb68c03bf359c011e21a513f8b81733 (20:01): apsides, I can use the firewall to delay/limit samba traffic, but the remote users have to use some company wide shares located on the PDC.",
        "df3fd36877243502ae0181acc8c6594c (20:01): I have a windows pdc that is used as domain controller. I think it uses ldap, but only for a handful of clients. Would it be easier to use Samba as PDC, and forget ldap?",
        "df3fd36877243502ae0181acc8c6594c (20:05): I'm inhereting this network. They have separate Samba and WinXP pdc servers.. i see no reason for separate servers, unless ldap was somehow critical to ops.",
        "ffb68c03bf359c011e21a513f8b81733 (20:08): xai, The ldap with the WinXP pdc is probably Active Directory.  If you are using exchange or other similiar microsoft products then you should make sure they do not need AD.  Otherwise, samba can be setup easily as a pdc for just few clients without needing to use a ldap server.",
        "df3fd36877243502ae0181acc8c6594c (20:09): tomwest: thanks.. I see the nice Howto from Gentoo on how to do this even for roaming users.. seems reasonable..",
        "64dfcbc150ddf5b44f3e33152ff70c9d (20:14): Hi :-) What do I have to do so that I can mount a windows samba share on my linux machine as a user (as root, it works)",
        "64dfcbc150ddf5b44f3e33152ff70c9d (20:14): ?",
        "ffb68c03bf359c011e21a513f8b81733 (20:15): klaaner, are you using fstab or smbmount?",
        "64dfcbc150ddf5b44f3e33152ff70c9d (20:17): fstab",
        "64dfcbc150ddf5b44f3e33152ff70c9d (20:18): Here's the fstab entry:",
        "64dfcbc150ddf5b44f3e33152ff70c9d (20:18): /Benno2006/Transfer            /media/samba            smbfs   noauto,users,uid=root,gid=users,password=&quot;&quot;,dmask=0775,fmask=0664   0 0",
        "ffb68c03bf359c011e21a513f8b81733 (20:18): klanner, make sure you include the fstab 'user' option. Otherwise, linux will only allow root to mount it.",
        "64dfcbc150ddf5b44f3e33152ff70c9d (20:19): I thought, &quot;users&quot; also works?",
        "64dfcbc150ddf5b44f3e33152ff70c9d (20:20): With &quot;user&quot;, I get the same error: &quot;cannot mount on /media/samba: Operation not permitted smbmnt failed: 1&quot;",
        "64dfcbc150ddf5b44f3e33152ff70c9d (20:22): tomwest: But the share is actually mounted after displaying &quot;cannot mount on /media/samba: Operation not permitted smbmnt failed: 1&quot; ... but the access rights I set in the fstab are not set",
        "ffb68c03bf359c011e21a513f8b81733 (20:24): klaaner: Could you repost your fstab entry.  I got disconnected from IRC and lost the conversation.",
        "64dfcbc150ddf5b44f3e33152ff70c9d (20:24): tomwest: //Benno2006/Transfer            /media/samba            smbfs   noauto,users,uid=root,gid=users,password=&quot;&quot;,dmask=0775,fmask=0664   0 0",
        "ffb68c03bf359c011e21a513f8b81733 (20:25): klaaner, do you get &quot;the cannot mount&quot; when mounting as root or just as a user?",
        "64dfcbc150ddf5b44f3e33152ff70c9d (20:26): Just as user",
        "64dfcbc150ddf5b44f3e33152ff70c9d (20:26): But the shre is although mounted,  but the masks from the fstab aren't set",
        "ffb68c03bf359c011e21a513f8b81733 (20:28): klaaner: According the the docs that I can find users should be user.",
        "64dfcbc150ddf5b44f3e33152ff70c9d (20:28): tomwest: then, I get the same error message, but the share isn't mounted at all ....",
        "ffb68c03bf359c011e21a513f8b81733 (20:29): klanner: what distro are you using?",
        "64dfcbc150ddf5b44f3e33152ff70c9d (20:29): tomwest: Gentooo",
        "64dfcbc150ddf5b44f3e33152ff70c9d (20:30): With &quot;users&quot;, it is actually mounted, but with the wrong permissions",
        "c6378428e61464aa42fadba7058af87d (20:31): what is missing before samba4 can go beta?",
        "ffb68c03bf359c011e21a513f8b81733 (20:31): klanner: Looks like users will give non-exclusive access to the mount while user gives exclusive access to the user who mounts it.",
        "ffb68c03bf359c011e21a513f8b81733 (20:32): klanner: the uid/gid not getting applied seems like a fstab problem not a samba problem",
        "ffb68c03bf359c011e21a513f8b81733 (20:32): klanner: however,",
        "ffb68c03bf359c011e21a513f8b81733 (20:32): klanner: you could do a work around by using force user on the samba server",
        "ffb68c03bf359c011e21a513f8b81733 (20:33): klanner: or by using sudo",
        "64dfcbc150ddf5b44f3e33152ff70c9d (20:33): tomwest: Okay, I think, I'll use sudo. Thanks so far :-)",
        "ffb68c03bf359c011e21a513f8b81733 (20:33): klanner: I think as a user you can't set any root permision",
        "ffb68c03bf359c011e21a513f8b81733 (20:50): I have a PDC at our primary site and a BDC at our remote site.  The two sites are connected via fiber.  The users at the remote site have their files and logon scripts on the BDC.  The problem is that sometimes the remote users use the PDC as their domain controler instead of the local BDC.  Our PDC machine is about 3-4 times faster than our BDC so I imagine that even though there is 2-3 miles between the two sites the PDC is able to respond quicker to Window",
        "a6dec57951ebcb4171fee3c3ae445ea7 (20:58): I just upgrade on debian to 3.0.23c, and my winbind to Active Directory setup doesn't seem to work anymore, did something change i should know about?",
        "a6dec57951ebcb4171fee3c3ae445ea7 (20:59): 'wbinfo -u'   returns everything i expect it to, but 'getent passwd' does not",
        "8aed5b7bf7e530499c7e8ac638602b9f (21:01): is it possible to run samba server in windows?  I can't stand its horrible folder sharing system, windows 98's was better than xps",
        "8aed5b7bf7e530499c7e8ac638602b9f (21:03): oops",
        "a6dec57951ebcb4171fee3c3ae445ea7 (21:08): allright, after a reboot it seems to be sharing and PAM seem to work again based off of AD, but getent passwd and getent group don't list items on the domain, was that an expected change?",
        "62402d1561a487ba7bb518e3e24598eb (21:28): hello everyone",
        "62402d1561a487ba7bb518e3e24598eb (21:28): i have been exeriencing some problems with what i believe is file locking",
        "62402d1561a487ba7bb518e3e24598eb (21:28): for example i can open the files (text files), change them but i cant write to them (i can overwrite them though)",
        "62402d1561a487ba7bb518e3e24598eb (21:29): this stuff only happens in windows",
        "62402d1561a487ba7bb518e3e24598eb (21:29): this is a little bit of a log file entry",
        "62402d1561a487ba7bb518e3e24598eb (21:29): linux_set_kernel_oplock: Refused oplock on file tmp2.txt",
        "62402d1561a487ba7bb518e3e24598eb (21:29): has anyone experienced simmilar problems",
        "62402d1561a487ba7bb518e3e24598eb (21:29): ?",
        "62402d1561a487ba7bb518e3e24598eb (21:31): i found some info on the solution (switching the kernel oplocks off)",
        "62402d1561a487ba7bb518e3e24598eb (21:31): is there anything that can be done (short of switching them off)"
    ],
    "person_ids": [
        "365ff31808a0ad3c4831b2f8c1810f29",
        "7a2aa28090974ac35abf57fdf9f35fa6",
        "027c2409ea463448b7135404565e3dd6",
        "a9aef94c96c1e79ff47b0a790cf62bcc",
        "599f95d839258989f9de613a4760b7dc",
        "869bc7b89036e2454e91cbfe9faaf52a",
        "c01e287596d8d0bf8decfaee9613616a",
        "993994bf68255a78a4ebdcb81e3a513c",
        "8b671dc9776ae893e3c10063da8a41fc",
        "ffb68c03bf359c011e21a513f8b81733",
        "716ac33f581b6cbc15f40e51bc3652aa",
        "df3fd36877243502ae0181acc8c6594c",
        "64dfcbc150ddf5b44f3e33152ff70c9d",
        "c6378428e61464aa42fadba7058af87d",
        "a6dec57951ebcb4171fee3c3ae445ea7",
        "8aed5b7bf7e530499c7e8ac638602b9f",
        "62402d1561a487ba7bb518e3e24598eb"
    ]
}