{
    "id": "40ff59cd861ebc7252d9b9f2b35b70c2",
    "messages": [
        "65325d50b2e25aca54bc871b89758c9c (10:01): f139aba52f9fa1394b4034a7954b2220: hmm, I think putting text-align: center on &lt;figure&gt; might be about the right thing",
        "f139aba52f9fa1394b4034a7954b2220 (10:03): 65325d50b2e25aca54bc871b89758c9c, show me a demo?",
        "f139aba52f9fa1394b4034a7954b2220 (10:07): figure { display: table; } figure legend { display: table-caption; } is probably the ideal default presentation, since it also allows the use of 'caption-side'",
        "65325d50b2e25aca54bc871b89758c9c (10:08): I'm not sure if it's right for the figure to shrink to fit the image or not",
        "65325d50b2e25aca54bc871b89758c9c (10:08): it's supposed to represent a paragraph",
        "65325d50b2e25aca54bc871b89758c9c (10:08): so presumably it should be its own block when mixed with paragraphs, and should get the full width of the containing block",
        "65325d50b2e25aca54bc871b89758c9c (10:09): but I don't think there's any way to handle it without adding a span or something inside the &lt;legend&gt;",
        "65325d50b2e25aca54bc871b89758c9c (10:09): hmm",
        "65325d50b2e25aca54bc871b89758c9c (10:10): display: table-caption means you have to control whether the caption appears above or below with separate properties instead of just whether it is before or after the image",
        "f139aba52f9fa1394b4034a7954b2220 (10:10): is that a bad thing?",
        "65325d50b2e25aca54bc871b89758c9c (10:10): well, yeah",
        "65325d50b2e25aca54bc871b89758c9c (10:11): why allow both &lt;figure&gt;&lt;img&gt;&lt;legend&gt;...&lt;/legend&gt;&lt;/figure&gt; and &lt;figure&gt;&lt;legend&gt;...&lt;/legend&gt;&lt;img&gt;&lt;/figure&gt; if they do the same thing?",
        "65325d50b2e25aca54bc871b89758c9c (10:11): whereas other elements that take a &lt;legend&gt; require it to be first",
        "65325d50b2e25aca54bc871b89758c9c (10:13): presumably there are cases where the image or video caption comes logically first, so you'd want it visually first by default as well",
        "f139aba52f9fa1394b4034a7954b2220 (10:21): I have a solution to that",
        "f139aba52f9fa1394b4034a7954b2220 (10:21): http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A%3Cstyle%3E%0Afigure%20%7B%20display%3A%20table%3B%20%7D%0Afigure%20legend%2C%20figure%20span%20%7B%20display%3A%20table-caption%3B%20caption-side%3A%20bottom%3B%20text-align%3A%20center%3B%20%7D%0Afigure%20legend%3Afirst-child%2C%20figure%20span%3Afirst-child%20%7B%20caption-side%3A%20top%3B%20%7D%0A%3C%2Fstyle%3E%0A%3",
        "f139aba52f9fa1394b4034a7954b2220 (10:21): Cp%3E%3Cfigure%3E%3Cimg%20src%3Dimage%3E%3Clegend%3E%3Cspan%3ECaption%3C%2Fspan%3E%3C%2Flegend%3E%3C%2Ffigure%3E%0A%3Cp%3E%3Cfigure%3E%3Clegend%3E%3Cspan%3ECaption%3C%2Fspan%3E%3C%2Flegend%3E%3Cimg%20src%3Dimage%3E%3C%2Ffigure%3E",
        "f139aba52f9fa1394b4034a7954b2220 (10:21): (if that split across several lines, download it from the clipboard)",
        "65325d50b2e25aca54bc871b89758c9c (10:23): that's not bad",
        "f139aba52f9fa1394b4034a7954b2220 (10:37): that doesn't work in Opera because legend is in the DOM as an empty element.",
        "f139aba52f9fa1394b4034a7954b2220 (10:38): These styles work:",
        "f139aba52f9fa1394b4034a7954b2220 (10:38): figure { display: table; }",
        "f139aba52f9fa1394b4034a7954b2220 (10:38): figure legend, figure span { display: table-caption; text-align: center; caption-side: bottom; }",
        "f139aba52f9fa1394b4034a7954b2220 (10:38): figure legend:first-child, figure legend:first-child+span, figure span:first-child { caption-side: top; }",
        "f139aba52f9fa1394b4034a7954b2220 (10:39): though I still haven't found anything that will get it working in IE",
        "65325d50b2e25aca54bc871b89758c9c (10:43): I don't think there's any way to make it work in IE without script",
        "65325d50b2e25aca54bc871b89758c9c (10:46): that latest set of rules seems to give consistent and useful rendering in SafOperFox",
        "65325d50b2e25aca54bc871b89758c9c (10:47): hmmm",
        "65325d50b2e25aca54bc871b89758c9c (10:47): f139aba52f9fa1394b4034a7954b2220: would there be any problem with using &lt;label&gt; instead of &lt;legend&gt;?",
        "f139aba52f9fa1394b4034a7954b2220 (10:49): not as far as the DOM is concerned, but I don't know how assistive technology reacts to labels that aren't used for form controls",
        "65325d50b2e25aca54bc871b89758c9c (10:50): http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A%3Cstyle%3E%0Afigure%20%7B%20display%3A%20table%3B%20%7D%0Afigure%20label%20%7B%20display%3A%20table-caption%3B%20text-align%3A%20center%3B%20caption-side%3A%20bottom%3B%20%7D%0Afigure%20label%3Afirst-child%20%7B%20caption-side%3A%20top%3B%20%7D%0A%3C%2Fstyle%3E%0A%0A%3Cfigure%3E%0A%3Cimg%20src%3Dimage%3E%0A%3Clabel%3ECaption%3C%2Flabel%3E%0A%3C%2Ffigure%",
        "f139aba52f9fa1394b4034a7954b2220 (10:50): would it, for example, interfere with forms mode, or would they be read out when not in forms mode? I have no idea. it may not be a problem at all.",
        "65325d50b2e25aca54bc871b89758c9c (10:50): the DOM for that is right even in IE",
        "65325d50b2e25aca54bc871b89758c9c (10:52): IE doesn't support CSS tables, right?",
        "f139aba52f9fa1394b4034a7954b2220 (10:52): well, the DOM is as close as we're going to get it without replacing figure too.",
        "f139aba52f9fa1394b4034a7954b2220 (10:52): no, it doesn't support css tables",
        "65325d50b2e25aca54bc871b89758c9c (10:53): the DOM is real close anyway; required script fallback would be limited to putting the &lt;figure&gt; contents back inside the figure",
        "f139aba52f9fa1394b4034a7954b2220 (10:54): the problem I would have with reusing label is that authors currently style label a lot for use with forms, and if they wanted to insert a figure into an existing page, those existing styles would interfere",
        "f139aba52f9fa1394b4034a7954b2220 (10:54): that would create a lot of headaches as they modified their style sheets",
        "65325d50b2e25aca54bc871b89758c9c (10:56): true, but they'd need to add a rule for &quot;figure label&quot;, so that can undo changes in that rule",
        "f139aba52f9fa1394b4034a7954b2220 (10:57): from an authoring perspective, I can tell you that undoing styles from countless styles spread across several stylesheets is a lot harder than you might think",
        "f139aba52f9fa1394b4034a7954b2220 (11:00): it makes it even more complicated when authors want to copy and paste their figure styles from one site to another, which may have different label styles and thus more to undo",
        "65325d50b2e25aca54bc871b89758c9c (11:01): all you have to do is have &quot;initial&quot; rules for the kind of styles that are likely to be seen on &quot;label&quot; (which I suspect is somewhat limited)",
        "65325d50b2e25aca54bc871b89758c9c (11:01): the problems with &lt;legend&gt; go beyond styling",
        "65325d50b2e25aca54bc871b89758c9c (11:01): you need tricky script-based fixup to be able to even put event listeners on the caption",
        "65325d50b2e25aca54bc871b89758c9c (11:01): or to find figure captions in the DOM",
        "65325d50b2e25aca54bc871b89758c9c (11:02): anyway I'll mention this objection in my email",
        "f139aba52f9fa1394b4034a7954b2220 (11:02): ok",
        "f139aba52f9fa1394b4034a7954b2220 (11:04): but I don't think label styles that authors use today are in any way limited. Some use floats, display: block; cursor pointers, font styles, colours, text-align and much more."
    ],
    "person_ids": [
        "65325d50b2e25aca54bc871b89758c9c",
        "f139aba52f9fa1394b4034a7954b2220"
    ]
}