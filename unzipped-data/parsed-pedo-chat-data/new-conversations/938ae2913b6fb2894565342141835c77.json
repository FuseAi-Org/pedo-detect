{
    "id": "938ae2913b6fb2894565342141835c77",
    "messages": [
        "cc097e0d7183ae8436e7df709553c8c0 (15:47): 3f2e2531201cfbf853f16f668132eaf2: thanks, you gave me a good laugh with your &quot;Blah blah&quot; sentences in the suggested spec text... :D",
        "cc097e0d7183ae8436e7df709553c8c0 (15:47): waits for Hixie to copy-paste that into the spec",
        "cc097e0d7183ae8436e7df709553c8c0 (15:49): ( http://www.w3.org/mid/<email/> )",
        "3f2e2531201cfbf853f16f668132eaf2 (16:09): Oh, that was just to save some space by not copying-and-pasting uninteresting chunks of spec text",
        "b8810fee2f4a71f849f3f7409546d1d9 (16:32): I wonder if there was a good reason to put textContent as opposed to innerText into the DOM...",
        "e3fb62ebfa4f36acf5cbff6a6ed0f2e0 (16:56): I've been told innerText is different",
        "b8810fee2f4a71f849f3f7409546d1d9 (16:56): e3fb62ebfa4f36acf5cbff6a6ed0f2e0: how?",
        "1adba86c435b5fe0f7ea043370b1636b (16:56): one includes text from child nodes, I think?",
        "b8810fee2f4a71f849f3f7409546d1d9 (16:57): that would be textContent",
        "b8810fee2f4a71f849f3f7409546d1d9 (16:58): from MSDN: @The innerText property is valid for block elements only.@",
        "b8810fee2f4a71f849f3f7409546d1d9 (16:58): sigh",
        "b8810fee2f4a71f849f3f7409546d1d9 (16:58): s/@/&quot;/",
        "1adba86c435b5fe0f7ea043370b1636b (16:59): I think I'm misremembering the childnode difference",
        "e3fb62ebfa4f36acf5cbff6a6ed0f2e0 (16:59): yes",
        "e3fb62ebfa4f36acf5cbff6a6ed0f2e0 (16:59): MSDN is wrong",
        "b8810fee2f4a71f849f3f7409546d1d9 (17:03): well, I can't even test in IE, so I deployed the script with this: // If you want this to work in IE, patches welcome",
        "cc097e0d7183ae8436e7df709553c8c0 (17:08): innerText works on any element",
        "cc097e0d7183ae8436e7df709553c8c0 (17:08): doesn't know what the difference is, if there is any",
        "cc097e0d7183ae8436e7df709553c8c0 (17:09): well, at least getting works on any element",
        "cc097e0d7183ae8436e7df709553c8c0 (17:09): setting raises an exception on some elements (like &lt;html&gt;, &lt;input&gt;)",
        "b8810fee2f4a71f849f3f7409546d1d9 (17:09): I only need the getter",
        "b8810fee2f4a71f849f3f7409546d1d9 (17:12): cc097e0d7183ae8436e7df709553c8c0: ok. deployed innerText without testing",
        "cc097e0d7183ae8436e7df709553c8c0 (17:14): b8810fee2f4a71f849f3f7409546d1d9: seems to work in ie6",
        "b8810fee2f4a71f849f3f7409546d1d9 (17:14): cc097e0d7183ae8436e7df709553c8c0: good. thanks",
        "cc097e0d7183ae8436e7df709553c8c0 (17:16): &quot;XMLNS\u00ac Filter&quot; hmm, apparently my ie6 thinks that validator.nu is windows-1252",
        "cc097e0d7183ae8436e7df709553c8c0 (17:17): (encoding is &quot;auto-select&quot; in the menu)",
        "cc097e0d7183ae8436e7df709553c8c0 (17:17): which is really weird",
        "b8810fee2f4a71f849f3f7409546d1d9 (17:18): cc097e0d7183ae8436e7df709553c8c0: web-sniffer.net says the header is text/html; charset=utf-8",
        "b8810fee2f4a71f849f3f7409546d1d9 (17:18): which should be fine...",
        "cc097e0d7183ae8436e7df709553c8c0 (17:18): yeah. that's why it's weird",
        "cc097e0d7183ae8436e7df709553c8c0 (17:20): a forced reload makes it utf-8",
        "cc097e0d7183ae8436e7df709553c8c0 (17:20): leaves it at that",
        "cc097e0d7183ae8436e7df709553c8c0 (17:22): tries to validate the html5 spec with show source",
        "cc097e0d7183ae8436e7df709553c8c0 (17:25): ...",
        "b8810fee2f4a71f849f3f7409546d1d9 (17:25): at least other threads keep serving requests...",
        "b8810fee2f4a71f849f3f7409546d1d9 (17:25): is trying to validate the spec concurrently as well",
        "b8810fee2f4a71f849f3f7409546d1d9 (17:27): hmm. looks CPU-bound",
        "e3fb62ebfa4f36acf5cbff6a6ed0f2e0 (17:27): tries the W3C version for added joy",
        "b8810fee2f4a71f849f3f7409546d1d9 (17:27): real memory seems to be sufficient",
        "e3fb62ebfa4f36acf5cbff6a6ed0f2e0 (17:28): &quot;Internal Error: Oops. That was not supposed to happen. A bug manifested itself in the application internals. Unable to continue. Sorry. The admin was notified.&quot;",
        "b8810fee2f4a71f849f3f7409546d1d9 (17:28): I got the result back but source wasn't shown",
        "cc097e0d7183ae8436e7df709553c8c0 (17:28): is still waiting",
        "b8810fee2f4a71f849f3f7409546d1d9 (17:28): checks email",
        "b8810fee2f4a71f849f3f7409546d1d9 (17:30): hah. the Schematron impl ran out of memory",
        "b8810fee2f4a71f849f3f7409546d1d9 (17:31): see! I was right! it does make sense to avoid tree building in a validator.",
        "b8810fee2f4a71f849f3f7409546d1d9 (17:31): now I only need to replace the Schematron schema with something that doesn't build a tree",
        "b8810fee2f4a71f849f3f7409546d1d9 (17:32): fwiw: one thread: java.lang.ArrayIndexOutOfBoundsException: 84968 at org.apache.xml.utils.StringVector.addElement(StringVector.java:108) at org.apache.xml.dtm.ref.sax2dtm.SAX2DTM.setSourceLocation(SAX2DTM.java:974)",
        "b8810fee2f4a71f849f3f7409546d1d9 (17:33): another: java.lang.OutOfMemoryError: Java heap space at java.lang.Object.clone(Native Method) at org.apache.xpath.axes.PredicatedNodeTest.clone(PredicatedNodeTest.java:90)",
        "e3fb62ebfa4f36acf5cbff6a6ed0f2e0 (17:33): can't you replace schematron with custom java code?",
        "b8810fee2f4a71f849f3f7409546d1d9 (17:33): e3fb62ebfa4f36acf5cbff6a6ed0f2e0: yes, I can",
        "e3fb62ebfa4f36acf5cbff6a6ed0f2e0 (17:33): that does simple traversal",
        "b8810fee2f4a71f849f3f7409546d1d9 (17:34): now I have a better reason to. previously that task seemed more theoretical",
        "3f2e2531201cfbf853f16f668132eaf2 (17:34): b8810fee2f4a71f849f3f7409546d1d9: Alternatively, it makes sense to do tree building because it means the validator will run out memory and abort, rather than running almost forever on a huge document and using up all the CPU time that other people want to share",
        "b8810fee2f4a71f849f3f7409546d1d9 (17:35): 3f2e2531201cfbf853f16f668132eaf2: the size of the input doc is limited in terms of # of bytes",
        "3f2e2531201cfbf853f16f668132eaf2 (17:35): Oh",
        "b8810fee2f4a71f849f3f7409546d1d9 (17:37): 3f2e2531201cfbf853f16f668132eaf2: pretty much everything expect the schematron part is designed to have memory requirements that grow at most linearly relative to input byte size",
        "b8810fee2f4a71f849f3f7409546d1d9 (17:37): (although I don't know the exact perf characteristings of the RELAX NG engine)",
        "b8810fee2f4a71f849f3f7409546d1d9 (17:42): and like I blogged, the Xerces regexp engine has bad perf characteristics compared to what is necessary to implement the XSD regexp spec",
        "3f2e2531201cfbf853f16f668132eaf2 (17:51): sees that the IPv4 TOS byte's definition has been really quite unstable over its history, and concludes that nobody will mind if he totally ignores the RFCs and uses it for something else",
        "cc097e0d7183ae8436e7df709553c8c0 (18:01): aha! innerText replaces linebreaks with &lt;br&gt;s",
        "cc097e0d7183ae8436e7df709553c8c0 (18:01): on setting",
        "cc097e0d7183ae8436e7df709553c8c0 (18:03): and &lt;br&gt;s turn into \\r\\n on getting",
        "b8810fee2f4a71f849f3f7409546d1d9 (18:05): cc097e0d7183ae8436e7df709553c8c0: thanks. not a problem in my case",
        "b8810fee2f4a71f849f3f7409546d1d9 (18:06): does alt='' participate in innerText?",
        "cc097e0d7183ae8436e7df709553c8c0 (18:17): b8810fee2f4a71f849f3f7409546d1d9: no",
        "cc097e0d7183ae8436e7df709553c8c0 (18:18): also, on getting, linebreaks (in text nodes) are turned into spaces",
        "cc097e0d7183ae8436e7df709553c8c0 (18:18): except if the element was &lt;pre&gt; (perhaps some others, too)",
        "3f2e2531201cfbf853f16f668132eaf2 (18:19): Does CSS white-space:pre affect linebreaks in innerText?",
        "b8810fee2f4a71f849f3f7409546d1d9 (18:20): Safari and Opera supposedly support innerText. I wonder how faithfully to IE.",
        "cc097e0d7183ae8436e7df709553c8c0 (18:23): 3f2e2531201cfbf853f16f668132eaf2: thankfully, no",
        "cc097e0d7183ae8436e7df709553c8c0 (18:23): opera's implementation is different from ie",
        "cc097e0d7183ae8436e7df709553c8c0 (18:24): finds further funny features when the element contains &lt;style&gt;s or &lt;script&gt;s",
        "cc097e0d7183ae8436e7df709553c8c0 (18:26): or &lt;comment&gt; :)",
        "cc097e0d7183ae8436e7df709553c8c0 (18:27): oh wait, &lt;comment&gt;s don't have child nodes"
    ],
    "person_ids": [
        "cc097e0d7183ae8436e7df709553c8c0",
        "3f2e2531201cfbf853f16f668132eaf2",
        "b8810fee2f4a71f849f3f7409546d1d9",
        "e3fb62ebfa4f36acf5cbff6a6ed0f2e0",
        "1adba86c435b5fe0f7ea043370b1636b"
    ]
}