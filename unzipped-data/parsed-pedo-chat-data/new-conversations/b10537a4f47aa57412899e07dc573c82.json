{
    "id": "b10537a4f47aa57412899e07dc573c82",
    "messages": [
        "80f918aef3f1d140e907e1780f13654a (07:57): hi everyone im trying to do load data from master but when i do i get really no reponse.",
        "80f918aef3f1d140e907e1780f13654a (07:57): mysql&gt; load data from master;",
        "80f918aef3f1d140e907e1780f13654a (07:57): Query OK, 0 rows affected (0.00 sec)",
        "80f918aef3f1d140e907e1780f13654a (07:57): can anyone tell me what i am doing wrong?",
        "f0db85810a6c71e0ed62fa0791ea4c54 (07:59): scio: is it loading?",
        "f0db85810a6c71e0ed62fa0791ea4c54 (08:00): scio: it only works for myisam",
        "2987999ecd797c35a1339b546a4f96bb (08:00): scio: That is a well known fact about LOAD DATA - it only works for MyIASM and I think Archive engines.",
        "96dfd26f27150b0122705f77958cd065 (08:14): Is having one table with one million rows worse (for the server, database, overhead?, etc.) than having one-hundred thousand tables with ten rows each?",
        "6be9b0734f86e147d100ff0a9d255159 (08:15): hmm [22:39] * groundup has quit IRC (Read error: 113 (No route to host)) I don't remember that",
        "6be9b0734f86e147d100ff0a9d255159 (08:15): ahh!",
        "80f918aef3f1d140e907e1780f13654a (08:18): right",
        "80f918aef3f1d140e907e1780f13654a (08:18): I am using MyISAM and no its not loading",
        "f0db85810a6c71e0ed62fa0791ea4c54 (08:18): scio: is the slave connected to the master?",
        "80f918aef3f1d140e907e1780f13654a (08:18): I am doing this on two different servers right now one is actually loading the other one gives me a response immmediately",
        "80f918aef3f1d140e907e1780f13654a (08:18): lokus: yes the slave is connected to the master",
        "f0db85810a6c71e0ed62fa0791ea4c54 (08:18): scio: confirm that first",
        "80f918aef3f1d140e907e1780f13654a (08:19): lokus: im positive.",
        "80f918aef3f1d140e907e1780f13654a (08:19): lokus: and if it wasnt connected id see error messages like id # 3 connecting to master...",
        "f0db85810a6c71e0ed62fa0791ea4c54 (08:20): scio: show slave status; and check if the io thread and sql thread running or not",
        "3c9e0df9c03973b455c5eb28cd422b14 (08:20): How can I copy the structure of a table, without copying any of the data?",
        "f0db85810a6c71e0ed62fa0791ea4c54 (08:21): Zal: there is an option in mysqldump",
        "80f918aef3f1d140e907e1780f13654a (08:21): lokus: they are not i do stop slave; before doing load data from master.",
        "f0db85810a6c71e0ed62fa0791ea4c54 (08:21): Zal: mysqldump --help      to see the available options",
        "3c9e0df9c03973b455c5eb28cd422b14 (08:21): lokus hm, ok. Nothing I could use in mysql's console?",
        "f0db85810a6c71e0ed62fa0791ea4c54 (08:21): scio: can yuo still load data when the slave is stopped?",
        "f0db85810a6c71e0ed62fa0791ea4c54 (08:22): Zal: oh, yuo can see create table syntax, there is someting for newer version, 4.1 +",
        "2987999ecd797c35a1339b546a4f96bb (08:22): Zal: how about CREATE TABLE newtable SELECT * FROM oldtable LIMIT 0",
        "f0db85810a6c71e0ed62fa0791ea4c54 (08:22): Jonathon: no good",
        "f0db85810a6c71e0ed62fa0791ea4c54 (08:22): there is something better, needs 4.1 +",
        "80f918aef3f1d140e907e1780f13654a (08:22): lokus: I believe the correct way to use &quot;load data from master&quot; is to first stop replication.",
        "2987999ecd797c35a1339b546a4f96bb (08:22): lokus: No? I have not tried it, but it should work?",
        "f0db85810a6c71e0ed62fa0791ea4c54 (08:22): scio: is it? i don;t use that, so i don;t know",
        "f0db85810a6c71e0ed62fa0791ea4c54 (08:23): Jonathon: you lost the indexes and maybe the column type could be different",
        "2987999ecd797c35a1339b546a4f96bb (08:23): scio: Yes, that is right. Althought having it running it no problem, as long as you don't get updates while you are trying to do load data, or the tables do not exist that it is trying to update.",
        "2987999ecd797c35a1339b546a4f96bb (08:24): lokus: True, but he said schema, not indexes ;)",
        "2987999ecd797c35a1339b546a4f96bb (08:24): How about SHOW CREATE TABLE then copy and paste",
        "3c9e0df9c03973b455c5eb28cd422b14 (08:25): yeah, that's pretty good I suppose for console use :-)",
        "2987999ecd797c35a1339b546a4f96bb (08:25): :)",
        "f0db85810a6c71e0ed62fa0791ea4c54 (08:25): if you use 4.1 or later, there is something even better",
        "f0db85810a6c71e0ed62fa0791ea4c54 (08:25): create table newtable  like oldtable",
        "3c9e0df9c03973b455c5eb28cd422b14 (08:26): yep just found that too, thanks",
        "80f918aef3f1d140e907e1780f13654a (08:26): Jonathon: any idea why I am having this problem?",
        "446d9324a8d1f25b16ce6d1761aaf05a (08:28): How do you make a new mysql.sock file if you delete your old one",
        "2987999ecd797c35a1339b546a4f96bb (08:29): scio: Do you have any replicate-database or replicate-ignore settings in your my.cnf?",
        "2987999ecd797c35a1339b546a4f96bb (08:29): Smirnov: Restart mysqld",
        "2987999ecd797c35a1339b546a4f96bb (08:30): lokus: Nice feature! I had missed that one actually. Might have a play with that myself :)",
        "446d9324a8d1f25b16ce6d1761aaf05a (08:30): crap",
        "446d9324a8d1f25b16ce6d1761aaf05a (08:32): any idea how to fix this",
        "446d9324a8d1f25b16ce6d1761aaf05a (08:32): touch: cannot touch `/var/lock/subsys/mysqld': No such file or directory",
        "2987999ecd797c35a1339b546a4f96bb (08:34): Smirnov: Just restart the mysql server - /etc/init.d/mysql under Linux (usually)",
        "034f5fe8494097bb274500182f17ebfc (08:35): With InnoDB, if I do all select for updates, can any inserts deadlock?  I wouldn't think so.. I just wanna make sure",
        "2987999ecd797c35a1339b546a4f96bb (08:35): scio: This may happen if you have grants setup for replication, but not the super and reload required for the load data command.",
        "2987999ecd797c35a1339b546a4f96bb (08:36): lakez: Not sure what you mean, but if you are worried about deadlocks on InnoDB, check out the transaction isolation level to adjust as required.",
        "f0db85810a6c71e0ed62fa0791ea4c54 (08:37): lakez: deadlock does happen when you lock things at different time",
        "034f5fe8494097bb274500182f17ebfc (08:38): Jonathon, i want 0 deadlocks.  Right now i'm using ... lock table statements all over the place but it takes away from the InnoDB abilities.   I can either go for .. writing a wrapper as I have all kinds of scripts using &quot;mysql &lt; file.sql&quot; .. and it will hit a deadlock, and the mysql client isn't wise enough to redo the transaction, so I would have to write a wrapper as each load has about 10 different transactions in it.. modifying",
        "80f918aef3f1d140e907e1780f13654a (08:38): Jonathon: what else could be wrong?",
        "f0db85810a6c71e0ed62fa0791ea4c54 (08:38): lakez: and innodb does next key locking, so it locks the next immediate row as well",
        "034f5fe8494097bb274500182f17ebfc (08:38): different data... so my new idea is to take off the table locks, insert into table... (hopefully no deadlocks) and then select for update ... then update the rows",
        "034f5fe8494097bb274500182f17ebfc (08:39): i'm running read committed right now, and I was wondering if I shoudl toggle that innodb_safe_binlog or whatever it is...",
        "034f5fe8494097bb274500182f17ebfc (08:39): unsafe for binlog",
        "debf42d77bb9315f721d2ef6f22c1bd2 (08:40): Is it possible to sort results of a field in a SELECT manually? Say I want a field called destination to display Phuket first, then Koh Samui, then Chiang Mai, then Krabi, then Other",
        "debf42d77bb9315f721d2ef6f22c1bd2 (08:40): is that possible in one select statement?",
        "034f5fe8494097bb274500182f17ebfc (08:40): Now I could rewrite everything with a wrapper to retry the rollbacked transactions.. but that would take a week to do :(  ... I'm hoping I can just change a few loaders to insert, then select for update, then update ... and no deadlocks.. I gotta try it in an isolated session/debug session",
        "034f5fe8494097bb274500182f17ebfc (08:41): mugger, the easiest way is create your specific ordered enum and then order by enumcolumn;",
        "034f5fe8494097bb274500182f17ebfc (08:41): if you know the actual results .. it never changes",
        "debf42d77bb9315f721d2ef6f22c1bd2 (08:42): lakez: mmm enum?",
        "debf42d77bb9315f721d2ef6f22c1bd2 (08:43): lakez: like create additional field called order? where phuket = 1, koh samui = 2, chiang mai = 3 etc?",
        "debf42d77bb9315f721d2ef6f22c1bd2 (08:43): then sort by order asc?",
        "2987999ecd797c35a1339b546a4f96bb (08:43): scio: Were your grants correct?",
        "80f918aef3f1d140e907e1780f13654a (08:51): Jonathon: yes they are perfect",
        "2987999ecd797c35a1339b546a4f96bb (08:52): scio: Well if it is connecting, but not copying anything, the two obvious reasons are you do not have permission to read the data, or you are filtering all the databases that will be replicated?!?",
        "debf42d77bb9315f721d2ef6f22c1bd2 (08:54): lakez: is that what you meant?",
        "f0db85810a6c71e0ed62fa0791ea4c54 (08:57): lakez: maybe you can try to capture the return code of mysql cli, it returns 0 when succeed and 1 when fail, i don;t know exactly what return code value available",
        "f0db85810a6c71e0ed62fa0791ea4c54 (08:58): lakez: i did a small test, and get 1 when lock timeout and rollback",
        "f0db85810a6c71e0ed62fa0791ea4c54 (08:58): lakez: 0 when it succeed"
    ],
    "person_ids": [
        "80f918aef3f1d140e907e1780f13654a",
        "f0db85810a6c71e0ed62fa0791ea4c54",
        "2987999ecd797c35a1339b546a4f96bb",
        "96dfd26f27150b0122705f77958cd065",
        "6be9b0734f86e147d100ff0a9d255159",
        "3c9e0df9c03973b455c5eb28cd422b14",
        "446d9324a8d1f25b16ce6d1761aaf05a",
        "034f5fe8494097bb274500182f17ebfc",
        "debf42d77bb9315f721d2ef6f22c1bd2"
    ]
}