{
    "id": "c4e21449fd9a2939429bd03d8c3b274f",
    "messages": [
        "74d2430f56807048bb296777050ceba4 (02:50): !m prism alter table",
        "ac5c74b64b4b8352ef2f181affb5ac2a (02:50): prism: (ALTER TABLE Syntax) : <a href=\"http://dev.mysql.com/doc/mysql/en/ALTER_TABLE.html\">http://dev.mysql.com/doc/mysql/en/ALTER_TABLE.html</a>",
        "74d2430f56807048bb296777050ceba4 (02:54): can anyone see a problem with 'ALTER TABLE corepages ADD column (source VARCHAR(50)) AFTER title; '",
        "ba860603654021cb603bbd2aec517155 (02:54): I have a problem, which is presented here: <a href=\"http://rafb.net/paste/results/2962qT94.html\">http://rafb.net/paste/results/2962qT94.html</a> Solution?",
        "0311963ee43c84f5d278b5ff866a7782 (02:54): now I realized brian isn't the brian I thought he is.",
        "ba860603654021cb603bbd2aec517155 (02:55): Huh?",
        "0311963ee43c84f5d278b5ff866a7782 (02:55): PRIMARY KEY (a,b)",
        "ba860603654021cb603bbd2aec517155 (02:55): Well, in postgres I do UNIQUE(a,b)",
        "ba860603654021cb603bbd2aec517155 (02:55): But it doesn't seem to work in MySQL?",
        "0311963ee43c84f5d278b5ff866a7782 (02:55): or UNIQUE (a,b)",
        "0311963ee43c84f5d278b5ff866a7782 (02:55): you can do it either way",
        "ba860603654021cb603bbd2aec517155 (02:55): Maybe it's because it's a primary key so it's making it a unique.",
        "74d2430f56807048bb296777050ceba4 (02:55): ah ha got it",
        "0311963ee43c84f5d278b5ff866a7782 (02:56): prism: 'column' ? :)",
        "74d2430f56807048bb296777050ceba4 (02:56): mysql&gt; ALTER TABLE corepages ADD column source VARCHAR(50) AFTER title;",
        "74d2430f56807048bb296777050ceba4 (02:56): was what it wanted",
        "0311963ee43c84f5d278b5ff866a7782 (02:56): you don't need 'column' anyway, iirc",
        "74d2430f56807048bb296777050ceba4 (02:57): :-)",
        "6857d579004c31f1efc078cb6c8c543f (03:05): uh... if I have a table T with four relevant fields, a,b,c,d, and I select by a and b, group by c, and order by d - how do I avoid a file sort?",
        "6857d579004c31f1efc078cb6c8c543f (03:06): i have a composite key over all four fields, in that order; explain sais it's being used.",
        "6857d579004c31f1efc078cb6c8c543f (03:06): but i still see a filesort...",
        "6857d579004c31f1efc078cb6c8c543f (03:07): i whish explain could just say what the &quot;perfect index&quot; for a query would be",
        "0121a3be779bf2eb7d12af9908c7aab8 (03:14): Duesentrieb: how big is the table?",
        "ab57c6cad0e8dd4d7644bf98f989a728 (03:16): domas: thanks a lot for the hint of the position, i have really skiped that part every time. now my circular multi-master thing is working like a charm.",
        "0121a3be779bf2eb7d12af9908c7aab8 (03:16): Duesentrieb: the file sort is probably due to the sort, what does explain say if you remove the order by clause?",
        "202092f3678915809a142968ed83cbf5 (03:17): Duesentrieb: you can't do that in mysql, no matter how you define the index",
        "202092f3678915809a142968ed83cbf5 (03:17): mysql cannot use indexes when you have different order by and group by columns",
        "202092f3678915809a142968ed83cbf5 (03:18): mysql cannot use indexes *for sorting* when you have different order by and group by columns",
        "6857d579004c31f1efc078cb6c8c543f (03:21): zircu, pCarsten: ok, if i leave out the GROUP BY or the ORDER BY, i get &quot;using where&quot;.",
        "6857d579004c31f1efc078cb6c8c543f (03:21): so... would it make sense for me to do the sorting in client logic?",
        "6857d579004c31f1efc078cb6c8c543f (03:21): what is sorted anyway?... My result sets are relatviely small (like ten rows or so)",
        "0121a3be779bf2eb7d12af9908c7aab8 (03:21): Duesentrieb: that will probably be worse",
        "202092f3678915809a142968ed83cbf5 (03:21): not unless the server is very heavily loaded",
        "6857d579004c31f1efc078cb6c8c543f (03:22): well, tehre query currently takes far too long.",
        "202092f3678915809a142968ed83cbf5 (03:23): what do you mean by a small result set? do you get 10 rows because you enforce a LIMIT?",
        "202092f3678915809a142968ed83cbf5 (03:24): paste the output of EXPLAIN into the pastebin and let's have a look at it",
        "6857d579004c31f1efc078cb6c8c543f (03:25): yes, should rarely be more than 10 rows without a limit.",
        "6857d579004c31f1efc078cb6c8c543f (03:25): maybe 50, sometimes.",
        "6857d579004c31f1efc078cb6c8c543f (03:25): the table used is quite large though (several million entries).",
        "6857d579004c31f1efc078cb6c8c543f (03:25): i'll run the explain again and post it, give me a minute",
        "202092f3678915809a142968ed83cbf5 (03:26): sure, but &quot;using filesort&quot; will not matter when all that's being sorted is a few rows",
        "0121a3be779bf2eb7d12af9908c7aab8 (03:26): Duesentrieb: there is a where clause in this as well?",
        "6857d579004c31f1efc078cb6c8c543f (03:26): well, yes, that was one of my questions, actually.",
        "6857d579004c31f1efc078cb6c8c543f (03:26): yes, there's a where clause",
        "6857d579004c31f1efc078cb6c8c543f (03:26): hold on",
        "6857d579004c31f1efc078cb6c8c543f (03:30): pCarsten, zircu: <a href=\"http://pastebin.ca/83591\">http://pastebin.ca/83591</a>",
        "6857d579004c31f1efc078cb6c8c543f (03:30): but if you say it doesn't matter much...",
        "6857d579004c31f1efc078cb6c8c543f (03:31): ugh. i hate optimizing queries on a shared box. Timing gets meaningless, because it depends on load...",
        "6857d579004c31f1efc078cb6c8c543f (03:31): the query is much faster now o_O",
        "202092f3678915809a142968ed83cbf5 (03:33): Duesentrieb: that big, multi-field index may in fact be hurting your query. 267 bytes/row is a lot of data to read in",
        "6857d579004c31f1efc078cb6c8c543f (03:34): well, 255 of this are for WHERE meta_terms.term = 'Wald'",
        "6857d579004c31f1efc078cb6c8c543f (03:34): can't get around that",
        "202092f3678915809a142968ed83cbf5 (03:35): sure you can. You can define the index so that it only indexes on e.g. the first 10 chars of the word",
        "202092f3678915809a142968ed83cbf5 (03:36): gives you a few more rows to search through, but a *lot* less data to read from the disk",
        "6857d579004c31f1efc078cb6c8c543f (03:37): given that it'S an index over 5.5 million rows with natural language words in the term field, i doubt that would help.",
        "6857d579004c31f1efc078cb6c8c543f (03:37): hm, it may...",
        "6857d579004c31f1efc078cb6c8c543f (03:38): is there an efficient way to see the average and median length of a varchar field?",
        "6857d579004c31f1efc078cb6c8c543f (03:38): my guess is that 90% is &lt; 16 chars...",
        "6857d579004c31f1efc078cb6c8c543f (03:38): hm...",
        "202092f3678915809a142968ed83cbf5 (03:38): Duesentrieb: also, why do you use meta_meanings.* ? Are you *sure* you're using all the fields in that table?",
        "202092f3678915809a142968ed83cbf5 (03:39): you can't use the median length for anything. It's the distribution that counts",
        "6857d579004c31f1efc078cb6c8c543f (03:39): actually... nearly all. and the one i don't use is *quite* large (mediumtext).",
        "6857d579004c31f1efc078cb6c8c543f (03:39): thanks for that one...",
        "202092f3678915809a142968ed83cbf5 (03:39): you may well have a good uniqueness already withing the firt 6 or 7 characters",
        "6857d579004c31f1efc078cb6c8c543f (03:40): pCarsten: well, getting an idea of how long those fields are in general would be nice :) is there a strlen function?"
    ],
    "person_ids": [
        "74d2430f56807048bb296777050ceba4",
        "ac5c74b64b4b8352ef2f181affb5ac2a",
        "ba860603654021cb603bbd2aec517155",
        "0311963ee43c84f5d278b5ff866a7782",
        "6857d579004c31f1efc078cb6c8c543f",
        "0121a3be779bf2eb7d12af9908c7aab8",
        "ab57c6cad0e8dd4d7644bf98f989a728",
        "202092f3678915809a142968ed83cbf5"
    ]
}