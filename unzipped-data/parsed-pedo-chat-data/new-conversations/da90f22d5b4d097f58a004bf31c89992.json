{
    "id": "da90f22d5b4d097f58a004bf31c89992",
    "messages": [
        "69b0d3dfe919a6b860a9fac82de52a7e (22:23): jgraham: doesn't seem that hard to me, but ok",
        "4d647473081c3ad729446a01a377813b (22:33): I wonder what is supposed to be wrong with the desire to interoperate even in case of error.",
        "69b0d3dfe919a6b860a9fac82de52a7e (22:35): it's not pretty?",
        "4d647473081c3ad729446a01a377813b (22:36): Granted, reality often sucks.",
        "69b0d3dfe919a6b860a9fac82de52a7e (22:36): sometimes i kinda just want to be like &quot;web standards development is not a game, if you're not willing to make hard choices that compromise spec purity when doing so is needed to make users have a better experience, get out of the water and get back into the wading pool&quot;",
        "69b0d3dfe919a6b860a9fac82de52a7e (22:37): i'm so tired of having to argue with people who still seem to think the web is a research project",
        "61831986744b882b4371990cc1863b19 (22:54): hsivonen: on the new http://hsivonen.iki.fi/doctype/ i think the phrase &quot;(e.g. mit.edu!)&quot; needs some external citation -- i read the irc backscroll so i know the reference, but other people wouldn't",
        "47223c0fa41aa7e167a2d1fd2740cbb8 (22:59): c480405f460f7a61964569640a6cd059: so one issue with the async lock for local storage (that i don't believe has been addressed) is what happens to closures that capture the localstorage reference",
        "c480405f460f7a61964569640a6cd059 (23:00): 47223c0fa41aa7e167a2d1fd2740cbb8, i did in fact comment on that",
        "c480405f460f7a61964569640a6cd059 (23:01): 47223c0fa41aa7e167a2d1fd2740cbb8, if the object passed to the callback is accessed after the callback has ended we need that to fail",
        "c480405f460f7a61964569640a6cd059 (23:01): 47223c0fa41aa7e167a2d1fd2740cbb8, and define how it fails",
        "c480405f460f7a61964569640a6cd059 (23:01): 47223c0fa41aa7e167a2d1fd2740cbb8, and define what happens if you access that object inside another callback (should the object get reenabled again, or should a new one be created on each callback)",
        "c480405f460f7a61964569640a6cd059 (23:02): 47223c0fa41aa7e167a2d1fd2740cbb8, the important part is accessing the storage after the callback is failing. The rest is less important IMHO, but needs to be defined",
        "47223c0fa41aa7e167a2d1fd2740cbb8 (23:03): c480405f460f7a61964569640a6cd059: that's what i was thinking -- sorry i must have missed that email",
        "69b0d3dfe919a6b860a9fac82de52a7e (23:03): btw if anyone is keeping track of examples of microsoft knowingly hurting web standards, note the way this e-mail was never actually followed up on, despite the promise therein: http://lists.w3.org/Archives/Public/public-html-comments/2008Jun/0020.html",
        "c480405f460f7a61964569640a6cd059 (23:03): 47223c0fa41aa7e167a2d1fd2740cbb8, it was a long email :)",
        "47223c0fa41aa7e167a2d1fd2740cbb8 (23:03): c480405f460f7a61964569640a6cd059: heh",
        "61831986744b882b4371990cc1863b19 (23:10): hsivonen: another +1 for adding a table of contents, and perhaps auto-generating nested section numbers like html5 spec does",
        "61831986744b882b4371990cc1863b19 (23:16): someone needs to make philip's ie8 blacklist into a web service",
        "61831986744b882b4371990cc1863b19 (23:17): validator.nu could hook into it to tell you what rendering mode IE8 would use for your site",
        "042dd99eb0ff8653814e445ca0093427 (23:24): 69b0d3dfe919a6b860a9fac82de52a7e: shouldn't someone follow up on that now?",
        "c480405f460f7a61964569640a6cd059 (23:24): 69b0d3dfe919a6b860a9fac82de52a7e, did they add API to support explicit locking and unlocking?",
        "4d647473081c3ad729446a01a377813b (23:25): they don't have that",
        "4d647473081c3ad729446a01a377813b (23:25): they have an event that is dispatched when stuff is written to disk",
        "4d647473081c3ad729446a01a377813b (23:25): and have some remainingStorage attribute",
        "4d647473081c3ad729446a01a377813b (23:25): that was in the latest beta/rc, things might have changed in final",
        "042dd99eb0ff8653814e445ca0093427 (23:25): I thought they had a commit() method",
        "042dd99eb0ff8653814e445ca0093427 (23:26): ISTR they removed remainingStorage",
        "4d647473081c3ad729446a01a377813b (23:26): they used to have that, yes",
        "4d647473081c3ad729446a01a377813b (23:26): ISTR?",
        "042dd99eb0ff8653814e445ca0093427 (23:26): they took commit() out?",
        "042dd99eb0ff8653814e445ca0093427 (23:26): I Seem To Recall",
        "4d647473081c3ad729446a01a377813b (23:26): to my knowledge the latest RC did have remainingStorage and did not have commit()",
        "4d647473081c3ad729446a01a377813b (23:28): http://msdn.microsoft.com/en-us/library/cc197062(VS.85).aspx &quot;confirms&quot; that",
        "042dd99eb0ff8653814e445ca0093427 (23:28): oh",
        "042dd99eb0ff8653814e445ca0093427 (23:28): remainingSpace is no longer enumerable, but I guess it's still there",
        "042dd99eb0ff8653814e445ca0093427 (23:28): After shipping the RC build we listened to feedback on our HTML 5 DOM storage implementation.  We acted on this feedback by making two changes to IE8\u201a\u00c4\u00f4s DOM storage implementation so that we match the HTML 5 spec.  The first change is that we now return null and not undefined for keys that don\u201a\u00c4\u00f4t exist in DOM storage.  The second change is that we removed the length and remainingSpace properties when iterating DOM storage using a for..in statement.",
        "4d647473081c3ad729446a01a377813b (23:29): there was a lot more feedback, including how to make their XML backend non-well-formed",
        "4d647473081c3ad729446a01a377813b (23:30): what 69b0d3dfe919a6b860a9fac82de52a7e pointed out above, and how storagecommit was not defined anywhere",
        "ab7faae5d7b250ea8606486575f8f79c (23:34): 61831986744b882b4371990cc1863b19: I imagine the main difficulty is you'd have to run the service on a Windows machine with IE8 and automatic updates",
        "ab7faae5d7b250ea8606486575f8f79c (23:34): (and I only have Linux boxes)",
        "ab7faae5d7b250ea8606486575f8f79c (23:35): Maybe it'd be a pretty trivial service since you just embed Trident in your service and read res://iecompat.dll/iecompatdata.xml",
        "ab7faae5d7b250ea8606486575f8f79c (23:35): (unless that's IE-only)",
        "a11aabeeceeae6b8cb5d12ea06b56554 (23:39): http://www.ietf.org/internet-drafts/draft-sneddon-atom-export-00.txt",
        "4d647473081c3ad729446a01a377813b (23:45): I thought you were doing useful work on HTTP parsing? :p",
        "a11aabeeceeae6b8cb5d12ea06b56554 (23:46): Oh, I was. This is just closer to being able to be published :P",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:06): 042dd99eb0ff8653814e445ca0093427: their begin() and commit() methods are not for threading",
        "4d647473081c3ad729446a01a377813b (00:07): (they don't have them anymore)",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:07): oh they dropped those?",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:07): interesting",
        "4d647473081c3ad729446a01a377813b (00:08): I think begin() is implicit and commit() is prolly run at some timeout at which point they dispatch the storagecommit event.",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:08): begin() is definitely not implicit",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:08): they have no implicit locking",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:08): that's one of the problems",
        "4d647473081c3ad729446a01a377813b (00:09): Well, they must have something now...",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:09): why?",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:10): if you run the following two scripts in two different windows in IE8:",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:10): localStorage.foo = 0; while (true) localStorage.foo = parseInt(localStorage.foo) + 1;",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:10): var x = 0; while (localStorage.foo == localStorage.foo) x += 1; x",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:10): the second will return.",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:11): so they have no implicit cross-frame locking as far as i can tell",
        "4d647473081c3ad729446a01a377813b (00:12): sorry, nm",
        "042dd99eb0ff8653814e445ca0093427 (00:12): we don't want to follow IE8 down this road",
        "4d647473081c3ad729446a01a377813b (00:12): I'm tired from breaking my head over URLs",
        "4d647473081c3ad729446a01a377813b (00:13): and I've no real opinion on this anyway other than that I think it'd be a annoying if we changed localStorage again",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:14): well IE8 doesn't implement the spec",
        "4d647473081c3ad729446a01a377813b (00:17): 69b0d3dfe919a6b860a9fac82de52a7e, by that argument we can break &lt;canvas&gt;",
        "4d647473081c3ad729446a01a377813b (00:17): 69b0d3dfe919a6b860a9fac82de52a7e, afaict IE8 has a usuable impl",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:17): oh i wasn't making an argument",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:18): just an observation",
        "4d647473081c3ad729446a01a377813b (00:18): they do not allow all possible key/value strings, they have a custom DOM attribute and event, the solution works poorly for multiple top-level browsing contexts, but other than that it pretty much just works as described",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:20): i don't think most authors will notice, sadly",
        "4d647473081c3ad729446a01a377813b (00:21): the multiple top-level browsing contexts part?",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:21): any of those issues",
        "4d647473081c3ad729446a01a377813b (00:23): I'm sort of surprised neither Microsoft nor Google brought up the issues with localStorage and multiple processes",
        "4d647473081c3ad729446a01a377813b (00:23): (when it was re-designed)",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:24): google is who did bring up the issue :-)",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:24): though originally with workers",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:24): it's not a HUGE problem with top-level browsing contexts",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:24): just a bit of additional latency",
        "a11aabeeceeae6b8cb5d12ea06b56554 (00:25): 69b0d3dfe919a6b860a9fac82de52a7e: You just use pico from pine?",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:25): hm?",
        "a11aabeeceeae6b8cb5d12ea06b56554 (00:25): 69b0d3dfe919a6b860a9fac82de52a7e: As a message editor?",
        "a11aabeeceeae6b8cb5d12ea06b56554 (00:25): (really random question)",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:25): i just use pine",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:25): occasionally escaping to emacs if things get complicated",
        "a11aabeeceeae6b8cb5d12ea06b56554 (00:26): pine opens up another program, by default pico, to write messages",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:26): ok",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:26): it says &quot;PINE&quot; at the top of my editor window",
        "4d647473081c3ad729446a01a377813b (00:26): 69b0d3dfe919a6b860a9fac82de52a7e, ah yeah, the spec mentions that already",
        "ab7faae5d7b250ea8606486575f8f79c (00:27): About http://www.w3.org/mid/<email/> : perhaps it would be useful to say what happens if you a.setAttribute('href', 'http://www.example.com/zero\\u0000here/') since that seems more like what the question intended",
        "4d647473081c3ad729446a01a377813b (00:28): didn't I answer that too?",
        "4d647473081c3ad729446a01a377813b (00:29): anyway, thinking about it some more I'm not sure that'd work either, though setting window.location might",
        "ab7faae5d7b250ea8606486575f8f79c (00:29): Oh, right, I didn't notice that sentence",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:32): woo, http://tools.ietf.org/html/draft-hixie-thewebsocketprotocol now redirects to -05",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:32): i wonder why that suddenly works again",
        "69b0d3dfe919a6b860a9fac82de52a7e (00:32): maybe my whining to them actually had an effect",
        "ab7faae5d7b250ea8606486575f8f79c (00:43): Dotnetdotcom.org says they're in the process of putting their data on http://aws.amazon.com/publicdatasets/ , which should be good since you could process the data on EC2 without downloading anything",
        "ab7faae5d7b250ea8606486575f8f79c (00:44): (where &quot;their data&quot; is a 9 million page sample from a 7 billion page crawl)",
        "a11aabeeceeae6b8cb5d12ea06b56554 (00:48): wonders whether uninstalling specific things is the right way to reduce clutter on this computer, with the amount of clutter, instead of uninstalling all and starting again",
        "61831986744b882b4371990cc1863b19 (00:54): ab7faae5d7b250ea8606486575f8f79c of course i was thinking of running the service on an app hosting provider like appengine and just updating it once a day from an auto-updating windows machine",
        "61831986744b882b4371990cc1863b19 (00:55): but i don't have an always-on windows machine, so i can't do it",
        "4d647473081c3ad729446a01a377813b (00:59): are there any cool people still running Windows anyways?",
        "69b0d3dfe919a6b860a9fac82de52a7e (01:04): i wonder if the http people have complained to the ietf tools people about the submission tool using a GET request for posting confirmation",
        "4d647473081c3ad729446a01a377813b (01:20): 69b0d3dfe919a6b860a9fac82de52a7e, arguably the twitter message should be prefixed with the actual spec it affects, not &quot;HTML5&quot; for all",
        "69b0d3dfe919a6b860a9fac82de52a7e (01:35): 4d647473081c3ad729446a01a377813b: my script doesn't know which spec it affects"
    ],
    "person_ids": [
        "69b0d3dfe919a6b860a9fac82de52a7e",
        "4d647473081c3ad729446a01a377813b",
        "61831986744b882b4371990cc1863b19",
        "47223c0fa41aa7e167a2d1fd2740cbb8",
        "c480405f460f7a61964569640a6cd059",
        "042dd99eb0ff8653814e445ca0093427",
        "ab7faae5d7b250ea8606486575f8f79c",
        "a11aabeeceeae6b8cb5d12ea06b56554"
    ]
}