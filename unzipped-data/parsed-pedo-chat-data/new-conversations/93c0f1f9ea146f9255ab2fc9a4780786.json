{
    "id": "93c0f1f9ea146f9255ab2fc9a4780786",
    "messages": [
        "2f58f939be5aa367cf31ed03e2ace23a (20:30): hey, simple newbie question - how do i make an existing samba user a samba administrator from the linux command line?",
        "ce44ec5248a0d2ee565809af7df370fc (20:31): hey sambas :) ... is there a way to optimze samba? i use it to play mp3s over the network.. but if about 40 files get read my mp3 players always get hickups...",
        "ce44ec5248a0d2ee565809af7df370fc (20:32): i think because the id3 tags all get read... sometimes my player(software) crashes",
        "1609d51876d7982b59be3a9751bf10a9 (20:37): hello",
        "1609d51876d7982b59be3a9751bf10a9 (20:38): is it possible to use different backends for user accounts and for machine accounts? i.e. ... users in ldap and machines in tdb file..",
        "7d73032c7dd81d64b083e059107ff8dd (20:42): May I ask ccache-related questions here?",
        "1aabac6d068eef6a7bad3fdf50a05cc8 (20:49): lib/util_sock.c:send_smb(765)",
        "1aabac6d068eef6a7bad3fdf50a05cc8 (20:49): Error writing 4 bytes to client. -1. (Connection reset by peer)",
        "869bc7b89036e2454e91cbfe9faaf52a (20:51): leOn: you can use 2 backends, so lng as the accounts are uniqe in each",
        "869bc7b89036e2454e91cbfe9faaf52a (20:51): leOn: samba doens't really care if it's a user or machine accoutn though",
        "1aabac6d068eef6a7bad3fdf50a05cc8 (20:52): ||cw did you see the log from the smbd, i cant get the machine in the domain....",
        "1aabac6d068eef6a7bad3fdf50a05cc8 (20:53): ||cw i put the machine account with the $ and when trying to get the pc in the domain, prompt to type the user and passwdd,  i did it but no work",
        "869bc7b89036e2454e91cbfe9faaf52a (20:53): dm: why not just use an &quot;add machine script&quot;",
        "869bc7b89036e2454e91cbfe9faaf52a (20:54): chrein: what's ccache",
        "7d73032c7dd81d64b083e059107ff8dd (20:54): ||cw: a compiler cache written by tridgell",
        "542ebcbcf6ee466a1780913e2c800716 (20:55): <a href=\"http://www.microsoft.com/windowsserver2003/\">http://www.microsoft.com/windowsserver2003/</a> &lt;- 3,400,000,000+ users can't be wrong&quot;)",
        "1aabac6d068eef6a7bad3fdf50a05cc8 (20:55): ||cw i have the add machine script in the smb.conf, but what you mean?",
        "869bc7b89036e2454e91cbfe9faaf52a (20:55): dm: then don't manualy add the account",
        "869bc7b89036e2454e91cbfe9faaf52a (20:55): it probably didn't work becuase the accoutn was already there",
        "1aabac6d068eef6a7bad3fdf50a05cc8 (20:55): ||cw so how can i add the account if, not using the console and user add.....",
        "869bc7b89036e2454e91cbfe9faaf52a (20:56): dm: add machine script adds the account",
        "869bc7b89036e2454e91cbfe9faaf52a (20:56): that's the whole point of it",
        "869bc7b89036e2454e91cbfe9faaf52a (20:57): chrein: well, I guess you could ask, but I don't think anyone will be able to answer",
        "1aabac6d068eef6a7bad3fdf50a05cc8 (20:58): ||cw sorry, i dont understand...  im using a terminal ssh, i did useradd machinename$, and them smbpasswd -a -m machinename is it correct?",
        "869bc7b89036e2454e91cbfe9faaf52a (20:58): dm: right, DON&quot;T DO THAT",
        "869bc7b89036e2454e91cbfe9faaf52a (20:58): let the &quot;add machine script&quot; in smb.conf do its thing",
        "1aabac6d068eef6a7bad3fdf50a05cc8 (21:00): ||cw ok ok there is no need to do it mannually, and now.. i must to change the machine name??",
        "1aabac6d068eef6a7bad3fdf50a05cc8 (21:02): ||cw or comment the addmachine script in the smb.conf??",
        "1609d51876d7982b59be3a9751bf10a9 (21:03): ||cw: so all i have to make sure is the account uniqueness and that the machine account script does the right stuff (create local accounts)",
        "869bc7b89036e2454e91cbfe9faaf52a (21:04): dm: useradd already does that check",
        "1609d51876d7982b59be3a9751bf10a9 (21:05): i'm only a bit confused about one thing ... how does it know if the account should be stored under the tdb or the ldap directory",
        "869bc7b89036e2454e91cbfe9faaf52a (21:05): you can delete the broken acounts",
        "869bc7b89036e2454e91cbfe9faaf52a (21:05): leOn: you have to create them there, via running the right scripts",
        "1aabac6d068eef6a7bad3fdf50a05cc8 (21:05): ||cw so what can i do? changue the machine name or ??",
        "869bc7b89036e2454e91cbfe9faaf52a (21:05): leOn: multiple backend support is primarily made for migration",
        "1609d51876d7982b59be3a9751bf10a9 (21:05): ok ... so besides the regular adduser stuff i'll have to feed the tdb manually ...",
        "869bc7b89036e2454e91cbfe9faaf52a (21:05): dm: why do you think you need to change it",
        "869bc7b89036e2454e91cbfe9faaf52a (21:06): leOn: you could have your add machine script use the tdb",
        "1609d51876d7982b59be3a9751bf10a9 (21:06): ||cw: in my case, i REALLY would like to leave the machine accounts out of my ldap directory ... for now at least..",
        "1aabac6d068eef6a7bad3fdf50a05cc8 (21:06): ||cw so i think the problem that samba is trying to create the machine account but i did it mannualy",
        "869bc7b89036e2454e91cbfe9faaf52a (21:06): leOn: also I'd recomend puttin ghte tdb first in the order as it's faster to fail",
        "1609d51876d7982b59be3a9751bf10a9 (21:06): yep.. good point",
        "ea83eaba0531e73b751e055cf37d82d7 (21:06): lol @ ||cw",
        "869bc7b89036e2454e91cbfe9faaf52a (21:06): dm: yes, so delete the machine account you made",
        "869bc7b89036e2454e91cbfe9faaf52a (21:07): Jymmm: yeah, I got like 4 convo's going at once :D",
        "ea83eaba0531e73b751e055cf37d82d7 (21:08): ||cw better you than me!",
        "869bc7b89036e2454e91cbfe9faaf52a (21:09): it's a great work avoidance exorcise",
        "869bc7b89036e2454e91cbfe9faaf52a (21:09): last day before a week vacation, I'm not changing a damned thing around here",
        "ea83eaba0531e73b751e055cf37d82d7 (21:09): I got WAY TOO MANY of those... and it be a bitch to fire myself",
        "1609d51876d7982b59be3a9751bf10a9 (21:10): one other thing ... if i have several domain user accounts, in the same ldap tree, i.e. different SIDs but with the same -512 magic suffix ... i should have any troubles with my different domains, right ?",
        "1609d51876d7982b59be3a9751bf10a9 (21:10): i'm sorry .. i meant domain administrator accounts",
        "869bc7b89036e2454e91cbfe9faaf52a (21:10): leOn: as long as the login names are unique as well",
        "869bc7b89036e2454e91cbfe9faaf52a (21:11): if you really need different domains, I'd suggest putting them in differrent OU's",
        "1609d51876d7982b59be3a9751bf10a9 (21:11): that'll be rather simple ... admin-domainname or something ...",
        "ea83eaba0531e73b751e055cf37d82d7 (21:11): multiple domains?!  Ewwwwwwwwwwwwwwwwwwwww",
        "869bc7b89036e2454e91cbfe9faaf52a (21:11): here-here",
        "1609d51876d7982b59be3a9751bf10a9 (21:12): as long as i can use only one OU for all my users...",
        "1609d51876d7982b59be3a9751bf10a9 (21:12): i.e. ... ou=users,blabla",
        "1609d51876d7982b59be3a9751bf10a9 (21:12): ou=domainX",
        "1609d51876d7982b59be3a9751bf10a9 (21:12): ou=domainY",
        "1609d51876d7982b59be3a9751bf10a9 (21:12): etc",
        "ea83eaba0531e73b751e055cf37d82d7 (21:12): what joose think this is active directory or sumthin",
        "1609d51876d7982b59be3a9751bf10a9 (21:12): inside each ou=domainXYZ, i'd have the regular domain entries",
        "1609d51876d7982b59be3a9751bf10a9 (21:13): -512, -513, -514, etc",
        "1609d51876d7982b59be3a9751bf10a9 (21:13): makes sense?",
        "1609d51876d7982b59be3a9751bf10a9 (21:13): of course i cannot specify any OU in the search base ...",
        "1609d51876d7982b59be3a9751bf10a9 (21:14): i'm only sad that i can't have multiple domains for each user..",
        "1609d51876d7982b59be3a9751bf10a9 (21:15): so i'll have to go with trust relations",
        "ea83eaba0531e73b751e055cf37d82d7 (21:15): you mean have a user in multiple domains?",
        "869bc7b89036e2454e91cbfe9faaf52a (21:15): o_O",
        "1609d51876d7982b59be3a9751bf10a9 (21:15): yes, but using the same ldap backend",
        "869bc7b89036e2454e91cbfe9faaf52a (21:15): why do you need all these domains?",
        "1609d51876d7982b59be3a9751bf10a9 (21:15): different leves of security",
        "1609d51876d7982b59be3a9751bf10a9 (21:15): levels",
        "869bc7b89036e2454e91cbfe9faaf52a (21:16): ever heard of groups?",
        "1609d51876d7982b59be3a9751bf10a9 (21:16): i mean REALLY different levels of security",
        "ea83eaba0531e73b751e055cf37d82d7 (21:16): and groups in groups",
        "1609d51876d7982b59be3a9751bf10a9 (21:16): different networks, etc",
        "869bc7b89036e2454e91cbfe9faaf52a (21:16): vlans",
        "1609d51876d7982b59be3a9751bf10a9 (21:16): man .. i don't make the rules",
        "1609d51876d7982b59be3a9751bf10a9 (21:17): =)",
        "869bc7b89036e2454e91cbfe9faaf52a (21:17): bdc's and optionaly ldap slaves",
        "ea83eaba0531e73b751e055cf37d82d7 (21:17): you dont need multiple domains, you need HW PKI",
        "869bc7b89036e2454e91cbfe9faaf52a (21:17): s/rule/lack of understanding/",
        "869bc7b89036e2454e91cbfe9faaf52a (21:17): seperating the domain increases complexity and does NOT improve security",
        "1609d51876d7982b59be3a9751bf10a9 (21:17): the DCs won't even connect directly to the ldap backend",
        "1609d51876d7982b59be3a9751bf10a9 (21:18): they'll use an ldap proxy",
        "869bc7b89036e2454e91cbfe9faaf52a (21:18): right, but all those hashes are still available",
        "1609d51876d7982b59be3a9751bf10a9 (21:18): no user info stored locally anywhere",
        "ea83eaba0531e73b751e055cf37d82d7 (21:18): ands DC's can cache credentials",
        "869bc7b89036e2454e91cbfe9faaf52a (21:18): and so query-able, and so brute-forceable",
        "1609d51876d7982b59be3a9751bf10a9 (21:18): they can be retrieved, but aren't stored",
        "ea83eaba0531e73b751e055cf37d82d7 (21:18): and authenticate againest another dc",
        "ea83eaba0531e73b751e055cf37d82d7 (21:19): as in the case of PDC/BDC's",
        "869bc7b89036e2454e91cbfe9faaf52a (21:19): just seperating the networks and using routing does about as much as is effective for security",
        "1609d51876d7982b59be3a9751bf10a9 (21:20): ||cw: there MUST be storage deferentiation",
        "1609d51876d7982b59be3a9751bf10a9 (21:20): hmm.. differentiation",
        "869bc7b89036e2454e91cbfe9faaf52a (21:20): right, and you don't have it",
        "869bc7b89036e2454e91cbfe9faaf52a (21:21): doe the ldap proxy filter based on SID?",
        "1609d51876d7982b59be3a9751bf10a9 (21:21): i'm not sure you're understanting",
        "1609d51876d7982b59be3a9751bf10a9 (21:21): eahc user will only be part of one domain",
        "1609d51876d7982b59be3a9751bf10a9 (21:21): each",
        "1609d51876d7982b59be3a9751bf10a9 (21:22): some users use domain A, some use domain B",
        "1609d51876d7982b59be3a9751bf10a9 (21:22): A and B exist in completely different environments, such as network access, storage devices, etc",
        "ea83eaba0531e73b751e055cf37d82d7 (21:23): but have a single LDAP server ?",
        "1609d51876d7982b59be3a9751bf10a9 (21:23): but since i already use one centralized ldap server for other purposes",
        "1609d51876d7982b59be3a9751bf10a9 (21:23): i'd like to extend the functionality to some samba fileservers too",
        "869bc7b89036e2454e91cbfe9faaf52a (21:24): ah, so they aren't all on one ldap now",
        "869bc7b89036e2454e91cbfe9faaf52a (21:24): well, for samba anyway",
        "3bb5cd9de348d0f9a784a5f5665c213c (21:32): I'm using Samba 3.0.23a, and whenever a user logs in, it says the password is expired (it's controlled by the PDC &amp; group policy, and passwords never expire), then the user is prompted to change the password (which doesn't work), then can't log in... but it works if the account has the &quot;Password never expires&quot; box checked in AD... any ideas?",
        "3bb5cd9de348d0f9a784a5f5665c213c (21:33): the samba machines are the clients, and the server is win2k3 r2",
        "c949eb90902bec4562d1d3c9fa62d6d7 (21:43): I keep getting this error msg - 'can't get server address: syserr = Host is down' -- however i can ping the host",
        "c949eb90902bec4562d1d3c9fa62d6d7 (21:43): any ideas?",
        "c949eb90902bec4562d1d3c9fa62d6d7 (21:43): smbclient works",
        "1609d51876d7982b59be3a9751bf10a9 (21:44): picoocak: do you have set the same name for the host and the workgroup name ?",
        "c1996108081f74a79f9f8a7173927d6c (21:45): Omat5e1: i had the same problem on my Samba/LDAP PDC, the solution was to modify sambaPwdMustChange",
        "3bb5cd9de348d0f9a784a5f5665c213c (21:45): Sonderblade, but the server is win2k3, not samba...",
        "c949eb90902bec4562d1d3c9fa62d6d7 (21:45): workgroup is mshome, the host I'm trying to connect to is munster -- I'm using an ip instead of the hostname",
        "c1996108081f74a79f9f8a7173927d6c (21:48): Omat5e1: then it's win2k3's fault not samba's, isn't it? :)",
        "1609d51876d7982b59be3a9751bf10a9 (21:51): ||cw: i know that it's not supported, but do you find any inconvenience if there was support for multiple sambaSID with an ldap backend ?",
        "1609d51876d7982b59be3a9751bf10a9 (21:52): i'm only asking because i can't find a plausible cause for this not being supported, and thus not allowing a user to be a part of several domains",
        "1aabac6d068eef6a7bad3fdf50a05cc8 (21:54): ||cw i still cant log in the domain i erase the account but not work, i change the netbios name of the client but not work,,, help",
        "13c8bdd77825acbfb0548a044efdc141 (21:58): I'm trying to share one folder with the &quot;web&quot; group. how should i set permissions for this folder? what should /etc/fstab entries look like? currently I have",
        "13c8bdd77825acbfb0548a044efdc141 (21:59): samba shared folder (/home/web) folder is chmod 770, chown root:web",
        "13c8bdd77825acbfb0548a044efdc141 (21:59): fstab: //starbucks/web /mnt/www cifs credentials=/home/josh/.credentials,uid=500,gid=502,rw 0 0",
        "13c8bdd77825acbfb0548a044efdc141 (21:59): web is group 502 on starbucks",
        "3bb5cd9de348d0f9a784a5f5665c213c (21:59): Sonderblade, no, since the people logging into the windows machines don't have any problems... and it just started when I upgraded from samba 3.0.21c to 3.0.23",
        "3bb5cd9de348d0f9a784a5f5665c213c (22:01): apparently, even when the password is set to never expire in the group policy, when a user logs in via winbind, samba/winbind/whatever checks the specific checkbox to see if it's checked... if it is, no problem... if not, the password must be expired",
        "3bb5cd9de348d0f9a784a5f5665c213c (22:01): but it's a brand new behavior, which is what has me puzzled",
        "3bb5cd9de348d0f9a784a5f5665c213c (22:06): the syslog says &quot;pam_winbind_new_authtok_reqd&quot;..."
    ],
    "person_ids": [
        "2f58f939be5aa367cf31ed03e2ace23a",
        "ce44ec5248a0d2ee565809af7df370fc",
        "1609d51876d7982b59be3a9751bf10a9",
        "7d73032c7dd81d64b083e059107ff8dd",
        "1aabac6d068eef6a7bad3fdf50a05cc8",
        "869bc7b89036e2454e91cbfe9faaf52a",
        "542ebcbcf6ee466a1780913e2c800716",
        "ea83eaba0531e73b751e055cf37d82d7",
        "3bb5cd9de348d0f9a784a5f5665c213c",
        "c949eb90902bec4562d1d3c9fa62d6d7",
        "c1996108081f74a79f9f8a7173927d6c",
        "13c8bdd77825acbfb0548a044efdc141"
    ]
}