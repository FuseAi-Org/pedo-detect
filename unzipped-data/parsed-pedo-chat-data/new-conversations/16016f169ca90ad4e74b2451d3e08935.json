{
    "id": "16016f169ca90ad4e74b2451d3e08935",
    "messages": [
        "69b0d3dfe919a6b860a9fac82de52a7e (04:19): 8b7a8196348038c107614af0b08f2d21: yt?",
        "8b7a8196348038c107614af0b08f2d21 (04:20): hi",
        "8b7a8196348038c107614af0b08f2d21 (04:20): what can i do for you sir?",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:20): hey",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:21): what do you think about complicating the &lt;object&gt; type determination thingy EVEN MORE, to add an attribute that requires that the type=&quot;&quot; and Content-Type match?",
        "8b7a8196348038c107614af0b08f2d21 (04:22): 69b0d3dfe919a6b860a9fac82de52a7e: that would solve a security problem :)",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:22): that's the idea, yeah",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:22): (well it wouldn't solve it so much as provide authors with a tool to solve it for themselves)",
        "8b7a8196348038c107614af0b08f2d21 (04:22): lcamtuf had some idea for solving this without extra markup",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:23): did he mail it anywhere? i'm replying to a mail from him about this but i don't see an idea",
        "8b7a8196348038c107614af0b08f2d21 (04:23): do you have the flowchart handy?",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:23): (well i see an idea but it's unworkable, it changes the default behaviour)",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:23): yeah",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:24): you want it uploaded somewhere to edit?",
        "8b7a8196348038c107614af0b08f2d21 (04:24): i just want to stare at it for a sec",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:24): one sec",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:25): http://junkyard.damowmow.com/470",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:25): where I put the X is where i suggest putting &quot;if there's an attribute foo, and type=&quot;&quot; and Content-Type don't match, then fallback&quot;",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:26): not 100% sure what to do if they do match, whether to short-circuit or follow the algorithm",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:27): the only difference i believe is if the type and header both are a/octet-stream, in which case it would then use the extension",
        "8b7a8196348038c107614af0b08f2d21 (04:27): so, the compat case to worry about is type=&quot;something/insane&quot; and a reasonable Content-Type",
        "8b7a8196348038c107614af0b08f2d21 (04:28): that seems like something we could measure",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:29): there are so many edge cases here i don't think we should touch that algorithm again frankly, except for putting things at the head or tail of it",
        "8b7a8196348038c107614af0b08f2d21 (04:29): so, the simple thing I would add",
        "8b7a8196348038c107614af0b08f2d21 (04:30): if you want an opt-in mechanism",
        "8b7a8196348038c107614af0b08f2d21 (04:30): is to prevent the loading",
        "8b7a8196348038c107614af0b08f2d21 (04:30): if type isn't a recognized plugin",
        "8b7a8196348038c107614af0b08f2d21 (04:30): so in the &quot;Is there a type=&quot;&quot; attribute whose value is a plugin type?&quot; step",
        "8b7a8196348038c107614af0b08f2d21 (04:30): in the NO branch",
        "8b7a8196348038c107614af0b08f2d21 (04:30): check for the new thing",
        "8b7a8196348038c107614af0b08f2d21 (04:31): if the new thing is there, don't load anything",
        "8b7a8196348038c107614af0b08f2d21 (04:31): which I guess translates to FALLBACK",
        "8b7a8196348038c107614af0b08f2d21 (04:32): something like &quot;isplugin&quot;",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:32): i was thinking authors might want to use this even for other cases, e.g. the content they want to embed is text/html and they don't want it to be treated as flash",
        "8b7a8196348038c107614af0b08f2d21 (04:32): i see",
        "8b7a8196348038c107614af0b08f2d21 (04:33): that seems reasonable for an opt-in mechanism",
        "8b7a8196348038c107614af0b08f2d21 (04:33): it's only going to protect advanced sites that know to turn it on, but that's true for any opt-in mechanism",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:33): though i guess that works already today if you say type=&quot;text/html&quot;",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:34): so maybe nevermind",
        "8b7a8196348038c107614af0b08f2d21 (04:34): does it?",
        "8b7a8196348038c107614af0b08f2d21 (04:34): the flowchart seems to say &quot;use Content-Type&quot;",
        "8b7a8196348038c107614af0b08f2d21 (04:34): but that could be application/swf",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:34): oh right",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:34): sorry i was thinking of the a/o-s case",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:34): yeah",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:35): ok so what i said originally",
        "8b7a8196348038c107614af0b08f2d21 (04:35): your approach has the virtue of being secure and not breaking things",
        "8b7a8196348038c107614af0b08f2d21 (04:36): which are good virtues :)",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:36): heh",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:36): i mainly like it cos it's easy to spec :-)",
        "8b7a8196348038c107614af0b08f2d21 (04:36): i bet the thing i was thinking of won't work anyway",
        "8b7a8196348038c107614af0b08f2d21 (04:36): because folks will typo their type attribute",
        "8b7a8196348038c107614af0b08f2d21 (04:36): or put something crazy there",
        "8b7a8196348038c107614af0b08f2d21 (04:37): and it will work today if the Content-Type is right",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:37): well so will mine, right",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:37): (mine being bz's suggestion of a feature that breaks if they don't match)",
        "8b7a8196348038c107614af0b08f2d21 (04:38): the main risk of your attribute is folks cargo-cult adding it without testing",
        "8b7a8196348038c107614af0b08f2d21 (04:38): and then UAs having an incentive not to implement",
        "8b7a8196348038c107614af0b08f2d21 (04:38): but if we get it into WebKit and FF quickly, that shouldn't be too much of a problem",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:39): yeah",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:39): i guess",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:39): should i nerf clsid=&quot;&quot; when this attribute is present?",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:39): or just leave it? i guess it's up to the author",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:39): so it doesn't much matter",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:39): i'll just leave it",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:39): clsid=&quot;&quot; is invalid anyway",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:40): where's zcorpan when you need him",
        "8b7a8196348038c107614af0b08f2d21 (04:40): clsid is a mystery to me",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:40): i need a member of the hyphens-in-attributes police, anyone around?",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:41): &lt;object type=&quot;&quot; typemustmatch data=&quot;&quot;&gt;...&lt;/object&gt;",
        "8b7a8196348038c107614af0b08f2d21 (04:47): nosniff",
        "8b7a8196348038c107614af0b08f2d21 (04:47): :)",
        "8b7a8196348038c107614af0b08f2d21 (04:47): strict-type",
        "8b7a8196348038c107614af0b08f2d21 (04:47): ^^^ actually, that one is bad",
        "69b0d3dfe919a6b860a9fac82de52a7e (04:48): nosniff doesn't really convey what happens",
        "69b0d3dfe919a6b860a9fac82de52a7e (05:11): k i added typemustmatch",
        "a3f19f90edf0a0893c7847d08016abe3 (05:27): 69b0d3dfe919a6b860a9fac82de52a7e, since you're not reading bugmail, would you be able to reply to http://www.w3.org/Bugs/Public/show_bug.cgi?id=12845 at some point?"
    ],
    "person_ids": [
        "69b0d3dfe919a6b860a9fac82de52a7e",
        "8b7a8196348038c107614af0b08f2d21",
        "a3f19f90edf0a0893c7847d08016abe3"
    ]
}