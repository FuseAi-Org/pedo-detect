{
    "id": "f5e8b0852635a4b6cb412020b1fc9d6b",
    "messages": [
        "b07211a0c7cb119232799d2119cea90f (15:56): I don't see how you can get acceptable performance from an HTML5 parser without some kind of string interning",
        "0da07476c4bd14079ce4032a6f280e17 (15:57): ac35308fff7abada50397bb69d5658e2: Xeys, even",
        "ac35308fff7abada50397bb69d5658e2 (16:01): touch\u00ac\u00a5",
        "a11aabeeceeae6b8cb5d12ea06b56554 (16:01): b07211a0c7cb119232799d2119cea90f: Well, implement it in a totally different way to how it is spec'd :P",
        "b07211a0c7cb119232799d2119cea90f (16:02): well, if you have a treebuilder, and you have comparisons on tag name, either you do string comparisons multiple times per tag or you do a simple integer comparison, probably using switch() or the equivalent thereof",
        "ab7faae5d7b250ea8606486575f8f79c (16:02): b07211a0c7cb119232799d2119cea90f: It's trivial - just lower your expectations",
        "ab7faae5d7b250ea8606486575f8f79c (16:03): &quot;Acceptable&quot; is purely subjective, and you are the subject, so you can choose to accept anything :-)",
        "b07211a0c7cb119232799d2119cea90f (16:05): by &quot;acceptable&quot; I mean &quot;anywhere near competing with browser speeds&quot;",
        "b07211a0c7cb119232799d2119cea90f (16:06): or even just libxml2 speed, really",
        "ab7faae5d7b250ea8606486575f8f79c (16:06): Presumably you need some kind of &quot;unknown&quot; token that includes the (case-folded) original source string, when it's not one of the default set of internable strings; so I'm still not sure why you can't just do the same for known tags, and carry around the original (unfolded) string in case you need it in the tree constructor, as well as the folded interned integer for fast switching",
        "b07211a0c7cb119232799d2119cea90f (16:09): the thought of doing that makes me cringe, I'd have to rerewrite a chunk of hubbub that I'm only just finishing off rewriting",
        "b07211a0c7cb119232799d2119cea90f (16:09): :)",
        "ab7faae5d7b250ea8606486575f8f79c (16:12): When balancing some inconvenience for early implementers like you by breaking your optimisation assumptions, versus some inconvenience for the whole of humanity for the rest of eternity by not designing the best possible language, I think you're on the losing side :-p",
        "b07211a0c7cb119232799d2119cea90f (16:13): I'm just not sure why people want thee tokeniser to case-preserve",
        "a11aabeeceeae6b8cb5d12ea06b56554 (16:14): b07211a0c7cb119232799d2119cea90f: Gecko keeps it for one or two mainly irrelevant things",
        "ab7faae5d7b250ea8606486575f8f79c (16:17): b07211a0c7cb119232799d2119cea90f: I think I'd be happier if people argued that way in terms of whether it's the best possible language for authors, and didn't use &quot;but I already implemented this stuff that's commented out in a recently-written controversial section of a draft spec, and it'd take lots of work to change and I'd have to rethink my optimisation approach&quot; as an argument for anything :-)",
        "b07211a0c7cb119232799d2119cea90f (16:20): all I'm saying is this; the spec currently makes case-folding mandatory.  if there is a reason to change it, then change it, by all means, but if the reason is because the SVG group don't want &quot;&lt;SVG&gt;&quot; to start an SVG block, then I'm not convinced",
        "b8810fee2f4a71f849f3f7409546d1d9 (16:25): a11aabeeceeae6b8cb5d12ea06b56554: Gecko does what? Gecko's internal tree API wants to see element names as nsIAtoms which are essentially interned strings",
        "a11aabeeceeae6b8cb5d12ea06b56554 (16:26): b8810fee2f4a71f849f3f7409546d1d9: case-preserve",
        "b8810fee2f4a71f849f3f7409546d1d9 (16:26): a11aabeeceeae6b8cb5d12ea06b56554: and the well-known lower-case HTML names are pre-interned",
        "ab7faae5d7b250ea8606486575f8f79c (16:28): b07211a0c7cb119232799d2119cea90f: If the only case it's ever needed is to detect &lt;SVG&gt;, just add a one-bit flag to tokens to say &quot;this token name was 'svg' in lowercase&quot;, and the tokeniser can set that before it does its standard case folding",
        "ab7faae5d7b250ea8606486575f8f79c (16:29): (Please note that I have no idea how sensible tokenisers are implemented, so I could be entirely wrong about everything :-) )",
        "b07211a0c7cb119232799d2119cea90f (16:32): it would be an arse to do that in hubbub",
        "b07211a0c7cb119232799d2119cea90f (16:33): I can't imagine it being a significant perf loss to special-case &quot;svg&quot; but all the same, I'd want to avoid it",
        "b8810fee2f4a71f849f3f7409546d1d9 (16:33): ab7faae5d7b250ea8606486575f8f79c: I just sent email recounting why I don't want late case folding",
        "b8810fee2f4a71f849f3f7409546d1d9 (16:33): ab7faae5d7b250ea8606486575f8f79c: of course, I think what I'm doing is sensible :-)",
        "b07211a0c7cb119232799d2119cea90f (16:34): given that e.g. it would have roughly the same effect as passing it through to the xml processor (it wouldn't display since tag names are in the wrong case)",
        "a11aabeeceeae6b8cb5d12ea06b56554 (16:34): b8810fee2f4a71f849f3f7409546d1d9: It obviously isn't sensible, because you're doing it",
        "b07211a0c7cb119232799d2119cea90f (16:34): nice to see the odd ad hominem still in use :)",
        "a11aabeeceeae6b8cb5d12ea06b56554 (16:34): :P",
        "a11aabeeceeae6b8cb5d12ea06b56554 (16:35): b07211a0c7cb119232799d2119cea90f: The thing is anyone around here for long enough should know I don't mean it at all :P",
        "ab7faae5d7b250ea8606486575f8f79c (16:35): Clearly the sensible thing would be to not write an HTML5 parser, and to do something nicer instead",
        "a11aabeeceeae6b8cb5d12ea06b56554 (16:36): Write an XML5 parser!",
        "b8810fee2f4a71f849f3f7409546d1d9 (16:36): hmm. Mail.app made my quoting ugly :-(",
        "b07211a0c7cb119232799d2119cea90f (16:45): b8810fee2f4a71f849f3f7409546d1d9: that mail must have taken you a long time to write",
        "a11aabeeceeae6b8cb5d12ea06b56554 (16:47): Mail.app sux.",
        "a11aabeeceeae6b8cb5d12ea06b56554 (16:47): needs to find a better mail client",
        "57d876083caf517f49e8cf5e03307450 (16:50): a11aabeeceeae6b8cb5d12ea06b56554: telnet?",
        "a11aabeeceeae6b8cb5d12ea06b56554 (16:50): 57d876083caf517f49e8cf5e03307450: better, I said.",
        "57d876083caf517f49e8cf5e03307450 (16:50): oh, you're using Mail.app, not Outlook",
        "b07211a0c7cb119232799d2119cea90f (16:51): thunderbird 3 might be an upgrade",
        "b07211a0c7cb119232799d2119cea90f (16:51): of course, you have to wait a while. :)",
        "57d876083caf517f49e8cf5e03307450 (16:52): only 6-ish months",
        "a11aabeeceeae6b8cb5d12ea06b56554 (16:52): Provided it fixed the idiotic UI behaviour.",
        "a11aabeeceeae6b8cb5d12ea06b56554 (16:52): :P",
        "57d876083caf517f49e8cf5e03307450 (16:52): which idiotic UI behavior?",
        "a11aabeeceeae6b8cb5d12ea06b56554 (16:52): (Like, don't come up with your own behaviour for things, do what everything else does)",
        "57d876083caf517f49e8cf5e03307450 (16:52): ah",
        "a11aabeeceeae6b8cb5d12ea06b56554 (16:53): Like, cmd+scroll with scroll wheel should have the same affect as without cmd",
        "a11aabeeceeae6b8cb5d12ea06b56554 (16:53): (yes, I do randomly hold cmd down)",
        "b07211a0c7cb119232799d2119cea90f (16:53): I also hope that they figure out how to let me connect to my own mail server over SSL with a self-signed cert without me having to go through the rigmarole that tb3 currently puts me through",
        "57d876083caf517f49e8cf5e03307450 (16:53): I think that's FF's fault",
        "a11aabeeceeae6b8cb5d12ea06b56554 (16:54): It's been a while since I've played around with TB, and I can't remember what annoys me in Gecko and what annoys me in TB :P",
        "ab7faae5d7b250ea8606486575f8f79c (16:56): Thunderbird shows me a list of my emails and lets me click on them to read them, and that's good enough for me",
        "a11aabeeceeae6b8cb5d12ea06b56554 (16:56): I want sane threading.",
        "57d876083caf517f49e8cf5e03307450 (16:57): I want free email clients to actually generate I-R-T and References: correctly",
        "f139aba52f9fa1394b4034a7954b2220 (16:57): a11aabeeceeae6b8cb5d12ea06b56554, compared with Mail.app, Thunderbird gives very sane threading, unlike Mail.app's confusing threading",
        "a11aabeeceeae6b8cb5d12ea06b56554 (16:57): f139aba52f9fa1394b4034a7954b2220: True, but TB annoys me in other ways.",
        "57d876083caf517f49e8cf5e03307450 (16:57): besides, TB uses the unofficial official threading algorithm",
        "f139aba52f9fa1394b4034a7954b2220 (16:57): 57d876083caf517f49e8cf5e03307450, what?",
        "57d876083caf517f49e8cf5e03307450 (16:58): f139aba52f9fa1394b4034a7954b2220: the algorithm in the expired draft RFC",
        "f139aba52f9fa1394b4034a7954b2220 (16:58): which one?",
        "57d876083caf517f49e8cf5e03307450 (16:59): hmm, I can't find it ATM, but RFC 5256 references http://www.jwz.org/doc/threading.html for threading",
        "57d876083caf517f49e8cf5e03307450 (17:01): although the algorithm is given by jwz, so be prepared to meet bile at any product other than NS2",
        "a11aabeeceeae6b8cb5d12ea06b56554 (17:01): NS2?",
        "b07211a0c7cb119232799d2119cea90f (17:02): netscape 2",
        "a11aabeeceeae6b8cb5d12ea06b56554 (17:02): ah",
        "57d876083caf517f49e8cf5e03307450 (17:02): netscape 2, jwz apparently hates ns 4 and anything later with a passion",
        "ab7faae5d7b250ea8606486575f8f79c (17:02): What about NS3?",
        "57d876083caf517f49e8cf5e03307450 (17:02): he seems to be okay with that",
        "57d876083caf517f49e8cf5e03307450 (17:03): my knowledge of early Netscape history is very little",
        "a11aabeeceeae6b8cb5d12ea06b56554 (17:03): doesn't remember it either",
        "a11aabeeceeae6b8cb5d12ea06b56554 (17:03): But maybe that's more justifiable",
        "ab7faae5d7b250ea8606486575f8f79c (17:04): My (possibly incorrect) memory of that era is primarily that NS3 allowed you to set img.src in scripts, but that was the only dynamicity allowed, but then IE4 came out and you could dynamically change pretty much anything on the entire page, and I thought that was really cool",
        "ab7faae5d7b250ea8606486575f8f79c (17:04): (I also thought Java applets to do animated wobbly text were really cool)",
        "a11aabeeceeae6b8cb5d12ea06b56554 (17:04): So maybe you aren't he best person to judge objective coolness either.",
        "ab7faae5d7b250ea8606486575f8f79c (17:05): I'm not sure &quot;objective coolness&quot; is a concept that makes sense",
        "b07211a0c7cb119232799d2119cea90f (17:06): dynamicity is a terrible word",
        "a11aabeeceeae6b8cb5d12ea06b56554 (17:07): b07211a0c7cb119232799d2119cea90f.name = 'bob'",
        "a11aabeeceeae6b8cb5d12ea06b56554 (17:07): That doesn't seem to work",
        "b07211a0c7cb119232799d2119cea90f (17:08): I'm obviously still running NS3. :)",
        "a11aabeeceeae6b8cb5d12ea06b56554 (17:08): ab7faae5d7b250ea8606486575f8f79c: Besides, how dare you be kind to MS!",
        "57d876083caf517f49e8cf5e03307450 (17:08): notes that he actually has used telnet to check email, but only because he's trying to write an IMAP server and needs to correlate with a real IMAP server",
        "a11aabeeceeae6b8cb5d12ea06b56554 (17:09): is listening to Finding My Way by Rush from Rush",
        "a11aabeeceeae6b8cb5d12ea06b56554 (17:09): Hmm, that had the undesired result",
        "57d876083caf517f49e8cf5e03307450 (17:09): also notes that /.'s knee-jerk reaction to MS is often unwarranted",
        "a11aabeeceeae6b8cb5d12ea06b56554 (17:09): also notes that /.'s knee-jerk reaction to most things is often unwarranted :)",
        "ab7faae5d7b250ea8606486575f8f79c (17:10): notes that knee-jerk reactions in general are often unwarranted",
        "57d876083caf517f49e8cf5e03307450 (17:12): notes that /me seems to be popular today",
        "ab7faae5d7b250ea8606486575f8f79c (17:12): b07211a0c7cb119232799d2119cea90f: http://rubyhacker.com/coralbook/dynam.html is long enough to serve as adequate defence of my use of the word :-)",
        "a11aabeeceeae6b8cb5d12ea06b56554 (17:14): notes the comments on digg are stupid",
        "a11aabeeceeae6b8cb5d12ea06b56554 (17:14): Godwin's Law invoked on the first comment.",
        "a11aabeeceeae6b8cb5d12ea06b56554 (17:16): And factually incorrect.",
        "a11aabeeceeae6b8cb5d12ea06b56554 (17:16): I'll be dugg down for saying why Hitler did actually hate the Jews, but so is life",
        "57d876083caf517f49e8cf5e03307450 (17:18): logic + /. / digg / etc. = NaN",
        "a11aabeeceeae6b8cb5d12ea06b56554 (17:20): :P",
        "a11aabeeceeae6b8cb5d12ea06b56554 (17:21): Lesson one of digg: Thou shalt not post the truth.",
        "ab7faae5d7b250ea8606486575f8f79c (17:21): Lesson zero: Thou shalt not post.",
        "a11aabeeceeae6b8cb5d12ea06b56554 (17:22): :)",
        "ab7faae5d7b250ea8606486575f8f79c (17:22): Saves an awful lot of time and stress",
        "a11aabeeceeae6b8cb5d12ea06b56554 (17:22): It amazes me what manages to get dugg up at times though",
        "a11aabeeceeae6b8cb5d12ea06b56554 (17:24): Like, at time defending MS and putting down F/OSS gets dugg up.",
        "b07211a0c7cb119232799d2119cea90f (17:46): 57d876083caf517f49e8cf5e03307450: are IMAP servers not remotely like what the spec says they should be, then?",
        "b07211a0c7cb119232799d2119cea90f (17:46): the first rule of digg is actually to not look at digg, fwiw",
        "b07211a0c7cb119232799d2119cea90f (17:48): ab7faae5d7b250ea8606486575f8f79c: it's still an ugly word without a nice-sounding pronounciation",
        "57d876083caf517f49e8cf5e03307450 (17:49): b07211a0c7cb119232799d2119cea90f: the spec is one of the most obfuscated I've ever read",
        "57d876083caf517f49e8cf5e03307450 (17:49): if I were grading it for organization, I'd think a C would be on the high side",
        "b07211a0c7cb119232799d2119cea90f (17:50): I read it through when I was going to implement a webmail app but never got round to it",
        "b07211a0c7cb119232799d2119cea90f (17:51): my favpurite bit was always the modified UTF-7 encoding",
        "ab7faae5d7b250ea8606486575f8f79c (17:51): b07211a0c7cb119232799d2119cea90f: Pronouncing it kind of like &quot;diner-MIcity&quot; sounds reasonable to me",
        "57d876083caf517f49e8cf5e03307450 (17:52): b07211a0c7cb119232799d2119cea90f: fortunately, there's a draft to actually wave it all off and make it UTF-8",
        "b07211a0c7cb119232799d2119cea90f (17:53): 57d876083caf517f49e8cf5e03307450: oh, really?  that means I might get round to writing my webmail app then",
        "ab7faae5d7b250ea8606486575f8f79c (17:53): GIMPLE is fun",
        "ab7faae5d7b250ea8606486575f8f79c (17:53): *not entirely",
        "57d876083caf517f49e8cf5e03307450 (17:53): unfortunately, knowing IETF, it will take a year or so before it actually becomes an RFC"
    ],
    "person_ids": [
        "b07211a0c7cb119232799d2119cea90f",
        "0da07476c4bd14079ce4032a6f280e17",
        "ac35308fff7abada50397bb69d5658e2",
        "a11aabeeceeae6b8cb5d12ea06b56554",
        "ab7faae5d7b250ea8606486575f8f79c",
        "b8810fee2f4a71f849f3f7409546d1d9",
        "57d876083caf517f49e8cf5e03307450",
        "f139aba52f9fa1394b4034a7954b2220"
    ]
}