{
    "id": "11c012c9fe82645d28891e88bd460fc6",
    "messages": [
        "3a3fd2197180fb6b131ee55501438f15 (07:32): anyone familiar with vlans on a 2950 catalyst?",
        "b3a63ec271d4960e1ded0fde1d724fa6 (07:34): yeah.. what's up Sponge_bob",
        "3a3fd2197180fb6b131ee55501438f15 (07:37): I have three switches that are passing data traffic.  I would like to make a seperate vlan on two ports on one switch for voice traffic.  I know i can do a switchport voice vlan x to configure a port for voice but does that mean if i configure a port for a different vlan will i be able to access it (telnet/ssh) to the device from the data vlan?",
        "b3a63ec271d4960e1ded0fde1d724fa6 (07:37): a seperate vlan will have no access to another vlan unless there's a routing device on both VLANs to pass traffic between them",
        "3a3fd2197180fb6b131ee55501438f15 (07:38): SarahEmm: ok so if i have a 3550 catalyst will that be able to 'route' vlans?",
        "b3a63ec271d4960e1ded0fde1d724fa6 (07:38): yep",
        "b3a63ec271d4960e1ded0fde1d724fa6 (07:38): that's a layer 3 switch",
        "b3a63ec271d4960e1ded0fde1d724fa6 (07:38): you can route between them using that",
        "3a3fd2197180fb6b131ee55501438f15 (07:39): SarahEmm: now my question is how do i do that?",
        "3a3fd2197180fb6b131ee55501438f15 (07:40): the two ports that i want to be on a seperate vlan is on the same switch passing data...",
        "b3a63ec271d4960e1ded0fde1d724fa6 (07:41): okay.. you want two of the ports in a seperate VLAN... only two?",
        "b3a63ec271d4960e1ded0fde1d724fa6 (07:41): and is this switch you want to VLAN, the 3550, or another switch?",
        "3a3fd2197180fb6b131ee55501438f15 (07:42): yes. i only have two right now.  i have a cisco voice gateway and a call manager",
        "b3a63ec271d4960e1ded0fde1d724fa6 (07:42): what is the goal in seperating the VLANs?",
        "b3a63ec271d4960e1ded0fde1d724fa6 (07:43): you only want to route certain traffic, using ACLs, or what?",
        "3a3fd2197180fb6b131ee55501438f15 (07:43): i have my data network i want to segergate from the voice traffic.",
        "3a3fd2197180fb6b131ee55501438f15 (07:44): in addition to that. i would like to still be able to manage the voice devices from the data side",
        "3a3fd2197180fb6b131ee55501438f15 (07:44): or other vlan side.",
        "b3a63ec271d4960e1ded0fde1d724fa6 (07:44): so.. you want to route between the two, ACLing in between :)",
        "b3a63ec271d4960e1ded0fde1d724fa6 (07:45): so the switch you want VLANned is a 2950, and you have a 3550 to use for the layer 3 end?",
        "3a3fd2197180fb6b131ee55501438f15 (07:45): correct",
        "b3a63ec271d4960e1ded0fde1d724fa6 (07:46): okay",
        "b3a63ec271d4960e1ded0fde1d724fa6 (07:46): you need to use an extra port in each then..",
        "b3a63ec271d4960e1ded0fde1d724fa6 (07:46): 3 voice ports, and one extra data port",
        "4651a4fbb52af3c944288c36ad7c873b (07:46): trunk em together, set an ip gateway to each vlan, turn ip routing on, bam.",
        "b3a63ec271d4960e1ded0fde1d724fa6 (07:46): the 3550 gets one port in each vlan",
        "b3a63ec271d4960e1ded0fde1d724fa6 (07:46): yeah, or trunk them :)",
        "b3a63ec271d4960e1ded0fde1d724fa6 (07:46): use one port..",
        "3a3fd2197180fb6b131ee55501438f15 (07:47): i did some reading on vlan but i guess i still don't get the vlan concept",
        "b3a63ec271d4960e1ded0fde1d724fa6 (07:48): Sponge_bob: at the simplest level, it just splits the switch into 2 virtual switches",
        "b3a63ec271d4960e1ded0fde1d724fa6 (07:48): anything on VLAN 100 is part of one switch, anything on VLAN 200 is part of another, for instance",
        "b3a63ec271d4960e1ded0fde1d724fa6 (07:48): they could equally be two seperate physical switches",
        "b3a63ec271d4960e1ded0fde1d724fa6 (07:48): they have no communication with one another at all",
        "3a3fd2197180fb6b131ee55501438f15 (07:49): correct.  and that is what i want.  knowing that the two vlans don't talk to each other without routing that changes things.  i was hoping to do it all in 1 switch",
        "3a3fd2197180fb6b131ee55501438f15 (07:49): now does that mean i have to trunk the three voice ports to the 3550?",
        "b3a63ec271d4960e1ded0fde1d724fa6 (07:49): Sponge_bob: your 2950 can't route between VLANs, because it's a layer 2 switch. you need some kind of layer 3 device to do the routing, a 3550 will do it",
        "b3a63ec271d4960e1ded0fde1d724fa6 (07:49): Sponge_bob: you trunk each VLAN to the 3550 over one cable, or use two seperate cables with no trunking",
        "3a3fd2197180fb6b131ee55501438f15 (07:51): SarahEmm: ok i kind of understand now.  so basically i have my data network crossed over to the 3550.  in addition to that i would have to cross over another port to the 3550 and set the port on the 2950 to a different vlan?",
        "3a3fd2197180fb6b131ee55501438f15 (07:51): let's just keep it simple and say i have a 2950 and a 3550",
        "b3a63ec271d4960e1ded0fde1d724fa6 (07:52): right. :)",
        "b3a63ec271d4960e1ded0fde1d724fa6 (07:53): and then configure the 3550 for ip routing, set up your ACLs and such",
        "3a3fd2197180fb6b131ee55501438f15 (07:53): i have two voice devices on the 2950 and i would like seperate the vlans.  i already have a GBIC connect from the 2950 to the 3550.  would i have to have a nother set of GBICs crossed over from the 2950 to the 3550 to trunk the vlan 2?",
        "3a3fd2197180fb6b131ee55501438f15 (07:54): I'm not too concerned about ACLs right now unless that is a performance impact if i don't",
        "3a3fd2197180fb6b131ee55501438f15 (07:54): ultimately i want my voice vlan to perform at top notch.",
        "3a3fd2197180fb6b131ee55501438f15 (07:55): ok so how do i configure the 3550 for routing between the two GBIC ports?",
        "b3a63ec271d4960e1ded0fde1d724fa6 (07:56): you can trunk it all over one port",
        "b3a63ec271d4960e1ded0fde1d724fa6 (07:56): if you only want to burn up one gig port",
        "3a3fd2197180fb6b131ee55501438f15 (07:56): that would be nice...i'll just have to read up on how to do that..",
        "5413d900581bd6546043f95aae132a3f (07:57): use qos to ensure voice traffic gets delivered right.  Even if you use seperate gig uplinks they still share the same backplane",
        "5413d900581bd6546043f95aae132a3f (07:57): and since voice traffic is really insiginifant in terms of bandwidth",
        "3a3fd2197180fb6b131ee55501438f15 (07:58): what do you recommend? 802.1q frame or 802.1P priority tagged frames?",
        "4651a4fbb52af3c944288c36ad7c873b (07:59): .1q",
        "5413d900581bd6546043f95aae132a3f (08:02): .1p requires .1p",
        "5413d900581bd6546043f95aae132a3f (08:02): .1p defines the qos tag in the .1q header",
        "5413d900581bd6546043f95aae132a3f (08:03): although I recommend skipping .1p and using DSCP values",
        "5413d900581bd6546043f95aae132a3f (08:03): 2950's and 3550's both can look into the ip header",
        "5413d900581bd6546043f95aae132a3f (08:03): map the dscp values to internal QoS values and apply them to queues",
        "5413d900581bd6546043f95aae132a3f (08:03): to make it easy use the following two commands",
        "5413d900581bd6546043f95aae132a3f (08:03): auto-qos voice cisco-phone",
        "5413d900581bd6546043f95aae132a3f (08:03): mls trust qos dscp",
        "3a3fd2197180fb6b131ee55501438f15 (08:03): ok.  i guess my next hurdle is the routing between vlans.  tell me if this is right.  i would have to get vlan2 (voice traffic) to an ip since vlan 1 already has an ip and trunk the two voice ports together on vlan2 and cross a port over to the 3550?",
        "5413d900581bd6546043f95aae132a3f (08:04): the 3550 will route for you",
        "5413d900581bd6546043f95aae132a3f (08:04): vlan 1 and 2 will have seperate subnets",
        "5413d900581bd6546043f95aae132a3f (08:04): create vlan interfaces on the 3550 and turn on ip routing :)",
        "3a3fd2197180fb6b131ee55501438f15 (08:05): nemith: the only problem is the 3550 is a GBIC switch.",
        "b3a63ec271d4960e1ded0fde1d724fa6 (08:05): that's not a problem",
        "3a3fd2197180fb6b131ee55501438f15 (08:05): i don't have enough GBICs to do that at the moement",
        "b3a63ec271d4960e1ded0fde1d724fa6 (08:05): oh.",
        "5413d900581bd6546043f95aae132a3f (08:06): so, you dot1q trunk from the 2950 to the 3550",
        "b3a63ec271d4960e1ded0fde1d724fa6 (08:06): that's a problem. ;)",
        "3a3fd2197180fb6b131ee55501438f15 (08:06): :-)",
        "5413d900581bd6546043f95aae132a3f (08:06): ah",
        "5413d900581bd6546043f95aae132a3f (08:06): the current switch doesn't uplink to the 3550?",
        "3a3fd2197180fb6b131ee55501438f15 (08:06): it uplinks with a GBIC",
        "5413d900581bd6546043f95aae132a3f (08:07): so trunk that",
        "3a3fd2197180fb6b131ee55501438f15 (08:07): i don't have enought GBICs to put the two voice devices on the 3550 with GBIC",
        "5413d900581bd6546043f95aae132a3f (08:07): hmm",
        "3a3fd2197180fb6b131ee55501438f15 (08:08): i guess I'm missing the trunking concept.  i use the GBICs to uplink the 2950 to the 3550 for my data network.  can i ride that link for the voice trunk?",
        "b3a63ec271d4960e1ded0fde1d724fa6 (08:08): no... you put the voice devices on the 2950 Sponge_bob",
        "b3a63ec271d4960e1ded0fde1d724fa6 (08:08): then you connect *one* cable between the 2950 and 3550",
        "3a3fd2197180fb6b131ee55501438f15 (08:08): right",
        "b3a63ec271d4960e1ded0fde1d724fa6 (08:08): all the traffic passing between the two VLANs traverses that cable",
        "3a3fd2197180fb6b131ee55501438f15 (08:09): ie the GBICs i currently have installed. correct?",
        "b3a63ec271d4960e1ded0fde1d724fa6 (08:09): i don't know what you have installed :)",
        "5413d900581bd6546043f95aae132a3f (08:09): yeah",
        "b3a63ec271d4960e1ded0fde1d724fa6 (08:09): do you have one cable of some sort running between the two to use for this? :)",
        "3a3fd2197180fb6b131ee55501438f15 (08:10): i have an uplink from the 2950 to the 3550 via GBIC fiber",
        "5413d900581bd6546043f95aae132a3f (08:10): k",
        "b3a63ec271d4960e1ded0fde1d724fa6 (08:10): that's all the layer 1 in place you need then, yes",
        "3a3fd2197180fb6b131ee55501438f15 (08:10): ok so now i guess i have to turn on ip routing on the uplinked interface on the 3550 side?",
        "5413d900581bd6546043f95aae132a3f (08:10): so the voice devices will plug into the 2950 and trunk the vlan to the 3550",
        "5413d900581bd6546043f95aae132a3f (08:11): you turn on routing globably and set ip addresses on the virtual vlan interfaces",
        "3a3fd2197180fb6b131ee55501438f15 (08:11): nemith: do you set the ip on the vlan interfaces on the 3550 side?",
        "5413d900581bd6546043f95aae132a3f (08:12): yes",
        "5413d900581bd6546043f95aae132a3f (08:12): this will become your default gateway for the end devices",
        "3a3fd2197180fb6b131ee55501438f15 (08:12): o ok",
        "3a3fd2197180fb6b131ee55501438f15 (08:14): now on the 2950 side.  in order to trunk would i have to issue a switchport mode trunk on the interfaces that i have the voice devices plugged into? or is that command issued to the uplink port?",
        "b3a63ec271d4960e1ded0fde1d724fa6 (08:14): uplink port",
        "3a3fd2197180fb6b131ee55501438f15 (08:15): and then would I issue a 'switchport mode trunk allowed vlan add vlan1 vlan2' on the uplinked port on the 2950?",
        "5413d900581bd6546043f95aae132a3f (08:17): switchport trunk encap dot1q",
        "5413d900581bd6546043f95aae132a3f (08:17): switchport mode trunk",
        "5413d900581bd6546043f95aae132a3f (08:17): the allowed vlans is optional, by default it will trunk all vlans",
        "3a3fd2197180fb6b131ee55501438f15 (08:18): o ok.",
        "3a3fd2197180fb6b131ee55501438f15 (08:22): ok. here is anoter question.  i have my 2950 switch vlan1 set to 192.168.1.20 and the vlan1 on the 3550 set to 192.168.1.19.  when i trunk the vlans to the 3550 would the vlan1 ip on the 3550 be the same as the vlan1 on the 2950?",
        "3a3fd2197180fb6b131ee55501438f15 (08:24): sorry for being such and air head.  i'm trying to get a grasp of how this all works",
        "4651a4fbb52af3c944288c36ad7c873b (08:25): Sponge_bob try to pick up a ccna book, youll learn a lot from it :)",
        "3a3fd2197180fb6b131ee55501438f15 (08:26): i was going to head to the book store this weekend",
        "4651a4fbb52af3c944288c36ad7c873b (08:28): good stuff",
        "3a3fd2197180fb6b131ee55501438f15 (08:28): thanks everyone for helping me anyways.  I guess i'll have to do trying and error for now.",
        "4651a4fbb52af3c944288c36ad7c873b (08:28): youll have no problem setting it up once you read that :D",
        "3a3fd2197180fb6b131ee55501438f15 (08:28): i hope so",
        "5413d900581bd6546043f95aae132a3f (08:37): Sponge_bob: yeah there is a lot to learn",
        "5413d900581bd6546043f95aae132a3f (08:38): Sponge_bob: two devices never get the same ip",
        "3a3fd2197180fb6b131ee55501438f15 (08:38): usually i pick up things fairly quick but i just don't get the vlan/trunking concept yet",
        "4651a4fbb52af3c944288c36ad7c873b (08:41): sorry man, i pretty much dont know how to explain it any more simply.",
        "3a3fd2197180fb6b131ee55501438f15 (08:42): no problem",
        "4651a4fbb52af3c944288c36ad7c873b (08:43): im trying to remember the site that i went to",
        "4651a4fbb52af3c944288c36ad7c873b (08:43): i cant think of it",
        "4651a4fbb52af3c944288c36ad7c873b (08:43): i just remember it being ugly, black and green",
        "3a3fd2197180fb6b131ee55501438f15 (08:43): :-)",
        "4651a4fbb52af3c944288c36ad7c873b (08:44): something .cx",
        "4651a4fbb52af3c944288c36ad7c873b (08:46): ah!",
        "4651a4fbb52af3c944288c36ad7c873b (08:46): firewall.cx",
        "4651a4fbb52af3c944288c36ad7c873b (08:46): <a href=\"http://www.firewall.cx/vlans-intro.php\">http://www.firewall.cx/vlans-intro.php</a>  use the nav at the top left to go through the vlan tutorial",
        "3a3fd2197180fb6b131ee55501438f15 (08:48): nice.",
        "3a3fd2197180fb6b131ee55501438f15 (08:48): thanks"
    ],
    "person_ids": [
        "3a3fd2197180fb6b131ee55501438f15",
        "b3a63ec271d4960e1ded0fde1d724fa6",
        "4651a4fbb52af3c944288c36ad7c873b",
        "5413d900581bd6546043f95aae132a3f"
    ]
}