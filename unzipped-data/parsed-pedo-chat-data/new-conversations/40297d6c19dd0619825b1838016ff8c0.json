{
    "id": "40297d6c19dd0619825b1838016ff8c0",
    "messages": [
        "f9c5eef23e4e79ee735a7bab11bfa729 (02:02): Hey everyone. I'm trying to figure this out.. I'm using smbfs to mount a samba server and its showing UID/GID's from the samba server, even though I explicitly specified 'uid=xxx,gid=xxx' in the mount options...",
        "f9c5eef23e4e79ee735a7bab11bfa729 (02:03): Any ideas why it might do that, or how I can get it to stop? I'd like to force the local side to just show the local UID/GID I specified.",
        "635fef0c0ce3dd3b9a8895544a8cecad (02:03): Hi all, recently switched to using samba (samba-3.0.10-1.4E.9) as pdc using logon path = \\\\%L\\profiles\\%U but user shows up in C:\\Documents and Settings\\%you why does the windows side get to see the unix username instead of the normal username (e.g. firstname surname)?",
        "635fef0c0ce3dd3b9a8895544a8cecad (02:15): I've used roaming profiles for ages (not pdc) and they used the full firstname surname (windows username) instead of the firstname (unix username) in Docs and Settings :(",
        "f9c5eef23e4e79ee735a7bab11bfa729 (02:21): another smbfs issue.. is there any way to set ttl=0 and have it actually work that way? I did so and it still cached directory contents.",
        "869bc7b89036e2454e91cbfe9faaf52a (02:21): SpamapS: tried cifs?",
        "f9c5eef23e4e79ee735a7bab11bfa729 (02:24): ||cw: my client box is old. :(",
        "869bc7b89036e2454e91cbfe9faaf52a (02:25): cifs is available for 2.4 as 3rd party",
        "f9c5eef23e4e79ee735a7bab11bfa729 (02:25): hmm I'll check that out..",
        "f9c5eef23e4e79ee735a7bab11bfa729 (02:40): ||cw: using cifs now.. still has TTL issues.",
        "869bc7b89036e2454e91cbfe9faaf52a (02:42): samba server or windows ?",
        "f9c5eef23e4e79ee735a7bab11bfa729 (02:42): samba",
        "f9c5eef23e4e79ee735a7bab11bfa729 (02:43): I'm removing a file via cifs.. then the server immediately re-creates that file, and the cifs client _never_ sees the file again.",
        "869bc7b89036e2454e91cbfe9faaf52a (02:43): it's the server",
        "f9c5eef23e4e79ee735a7bab11bfa729 (02:43): smbfs at least saw it within 1ms",
        "869bc7b89036e2454e91cbfe9faaf52a (02:43): hm",
        "869bc7b89036e2454e91cbfe9faaf52a (02:43): ok that's weird then",
        "f9c5eef23e4e79ee735a7bab11bfa729 (02:43): I want it to be immediate.. no local cache of directories.",
        "f9c5eef23e4e79ee735a7bab11bfa729 (02:44): NFS couldn't do it either. :-/",
        "869bc7b89036e2454e91cbfe9faaf52a (02:44): I've had problem swith windows clients where the files would take a long time to show up",
        "f9c5eef23e4e79ee735a7bab11bfa729 (02:44): $ ls -l /mnt/remote/cc7-db/xfer/outfiles/tmp_companies.txt",
        "f9c5eef23e4e79ee735a7bab11bfa729 (02:44): ls: /mnt/remote/cc7-db/xfer/outfiles/tmp_companies.txt: No such file or directory",
        "f9c5eef23e4e79ee735a7bab11bfa729 (02:45): $ ls -l /mnt/remote/cc7-db/xfer/outfiles/*companies*",
        "f9c5eef23e4e79ee735a7bab11bfa729 (02:45): -rw-rw-rw-    1 502      502          3513 Sep 13 14:43 /mnt/remote/cc7-db/xfer/outfiles/tmp_companies.txt",
        "f9c5eef23e4e79ee735a7bab11bfa729 (02:45): doh!",
        "f9c5eef23e4e79ee735a7bab11bfa729 (02:46): I just want a network filesystem that never caches directory info.. seems like a reasonable request. ;)",
        "869bc7b89036e2454e91cbfe9faaf52a (02:46): if you hate your network, sure",
        "869bc7b89036e2454e91cbfe9faaf52a (02:46): or the server",
        "869bc7b89036e2454e91cbfe9faaf52a (02:46): the cache is to save the server really",
        "f9c5eef23e4e79ee735a7bab11bfa729 (02:47): Or if I have complete control over the application.",
        "f9c5eef23e4e79ee735a7bab11bfa729 (02:48): I get the mindset behind caching. I also assert that one should be able to bypass it.",
        "f9c5eef23e4e79ee735a7bab11bfa729 (02:48): even with NFS.. you can specify 'noac' for no attribute caching, and it still fails to pick up the file immediately.",
        "869bc7b89036e2454e91cbfe9faaf52a (02:48): check out &quot; csc policy&quot; on the server",
        "869bc7b89036e2454e91cbfe9faaf52a (02:51): there used to be a time setting too, I don't see it though",
        "869bc7b89036e2454e91cbfe9faaf52a (02:51): hm, there's  kernel change notify",
        "f9c5eef23e4e79ee735a7bab11bfa729 (02:52): hmmm good find",
        "f9c5eef23e4e79ee735a7bab11bfa729 (02:52): I disabled csc..",
        "f9c5eef23e4e79ee735a7bab11bfa729 (02:52): cifs still seemed to not work at all...",
        "f9c5eef23e4e79ee735a7bab11bfa729 (02:52): never showing the files until the directory was read.",
        "f9c5eef23e4e79ee735a7bab11bfa729 (02:52): smbfs still using 1ms ttl even when ttl=0",
        "869bc7b89036e2454e91cbfe9faaf52a (02:52): oh wow, wins hook is interesting",
        "869bc7b89036e2454e91cbfe9faaf52a (02:53): not for your case, but interesting",
        "fd86930bdc924529a06ed7a1682ae278 (02:54): Can anyone tell me how to sort out this message?  nmbd/nmbd_browsesync.c:collect_all_workgroup_names_from_wins_server(588)",
        "869bc7b89036e2454e91cbfe9faaf52a (02:54): fluvvell: looks normal to me",
        "f9c5eef23e4e79ee735a7bab11bfa729 (02:55): ||cw: I'm going to just stick with NFS at this point. Its behavior is predictable, though still not what I want.",
        "fd86930bdc924529a06ed7a1682ae278 (02:55): yeah but its followed by Cannot find my workgroup  MYWORKGROUP on subnet UNICAST_SUBNET",
        "869bc7b89036e2454e91cbfe9faaf52a (02:56): SpamapS: FWIW, given the choice for linix&lt;-&gt;linux, I'd use nfs anyway",
        "869bc7b89036e2454e91cbfe9faaf52a (02:56): fluvvell: so there's no master and its not in WINS yet",
        "fd86930bdc924529a06ed7a1682ae278 (02:56): I'm trying to get it to be the master",
        "fd86930bdc924529a06ed7a1682ae278 (02:58): i have      wins support = yes",
        "869bc7b89036e2454e91cbfe9faaf52a (02:58): is it the only wins server on the subnet?",
        "fd86930bdc924529a06ed7a1682ae278 (02:59): i have 3 linux boxes, and one that boots into win98 or linux depending on my daughters frame of mind :-)",
        "869bc7b89036e2454e91cbfe9faaf52a (03:00): k, so long as there is only one wins server, and all the client are configured to use it",
        "869bc7b89036e2454e91cbfe9faaf52a (03:00): if none are, you get nothing",
        "fd86930bdc924529a06ed7a1682ae278 (03:01): ||cw should winbind be running?",
        "869bc7b89036e2454e91cbfe9faaf52a (03:01): only if you have a windows domain",
        "fd86930bdc924529a06ed7a1682ae278 (03:01): as opposed to a workgroup?",
        "f9c5eef23e4e79ee735a7bab11bfa729 (03:02): ||cw: right, I was just using smb/cifs thinking it might offer more control",
        "869bc7b89036e2454e91cbfe9faaf52a (03:03): fluvvell: no, and actual windows server as a domain controler",
        "f9c5eef23e4e79ee735a7bab11bfa729 (03:03): the fact that NFS's 'noac' doesn't really mean no attribute caching, it just means &quot;very very very short attribute caching&quot; is really frustrating.",
        "fd86930bdc924529a06ed7a1682ae278 (03:05): ||cw, I have no windows server software - so then no domain controller correct?  I have installed samba as a fileserver in about 4 small companies and it seems like its time I really got to grips with name resolution. None of them have windows server, just XP home or pro",
        "fd86930bdc924529a06ed7a1682ae278 (03:06): but when my home system grizzles about the workgroup I sometimes wonder if I know anything at all!",
        "869bc7b89036e2454e91cbfe9faaf52a (03:06): then winbind does nothing for you",
        "869bc7b89036e2454e91cbfe9faaf52a (03:06): also look into dhcp+dns, like dnsmasq",
        "fd86930bdc924529a06ed7a1682ae278 (03:07): well I use shorewall with masq for the internet masquerading",
        "869bc7b89036e2454e91cbfe9faaf52a (03:07): not that kind of masq",
        "fd86930bdc924529a06ed7a1682ae278 (03:07): ah?",
        "869bc7b89036e2454e91cbfe9faaf52a (03:07): in fact, I have no idea what it has masq in the name",
        "fd86930bdc924529a06ed7a1682ae278 (03:07): and I normally use dhcpd",
        "869bc7b89036e2454e91cbfe9faaf52a (03:07): it's dns+dhcp, unified",
        "869bc7b89036e2454e91cbfe9faaf52a (03:08): right, this hands out the dhcp and adds a dns entry",
        "fd86930bdc924529a06ed7a1682ae278 (03:08): which I feel I have a fairly good understading of. But dnsmasq is new to me",
        "869bc7b89036e2454e91cbfe9faaf52a (03:08): super easy",
        "fd86930bdc924529a06ed7a1682ae278 (03:08): you have my interest...",
        "fd86930bdc924529a06ed7a1682ae278 (03:09): is there a project page for it",
        "fd86930bdc924529a06ed7a1682ae278 (03:09): ?",
        "869bc7b89036e2454e91cbfe9faaf52a (03:09): took me about 30 mintes the first time, another 30 to work out static names and how to get linux dhclient to tell the dhcp server what its name is",
        "869bc7b89036e2454e91cbfe9faaf52a (03:09): yeah, google :)",
        "fd86930bdc924529a06ed7a1682ae278 (03:09): he he",
        "869bc7b89036e2454e91cbfe9faaf52a (03:09): apt-get install dnsmasq works too",
        "fd86930bdc924529a06ed7a1682ae278 (03:10): cool, I'm currently into ubuntu",
        "fd86930bdc924529a06ed7a1682ae278 (03:10): and am replacing my fedora servers with it... slowly and carefully",
        "fd86930bdc924529a06ed7a1682ae278 (03:11): so should I take out dhcpd ?",
        "fd86930bdc924529a06ed7a1682ae278 (03:12): perhaps thats a moot question",
        "869bc7b89036e2454e91cbfe9faaf52a (03:12): they wouldn conflict, yes",
        "869bc7b89036e2454e91cbfe9faaf52a (03:13): dsmasq draw mack is you can't have a slave server",
        "869bc7b89036e2454e91cbfe9faaf52a (03:13): hot standby maybe",
        "869bc7b89036e2454e91cbfe9faaf52a (03:15): and there are ways to do the intigration with dhcpd and bind, but it's not all that easy",
        "fd86930bdc924529a06ed7a1682ae278 (03:17): yes, I've tried to understand how to integrate them but have failed miserably.",
        "fd86930bdc924529a06ed7a1682ae278 (03:18): but I don't need a slave server at this point as my networks are all quite small &lt;12 users",
        "fd86930bdc924529a06ed7a1682ae278 (03:19): however, I've just noticed this one spitting the dummy as I have been working on installing nis, and there have been some issues... (my home network is my experimental area)",
        "fd86930bdc924529a06ed7a1682ae278 (03:22): ||cw, my big five would be nis, samba, dns, ldap and dhcp working together in harmony.   I'm moderately competant in samba and dhcp, and now my clients are asking about being able to work from any pc in the office.",
        "f9c5eef23e4e79ee735a7bab11bfa729 (03:33): Anyone know how far away a stable samba4 is?",
        "f9c5eef23e4e79ee735a7bab11bfa729 (03:34): I just priced out a Win2k3 ES Domain Controller for my company.. $5000 ... how ridiculous is that? :-P",
        "50d9175a46bf1bae3c54fe45b1ab930e (03:36): fluvvell add to that ddns and ti would be sweet",
        "50d9175a46bf1bae3c54fe45b1ab930e (03:37): spamaps,i 'm just wondering why do you want samba4 to replace win2k3.. ???",
        "50d9175a46bf1bae3c54fe45b1ab930e (03:38): what's new on samba4 or what is missing from samba3 to do that?",
        "f9c5eef23e4e79ee735a7bab11bfa729 (03:39): AD",
        "f9c5eef23e4e79ee735a7bab11bfa729 (03:39): I want single signon for my Windows, Mac, and Linux clients",
        "f9c5eef23e4e79ee735a7bab11bfa729 (03:39): If I can accomplish that with samba3 at the core, then I'm all for it!",
        "50d9175a46bf1bae3c54fe45b1ab930e (03:39): have you tried samba + ldap??",
        "f9c5eef23e4e79ee735a7bab11bfa729 (03:40): ldap has no single signon capability, does it?",
        "f9c5eef23e4e79ee735a7bab11bfa729 (03:40): I don't want single password.",
        "50d9175a46bf1bae3c54fe45b1ab930e (03:40): hmmm..   samba + pdc + ldap",
        "f9c5eef23e4e79ee735a7bab11bfa729 (03:40): I want them to login to their box, and thats it. Browser, file sharing, ssh clients, all work off that auth.",
        "50d9175a46bf1bae3c54fe45b1ab930e (03:40): with ldap you can hook apache, squid,",
        "50d9175a46bf1bae3c54fe45b1ab930e (03:40): ssh",
        "50d9175a46bf1bae3c54fe45b1ab930e (03:40): etc",
        "f9c5eef23e4e79ee735a7bab11bfa729 (03:41): LDAP just presents a central auth store.",
        "f9c5eef23e4e79ee735a7bab11bfa729 (03:41): Its kerberos that gives you the real power.",
        "50d9175a46bf1bae3c54fe45b1ab930e (03:41): technically sso covers all kind of applications...",
        "50d9175a46bf1bae3c54fe45b1ab930e (03:41): ahhh i know what you want..",
        "50d9175a46bf1bae3c54fe45b1ab930e (03:41): i've read about adding kerberos to smb + pdc + ldap",
        "f9c5eef23e4e79ee735a7bab11bfa729 (03:41): the more you ask a user for their password, the dumber they'll make it. ;)",
        "50d9175a46bf1bae3c54fe45b1ab930e (03:42): but haven't tested yet",
        "50d9175a46bf1bae3c54fe45b1ab930e (03:42): yeap",
        "50d9175a46bf1bae3c54fe45b1ab930e (03:42): you're right.",
        "f9c5eef23e4e79ee735a7bab11bfa729 (03:42): Not to mention its just f'ing cool to have that kind of capability.",
        "50d9175a46bf1bae3c54fe45b1ab930e (03:42): but i believe that kerberos can be added to the mix...  gonna research about that.",
        "50d9175a46bf1bae3c54fe45b1ab930e (03:42): sound pretty cool",
        "f9c5eef23e4e79ee735a7bab11bfa729 (03:52): any preliminary hits andres?"
    ],
    "person_ids": [
        "f9c5eef23e4e79ee735a7bab11bfa729",
        "635fef0c0ce3dd3b9a8895544a8cecad",
        "869bc7b89036e2454e91cbfe9faaf52a",
        "fd86930bdc924529a06ed7a1682ae278",
        "50d9175a46bf1bae3c54fe45b1ab930e"
    ]
}